{"version":3,"sources":["../../../../src/app/review/page.tsx","../../../../src/components/PreTradeChecklist.tsx","../../../../src/components/TradeUpdateModal.tsx","../../../../src/components/TradeUpdatesList.tsx","../../../../src/components/PostTradeReflection.tsx","../../../../src/components/VoiceRecorder.tsx","../../../../src/components/ScreenshotUploader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { FiBookOpen, FiCheckCircle, FiClock, FiTrendingUp } from 'react-icons/fi';\r\nimport DashboardHeader from '@/components/DashboardHeader';\r\nimport AnimatedCard from '@/components/AnimatedCard';\r\nimport PreTradeChecklist from '@/components/PreTradeChecklist';\r\nimport TradeUpdatesList from '@/components/TradeUpdatesList';\r\nimport PostTradeReflection from '@/components/PostTradeReflection';\r\nimport VoiceRecorder from '@/components/VoiceRecorder';\r\nimport ScreenshotUploader from '@/components/ScreenshotUploader';\r\nimport { useTheme } from '@/context/ThemeContext';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport toast from 'react-hot-toast';\r\n\r\ninterface Trade {\r\n  id: string;\r\n  pair: string;\r\n  direction: string;\r\n  entryPrice: number;\r\n  exitPrice?: number;\r\n  entryTime: string;\r\n  exitTime?: string;\r\n  outcome?: string;\r\n  profitLoss?: number;\r\n  emotionalState?: string;\r\n  strategy?: string;\r\n  status: string;\r\n}\r\n\r\nexport default function TradeReviewPage() {\r\n  const { theme, toggleTheme } = useTheme();\r\n  const [mounted] = useState(() => typeof window !== 'undefined');\r\n  const [selectedTradeId, setSelectedTradeId] = useState<string | null>(null);\r\n  const [trades, setTrades] = useState<Trade[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState<'checklist' | 'updates' | 'reflection' | 'media'>('checklist');\r\n\r\n  useEffect(() => {\r\n    if (!mounted) return;\r\n    loadTrades();\r\n  }, [mounted]);\r\n\r\n  const loadTrades = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await fetch('/api/trades', {\r\n        headers: {\r\n          'x-user-id': 'demo-user',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to load trades');\r\n      }\r\n\r\n      const data = await response.json();\r\n      setTrades(data);\r\n    } catch (error) {\r\n      console.error('Error loading trades:', error);\r\n      toast.error('Failed to load trades');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const selectedTrade = trades.find(t => t.id === selectedTradeId);\r\n\r\n  const tabs = [\r\n    { id: 'checklist' as const, label: 'Pre-Trade Checklist', icon: FiCheckCircle },\r\n    { id: 'updates' as const, label: 'Trade Updates', icon: FiClock },\r\n    { id: 'reflection' as const, label: 'Post-Trade Reflection', icon: FiBookOpen },\r\n    { id: 'media' as const, label: 'Media & Notes', icon: FiTrendingUp }\r\n  ];\r\n\r\n  if (!mounted) {\r\n    return <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\" />;\r\n  }\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', backgroundColor: 'var(--background)' }}>\r\n      <DashboardHeader onThemeToggle={toggleTheme} currentTheme={theme} />\r\n\r\n      <main style={{ maxWidth: '1200px', margin: '0 auto', padding: '32px 16px' }}>\r\n        {/* Header Section */}\r\n        <div style={{ marginBottom: '32px' }}>\r\n          <h1 style={{ fontSize: '32px', fontWeight: '700', color: 'var(--text-primary)', marginBottom: '8px' }}>\r\n            Trade Lifecycle Review\r\n          </h1>\r\n          <p style={{ fontSize: '16px', color: 'var(--text-secondary)', margin: 0 }}>\r\n            Complete pre-trade preparation, track in-trade decisions, and reflect on outcomes\r\n          </p>\r\n        </div>\r\n\r\n        {/* Tab Navigation */}\r\n        <div style={{ marginBottom: '24px' }}>\r\n          <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n            {tabs.map((tab) => {\r\n              const Icon = tab.icon;\r\n              return (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id)}\r\n                  style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px',\r\n                    padding: '12px 16px',\r\n                    borderRadius: '8px',\r\n                    border: 'none',\r\n                    backgroundColor: activeTab === tab.id ? 'var(--purple-base)' : 'transparent',\r\n                    color: activeTab === tab.id ? 'white' : 'var(--text-secondary)',\r\n                    cursor: 'pointer',\r\n                    fontWeight: '600',\r\n                    fontSize: '14px',\r\n                    transition: 'all 0.2s ease',\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    if (activeTab !== tab.id) {\r\n                      e.currentTarget.style.backgroundColor = 'var(--panel-muted)';\r\n                    }\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    if (activeTab !== tab.id) {\r\n                      e.currentTarget.style.backgroundColor = 'transparent';\r\n                    }\r\n                  }}\r\n                >\r\n                  <Icon size={16} />\r\n                  <span>{tab.label}</span>\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content Area */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '24px' }}>\r\n          {/* Trades List Sidebar */}\r\n          <div style={{ backgroundColor: 'var(--card-bg)', border: '1px solid var(--card-border)', borderRadius: '12px', padding: '20px' }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '16px' }}>\r\n              <h2 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', margin: 0 }}>\r\n                Recent Trades\r\n              </h2>\r\n              <div style={{ fontSize: '12px', color: 'var(--text-secondary)' }}>\r\n                {trades.length} total\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ maxHeight: '400px', overflowY: 'auto' }}>\r\n              {isLoading ? (\r\n                <div style={{ display: 'flex', justifyContent: 'center', padding: '32px' }}>\r\n                  <div style={{\r\n                    width: '24px',\r\n                    height: '24px',\r\n                    border: '2px solid var(--card-border)',\r\n                    borderTop: '2px solid var(--purple-base)',\r\n                    borderRadius: '50%',\r\n                    animation: 'spin 1s linear infinite'\r\n                  }}></div>\r\n                </div>\r\n              ) : trades.length > 0 ? (\r\n                <div style={{ display: 'grid', gap: '8px' }}>\r\n                  {trades.map((trade) => (\r\n                    <button\r\n                      key={trade.id}\r\n                      onClick={() => setSelectedTradeId(trade.id)}\r\n                      style={{\r\n                        width: '100%',\r\n                        textAlign: 'left',\r\n                        padding: '12px',\r\n                        borderRadius: '8px',\r\n                        border: selectedTradeId === trade.id ? '2px solid var(--purple-base)' : '1px solid var(--card-border)',\r\n                        backgroundColor: selectedTradeId === trade.id ? 'var(--panel-muted)' : 'var(--card-bg)',\r\n                        cursor: 'pointer',\r\n                        transition: 'all 0.2s ease',\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        if (selectedTradeId !== trade.id) {\r\n                          e.currentTarget.style.backgroundColor = 'var(--panel-muted)';\r\n                        }\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        if (selectedTradeId !== trade.id) {\r\n                          e.currentTarget.style.backgroundColor = selectedTradeId === trade.id ? 'var(--panel-muted)' : 'var(--card-bg)';\r\n                        }\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: '14px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '4px' }}>\r\n                        {trade.pair} {trade.direction}\r\n                      </div>\r\n                      <div style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '4px' }}>\r\n                        {new Date(trade.entryTime).toLocaleDateString()}\r\n                      </div>\r\n                      <div style={{\r\n                        fontSize: '12px',\r\n                        fontWeight: '600',\r\n                        color: trade.outcome === 'WIN' ? '#10b981' : trade.outcome === 'LOSS' ? '#ef4444' : 'var(--text-secondary)'\r\n                      }}>\r\n                        {trade.outcome || 'Open'}\r\n                      </div>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div style={{ textAlign: 'center', padding: '32px' }}>\r\n                  <div style={{ fontSize: '48px', marginBottom: '16px' }}>ðŸ“Š</div>\r\n                  <h3 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '8px' }}>\r\n                    No Trades Yet\r\n                  </h3>\r\n                  <p style={{ fontSize: '14px', color: 'var(--text-secondary)' }}>\r\n                    Start trading to begin reviewing your performance\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main Content Area */}\r\n          <div style={{ backgroundColor: 'var(--card-bg)', border: '1px solid var(--card-border)', borderRadius: '12px', padding: '20px' }}>\r\n            {selectedTrade ? (\r\n              <div style={{ display: 'grid', gap: '20px' }}>\r\n                {/* Trade Summary */}\r\n                <div>\r\n                  <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '16px' }}>\r\n                    <h2 style={{ fontSize: '18px', fontWeight: '600', color: 'var(--text-primary)', margin: 0 }}>\r\n                      {selectedTrade.pair} - {selectedTrade.direction}\r\n                    </h2>\r\n                    <span style={{\r\n                      padding: '4px 12px',\r\n                      borderRadius: '20px',\r\n                      fontSize: '12px',\r\n                      fontWeight: '600',\r\n                      backgroundColor: selectedTrade.status === 'closed' ? '#dcfce7' : selectedTrade.status === 'open' ? '#dbeafe' : 'var(--panel-muted)',\r\n                      color: selectedTrade.status === 'closed' ? '#166534' : selectedTrade.status === 'open' ? '#1e40af' : 'var(--text-secondary)',\r\n                    }}>\r\n                      {selectedTrade.status}\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: '16px' }}>\r\n                    <div style={{ padding: '12px', backgroundColor: 'var(--panel-muted)', borderRadius: '6px' }}>\r\n                      <div style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '4px' }}>Entry Price</div>\r\n                      <div style={{ fontSize: '14px', fontWeight: '600', color: 'var(--text-primary)' }}>\r\n                        {selectedTrade.entryPrice.toFixed(5)}\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ padding: '12px', backgroundColor: 'var(--panel-muted)', borderRadius: '6px' }}>\r\n                      <div style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '4px' }}>Exit Price</div>\r\n                      <div style={{ fontSize: '14px', fontWeight: '600', color: 'var(--text-primary)' }}>\r\n                        {selectedTrade.exitPrice?.toFixed(5) || 'Open'}\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ padding: '12px', backgroundColor: 'var(--panel-muted)', borderRadius: '6px' }}>\r\n                      <div style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '4px' }}>P&L</div>\r\n                      <div style={{\r\n                        fontSize: '14px',\r\n                        fontWeight: '600',\r\n                        color: (selectedTrade.profitLoss || 0) >= 0 ? '#10b981' : '#ef4444'\r\n                      }}>\r\n                        {selectedTrade.profitLoss?.toFixed(2) || 'N/A'}\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ padding: '12px', backgroundColor: 'var(--panel-muted)', borderRadius: '6px' }}>\r\n                      <div style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '4px' }}>Outcome</div>\r\n                      <div style={{ fontSize: '14px', fontWeight: '600', color: 'var(--text-primary)' }}>\r\n                        {selectedTrade.outcome || 'Open'}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Tab Content */}\r\n                <div style={{ minHeight: '400px' }}>\r\n                  {activeTab === 'checklist' && (\r\n                    <PreTradeChecklist\r\n                      tradeId={selectedTrade.id}\r\n                      onChecklistComplete={(completedItems) => {\r\n                        toast.success('Pre-trade checklist completed!');\r\n                      }}\r\n                    />\r\n                  )}\r\n\r\n                  {activeTab === 'updates' && (\r\n                    <TradeUpdatesList tradeId={selectedTrade.id} />\r\n                  )}\r\n\r\n                  {activeTab === 'reflection' && (\r\n                    <PostTradeReflection\r\n                      tradeId={selectedTrade.id}\r\n                      onReflectionComplete={(reflection) => {\r\n                        toast.success('Post-trade reflection saved!');\r\n                      }}\r\n                    />\r\n                  )}\r\n\r\n                  {activeTab === 'media' && (\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '16px' }}>\r\n                      <div style={{ backgroundColor: 'var(--panel-muted)', borderRadius: '8px', padding: '16px' }}>\r\n                        <h3 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '12px' }}>\r\n                          Voice Notes\r\n                        </h3>\r\n                        <VoiceRecorder />\r\n                      </div>\r\n\r\n                      <div style={{ backgroundColor: 'var(--panel-muted)', borderRadius: '8px', padding: '16px' }}>\r\n                        <h3 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '12px' }}>\r\n                          Screenshots\r\n                        </h3>\r\n                        <ScreenshotUploader />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div style={{ textAlign: 'center', padding: '64px 32px' }}>\r\n                <div style={{ fontSize: '64px', marginBottom: '24px' }}>ðŸ“ˆ</div>\r\n                <h3 style={{ fontSize: '20px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '12px' }}>\r\n                  Select a Trade to Review\r\n                </h3>\r\n                <p style={{ fontSize: '16px', color: 'var(--text-secondary)', marginBottom: '24px' }}>\r\n                  Choose a trade from the sidebar to access the complete lifecycle review\r\n                </p>\r\n                <button\r\n                  onClick={() => setSelectedTradeId(trades[0]?.id || null)}\r\n                  disabled={trades.length === 0}\r\n                  style={{\r\n                    padding: '12px 24px',\r\n                    background: 'linear-gradient(135deg, var(--purple-base) 0%, var(--purple-dark) 100%)',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '8px',\r\n                    cursor: trades.length > 0 ? 'pointer' : 'not-allowed',\r\n                    fontWeight: '600',\r\n                    fontSize: '14px',\r\n                    opacity: trades.length > 0 ? 1 : 0.5,\r\n                  }}\r\n                >\r\n                  Select First Trade\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      <Toaster position=\"bottom-right\" />\r\n    </div>\r\n  );\r\n}\r\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiCheck, FiX, FiAlertCircle, FiTarget, FiTrendingUp, FiShield, FiHeart } from 'react-icons/fi';\nimport AnimatedCard from '@/components/AnimatedCard';\nimport toast from 'react-hot-toast';\n\ninterface ChecklistItem {\n  id: string;\n  label: string;\n  description: string;\n  icon: React.ComponentType<{ className?: string }>;\n  required: boolean;\n  category: 'setup' | 'risk' | 'emotional' | 'market';\n}\n\ninterface PreTradeChecklistProps {\n  tradeId?: string;\n  onChecklistComplete?: (completedItems: string[]) => void;\n  onChecklistChange?: (completedItems: string[], isComplete: boolean) => void;\n  className?: string;\n}\n\nconst checklistItems: ChecklistItem[] = [\n  {\n    id: 'htf_bias',\n    label: 'Higher Timeframe Bias',\n    description: 'Market bias on higher timeframe aligns with trade direction',\n    icon: FiTrendingUp,\n    required: true,\n    category: 'market'\n  },\n  {\n    id: 'poi_identified',\n    label: 'Points of Interest',\n    description: 'Key levels, support/resistance, and POI identified',\n    icon: FiTarget,\n    required: true,\n    category: 'setup'\n  },\n  {\n    id: 'entry_rules',\n    label: 'Entry Rules Met',\n    description: 'All strategy entry criteria satisfied',\n    icon: FiCheck,\n    required: true,\n    category: 'setup'\n  },\n  {\n    id: 'session_respect',\n    label: 'Session Respect',\n    description: 'Trading within appropriate session time',\n    icon: FiTarget,\n    required: false,\n    category: 'market'\n  },\n  {\n    id: 'risk_rules',\n    label: 'Risk Rules',\n    description: 'Position size and risk limits respected',\n    icon: FiShield,\n    required: true,\n    category: 'risk'\n  },\n  {\n    id: 'emotional_state',\n    label: 'Emotional State',\n    description: 'Calm, focused, and disciplined mindset',\n    icon: FiHeart,\n    required: true,\n    category: 'emotional'\n  }\n];\n\nconst categoryColors = {\n  setup: 'bg-blue-500',\n  risk: 'bg-red-500',\n  emotional: 'bg-purple-500',\n  market: 'bg-green-500'\n};\n\nconst categoryLabels = {\n  setup: 'Setup',\n  risk: 'Risk',\n  emotional: 'Emotional',\n  market: 'Market'\n};\n\nexport default function PreTradeChecklist({\n  tradeId,\n  onChecklistComplete,\n  onChecklistChange,\n  className = ''\n}: PreTradeChecklistProps) {\n  const [completedItems, setCompletedItems] = useState<Set<string>>(new Set());\n  const [isLoading, setIsLoading] = useState(false);\n  const [savedState, setSavedState] = useState<Set<string>>(new Set());\n\n  // Load saved checklist state if tradeId provided\n  useEffect(() => {\n    if (tradeId) {\n      loadChecklistState();\n    }\n  }, [tradeId]);\n\n  const loadChecklistState = async () => {\n    if (!tradeId) return;\n\n    try {\n      const response = await fetch(`/api/trades/${tradeId}/checklist`, {\n        headers: {\n          'x-user-id': 'demo-user',\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        const completedItems = Array.isArray(data.completedItems) ? data.completedItems : [];\n        const saved = new Set(completedItems.filter((item: any) => typeof item === 'string') as string[]);\n        setCompletedItems(saved);\n        setSavedState(saved);\n      }\n    } catch (error) {\n      console.error('Failed to load checklist state:', error);\n    }\n  };\n\n  const saveChecklistState = async (items: Set<string>) => {\n    if (!tradeId) return;\n\n    setIsLoading(true);\n    try {\n      const response = await fetch(`/api/trades/${tradeId}/checklist`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-user-id': 'demo-user',\n        },\n        body: JSON.stringify({\n          completedItems: Array.from(items)\n        }),\n      });\n\n      if (response.ok) {\n        setSavedState(new Set(items));\n        toast.success('Checklist saved');\n      } else {\n        toast.error('Failed to save checklist');\n      }\n    } catch (error) {\n      console.error('Failed to save checklist:', error);\n      toast.error('Failed to save checklist');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const toggleItem = (itemId: string) => {\n    const newCompleted = new Set(completedItems);\n    if (newCompleted.has(itemId)) {\n      newCompleted.delete(itemId);\n    } else {\n      newCompleted.add(itemId);\n    }\n\n    setCompletedItems(newCompleted);\n\n    // Auto-save if tradeId provided\n    if (tradeId) {\n      saveChecklistState(newCompleted);\n    }\n\n    // Notify parent components\n    const requiredItems = checklistItems.filter(item => item.required).map(item => item.id);\n    const isComplete = requiredItems.every(id => newCompleted.has(id));\n\n    onChecklistChange?.(Array.from(newCompleted), isComplete);\n\n    if (isComplete && !completedItems.has(itemId)) {\n      onChecklistComplete?.(Array.from(newCompleted));\n    }\n  };\n\n  const requiredItems = checklistItems.filter(item => item.required);\n  const isComplete = requiredItems.every(item => completedItems.has(item.id));\n  const completionPercentage = Math.round((completedItems.size / checklistItems.length) * 100);\n\n  const itemsByCategory = checklistItems.reduce((acc, item) => {\n    if (!acc[item.category]) {\n      acc[item.category] = [];\n    }\n    acc[item.category].push(item);\n    return acc;\n  }, {} as Record<string, ChecklistItem[]>);\n\n  return (\n    <AnimatedCard className={`p-6 ${className}`}>\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            Pre-Trade Checklist\n          </h3>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n            Complete all required items before entering the trade\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"text-right\">\n            <div className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              {completionPercentage}%\n            </div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n              Complete\n            </div>\n          </div>\n          {isComplete ? (\n            <FiCheck className=\"w-8 h-8 text-green-500\" />\n          ) : (\n            <FiAlertCircle className=\"w-8 h-8 text-yellow-500\" />\n          )}\n        </div>\n      </div>\n\n      {/* Progress Bar */}\n      <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-6\">\n        <motion.div\n          className=\"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full\"\n          initial={{ width: 0 }}\n          animate={{ width: `${completionPercentage}%` }}\n          transition={{ duration: 0.5 }}\n        />\n      </div>\n\n      {/* Checklist Items by Category */}\n      <div className=\"space-y-6\">\n        {Object.entries(itemsByCategory).map(([category, items]) => (\n          <div key={category}>\n            <div className=\"flex items-center mb-3\">\n              <div className={`w-3 h-3 rounded-full ${categoryColors[category as keyof typeof categoryColors]} mr-2`} />\n              <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide\">\n                {categoryLabels[category as keyof typeof categoryLabels]}\n              </h4>\n            </div>\n\n            <div className=\"space-y-3 ml-5\">\n              {items.map((item) => {\n                const Icon = item.icon;\n                const isCompleted = completedItems.has(item.id);\n                const isRequired = item.required;\n\n                return (\n                  <motion.div\n                    key={item.id}\n                    className={`flex items-start space-x-3 p-3 rounded-lg border-2 transition-all cursor-pointer ${\n                      isCompleted\n                        ? 'border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20'\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                    }`}\n                    onClick={() => toggleItem(item.id)}\n                    whileHover={{ scale: 1.02 }}\n                    whileTap={{ scale: 0.98 }}\n                  >\n                    <div className={`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center border-2 ${\n                      isCompleted\n                        ? 'bg-green-500 border-green-500 text-white'\n                        : 'border-gray-300 dark:border-gray-600'\n                    }`}>\n                      {isCompleted ? (\n                        <FiCheck className=\"w-4 h-4\" />\n                      ) : (\n                        <div className=\"w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-600\" />\n                      )}\n                    </div>\n\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center space-x-2\">\n                        <Icon className={`w-4 h-4 ${isCompleted ? 'text-green-600' : 'text-gray-400'}`} />\n                        <span className={`text-sm font-medium ${\n                          isCompleted ? 'text-green-800 dark:text-green-200' : 'text-gray-900 dark:text-white'\n                        }`}>\n                          {item.label}\n                          {isRequired && <span className=\"text-red-500 ml-1\">*</span>}\n                        </span>\n                      </div>\n                      <p className={`text-xs mt-1 ${\n                        isCompleted ? 'text-green-700 dark:text-green-300' : 'text-gray-600 dark:text-gray-400'\n                      }`}>\n                        {item.description}\n                      </p>\n                    </div>\n                  </motion.div>\n                );\n              })}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Completion Status */}\n      <div className=\"mt-6 p-4 rounded-lg bg-gray-50 dark:bg-gray-800\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            {isComplete ? (\n              <>\n                <FiCheck className=\"w-5 h-5 text-green-500\" />\n                <span className=\"text-sm font-medium text-green-700 dark:text-green-300\">\n                  All required items completed!\n                </span>\n              </>\n            ) : (\n              <>\n                <FiAlertCircle className=\"w-5 h-5 text-yellow-500\" />\n                <span className=\"text-sm font-medium text-yellow-700 dark:text-yellow-300\">\n                  {requiredItems.length - requiredItems.filter(item => completedItems.has(item.id)).length} required items remaining\n                </span>\n              </>\n            )}\n          </div>\n\n          {isLoading && (\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\n              <span className=\"text-xs text-gray-500\">Saving...</span>\n            </div>\n          )}\n        </div>\n      </div>\n    </AnimatedCard>\n  );\n}","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiX, FiPlus, FiSave, FiClock } from 'react-icons/fi';\nimport Modal from '@/components/Modal';\nimport AnimatedCard from '@/components/AnimatedCard';\nimport toast from 'react-hot-toast';\n\ninterface TradeUpdate {\n  id: string;\n  action: string;\n  reason?: string;\n  emotionalState?: string;\n  behavior?: string[];\n  notes?: string;\n  timestamp: string;\n}\n\ninterface TradeUpdateModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  tradeId: string;\n  onUpdateAdded?: (update: TradeUpdate) => void;\n  existingUpdates?: TradeUpdate[];\n}\n\nconst actionOptions = [\n  { value: 'none', label: 'No Action', description: 'Monitoring the trade' },\n  { value: 'sl_moved', label: 'Stop Loss Moved', description: 'Adjusted stop loss level' },\n  { value: 'tp_adjusted', label: 'Take Profit Adjusted', description: 'Modified profit target' },\n  { value: 'partial_close', label: 'Partial Close', description: 'Closed portion of position' },\n  { value: 'manual_close', label: 'Manual Close', description: 'Closed entire position manually' }\n];\n\nconst reasonOptions = [\n  { value: 'followed_plan', label: 'Followed Plan', description: 'Executed according to strategy' },\n  { value: 'market_structure', label: 'Market Structure', description: 'Responding to price action' },\n  { value: 'emotional', label: 'Emotional Response', description: 'Reacted based on emotions' },\n  { value: 'fear', label: 'Fear', description: 'Fear-driven decision' },\n  { value: 'greed', label: 'Greed', description: 'Greed-driven decision' },\n  { value: 'uncertainty', label: 'Uncertainty', description: 'Uncertain market conditions' },\n  { value: 'distraction', label: 'Distraction', description: 'Lost focus or distracted' }\n];\n\nconst emotionalStates = [\n  { value: 'calm', label: 'Calm', color: 'bg-green-100 text-green-800' },\n  { value: 'confident', label: 'Confident', color: 'bg-blue-100 text-blue-800' },\n  { value: 'anxious', label: 'Anxious', color: 'bg-yellow-100 text-yellow-800' },\n  { value: 'hesitant', label: 'Hesitant', color: 'bg-orange-100 text-orange-800' },\n  { value: 'overconfident', label: 'Overconfident', color: 'bg-purple-100 text-purple-800' },\n  { value: 'fearful', label: 'Fearful', color: 'bg-red-100 text-red-800' },\n  { value: 'impulsive', label: 'Impulsive', color: 'bg-pink-100 text-pink-800' },\n  { value: 'detached', label: 'Detached', color: 'bg-gray-100 text-gray-800' }\n];\n\nconst behaviorOptions = [\n  { value: 'disciplined', label: 'Disciplined', description: 'Following rules consistently' },\n  { value: 'patient', label: 'Patient', description: 'Waiting for proper setup' },\n  { value: 'focused', label: 'Focused', description: 'Maintaining attention' },\n  { value: 'impulsive', label: 'Impulsive', description: 'Acting without thinking' },\n  { value: 'fearful', label: 'Fearful', description: 'Avoiding necessary actions' },\n  { value: 'greedy', label: 'Greedy', description: 'Taking excessive risk' },\n  { value: 'distracted', label: 'Distracted', description: 'Not fully engaged' },\n  { value: 'overconfident', label: 'Overconfident', description: 'Taking unnecessary risks' }\n];\n\nexport default function TradeUpdateModal({\n  isOpen,\n  onClose,\n  tradeId,\n  onUpdateAdded,\n  existingUpdates = []\n}: TradeUpdateModalProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [update, setUpdate] = useState<TradeUpdate>({\n    id: '',\n    action: 'none',\n    reason: '',\n    emotionalState: '',\n    behavior: [],\n    notes: '',\n    timestamp: new Date().toISOString()\n  });\n\n  const resetForm = () => {\n    setUpdate({\n      id: '',\n      action: 'none',\n      reason: '',\n      emotionalState: '',\n      behavior: [],\n      notes: '',\n      timestamp: new Date().toISOString()\n    });\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!update.action) {\n      toast.error('Please select an action');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const response = await fetch(`/api/trades/${tradeId}/updates`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-user-id': 'demo-user',\n        },\n        body: JSON.stringify({\n          action: update.action,\n          reason: update.reason || null,\n          emotionalState: update.emotionalState || null,\n          behavior: update.behavior && update.behavior.length > 0 ? update.behavior : null,\n          notes: update.notes || null\n        }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || 'Failed to add update');\n      }\n\n      const newUpdate = await response.json();\n      toast.success('Trade update added successfully');\n\n      onUpdateAdded?.(newUpdate);\n      handleClose();\n    } catch (error) {\n      console.error('Error adding trade update:', error);\n      toast.error(error instanceof Error ? error.message : 'Failed to add trade update');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const toggleBehavior = (behaviorValue: string) => {\n    setUpdate(prev => ({\n      ...prev,\n      behavior: prev.behavior?.includes(behaviorValue)\n        ? prev.behavior.filter(b => b !== behaviorValue)\n        : [...(prev.behavior || []), behaviorValue]\n    }));\n  };\n\n  return (\n    <Modal open={isOpen} onClose={handleClose}>\n      <motion.div\n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n        exit={{ opacity: 0, scale: 0.95 }}\n        style={{\n          background: 'var(--background)',\n          borderRadius: '12px',\n          boxShadow: 'var(--shadow-lg)',\n          maxWidth: '800px',\n          width: '100%',\n          margin: '0 16px',\n          maxHeight: '90vh',\n          overflowY: 'auto'\n        }}\n      >\n        {/* Header */}\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          padding: '24px',\n          borderBottom: '1px solid var(--border)'\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n            <div style={{\n              width: '40px',\n              height: '40px',\n              background: 'var(--accent-bg)',\n              borderRadius: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}>\n              <FiClock style={{ width: '20px', height: '20px', color: 'var(--accent-color)' }} />\n            </div>\n            <div>\n              <h2 style={{\n                fontSize: '20px',\n                fontWeight: '600',\n                color: 'var(--text-primary)',\n                margin: '0'\n              }}>\n                Add Trade Update\n              </h2>\n              <p style={{\n                fontSize: '14px',\n                color: 'var(--text-secondary)',\n                margin: '4px 0 0 0'\n              }}>\n                Record changes and observations during the trade\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={handleClose}\n            style={{\n              padding: '8px',\n              background: 'transparent',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              color: 'var(--text-secondary)',\n              transition: 'background 0.2s'\n            }}\n            onMouseEnter={(e) => e.currentTarget.style.background = 'var(--hover-bg)'}\n            onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}\n          >\n            <FiX style={{ width: '20px', height: '20px' }} />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} style={{ padding: '24px', display: 'flex', flexDirection: 'column', gap: '24px' }}>\n          {/* Action Selection */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '14px',\n              fontWeight: '500',\n              color: 'var(--text-primary)',\n              marginBottom: '12px'\n            }}>\n              What action did you take?\n            </label>\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr', gap: '12px' }}>\n              {actionOptions.map((action) => (\n                <label\n                  key={action.value}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'flex-start',\n                    gap: '12px',\n                    padding: '16px',\n                    borderRadius: '8px',\n                    border: update.action === action.value ? '2px solid var(--accent-color)' : '2px solid var(--border)',\n                    background: update.action === action.value ? 'var(--accent-bg)' : 'var(--card-bg)',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s'\n                  }}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"action\"\n                    value={action.value}\n                    checked={update.action === action.value}\n                    onChange={(e) => setUpdate(prev => ({ ...prev, action: e.target.value }))}\n                    style={{ marginTop: '2px' }}\n                  />\n                  <div style={{ flex: 1 }}>\n                    <div style={{\n                      fontWeight: '500',\n                      color: 'var(--text-primary)',\n                      marginBottom: '4px'\n                    }}>\n                      {action.label}\n                    </div>\n                    <div style={{\n                      fontSize: '14px',\n                      color: 'var(--text-secondary)'\n                    }}>\n                      {action.description}\n                    </div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Reason Selection */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '14px',\n              fontWeight: '500',\n              color: 'var(--text-primary)',\n              marginBottom: '12px'\n            }}>\n              Why did you take this action?\n            </label>\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '12px' }}>\n              {reasonOptions.map((reason) => (\n                <label\n                  key={reason.value}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'flex-start',\n                    gap: '8px',\n                    padding: '16px',\n                    borderRadius: '8px',\n                    border: update.reason === reason.value ? '2px solid var(--accent-color)' : '2px solid var(--border)',\n                    background: update.reason === reason.value ? 'var(--accent-bg)' : 'var(--card-bg)',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s'\n                  }}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"reason\"\n                    value={reason.value}\n                    checked={update.reason === reason.value}\n                    onChange={(e) => setUpdate(prev => ({ ...prev, reason: e.target.value }))}\n                    style={{ marginTop: '2px' }}\n                  />\n                  <div style={{ fontSize: '12px' }}>\n                    <div style={{\n                      fontWeight: '500',\n                      color: 'var(--text-primary)'\n                    }}>\n                      {reason.label}\n                    </div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Emotional State */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '14px',\n              fontWeight: '500',\n              color: 'var(--text-primary)',\n              marginBottom: '12px'\n            }}>\n              How were you feeling?\n            </label>\n            <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>\n              {emotionalStates.map((state) => (\n                <button\n                  key={state.value}\n                  type=\"button\"\n                  onClick={() => setUpdate(prev => ({\n                    ...prev,\n                    emotionalState: prev.emotionalState === state.value ? '' : state.value\n                  }))}\n                  style={{\n                    padding: '8px 16px',\n                    borderRadius: '20px',\n                    fontSize: '14px',\n                    fontWeight: '500',\n                    border: 'none',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s',\n                    background: update.emotionalState === state.value ? state.color : 'var(--card-bg)',\n                    color: update.emotionalState === state.value ? 'white' : 'var(--text-primary)',\n                    boxShadow: update.emotionalState === state.value ? '0 0 0 2px var(--accent-color)' : 'none'\n                  }}\n                >\n                  {state.label}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Behavior Flags */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '14px',\n              fontWeight: '500',\n              color: 'var(--text-primary)',\n              marginBottom: '12px'\n            }}>\n              How did you behave during this update?\n            </label>\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '12px' }}>\n              {behaviorOptions.map((behavior) => (\n                <label\n                  key={behavior.value}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'flex-start',\n                    gap: '8px',\n                    padding: '16px',\n                    borderRadius: '8px',\n                    border: update.behavior?.includes(behavior.value) ? '2px solid var(--success-color)' : '2px solid var(--border)',\n                    background: update.behavior?.includes(behavior.value) ? 'var(--success-bg)' : 'var(--card-bg)',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s'\n                  }}\n                >\n                  <input\n                    type=\"checkbox\"\n                    checked={update.behavior?.includes(behavior.value) || false}\n                    onChange={() => toggleBehavior(behavior.value)}\n                    style={{ marginTop: '2px' }}\n                  />\n                  <div style={{ fontSize: '12px', flex: 1 }}>\n                    <div style={{\n                      fontWeight: '500',\n                      color: 'var(--text-primary)',\n                      marginBottom: '4px'\n                    }}>\n                      {behavior.label}\n                    </div>\n                    <div style={{\n                      color: 'var(--text-secondary)',\n                      lineHeight: '1.4'\n                    }}>\n                      {behavior.description}\n                    </div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Notes */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '14px',\n              fontWeight: '500',\n              color: 'var(--text-primary)',\n              marginBottom: '8px'\n            }}>\n              Additional Notes\n            </label>\n            <textarea\n              value={update.notes}\n              onChange={(e) => setUpdate(prev => ({ ...prev, notes: e.target.value }))}\n              placeholder=\"Any additional observations or thoughts...\"\n              rows={3}\n              style={{\n                width: '100%',\n                padding: '12px',\n                border: '1px solid var(--border)',\n                borderRadius: '8px',\n                background: 'var(--card-bg)',\n                color: 'var(--text-primary)',\n                fontSize: '14px',\n                resize: 'vertical',\n                outline: 'none',\n                transition: 'border-color 0.2s'\n              }}\n              onFocus={(e) => e.currentTarget.style.borderColor = 'var(--accent-color)'}\n              onBlur={(e) => e.currentTarget.style.borderColor = 'var(--border)'}\n            />\n          </div>\n\n          {/* Submit Button */}\n          <div style={{\n            display: 'flex',\n            justifyContent: 'flex-end',\n            gap: '12px',\n            paddingTop: '16px',\n            borderTop: '1px solid var(--border)'\n          }}>\n            <button\n              type=\"button\"\n              onClick={handleClose}\n              style={{\n                padding: '8px 16px',\n                background: 'transparent',\n                border: 'none',\n                borderRadius: '6px',\n                color: 'var(--text-secondary)',\n                cursor: 'pointer',\n                fontSize: '14px',\n                transition: 'background 0.2s'\n              }}\n              onMouseEnter={(e) => e.currentTarget.style.background = 'var(--hover-bg)'}\n              onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={isSubmitting}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                padding: '8px 24px',\n                background: isSubmitting ? 'var(--disabled-bg)' : 'var(--accent-color)',\n                border: 'none',\n                borderRadius: '6px',\n                color: 'white',\n                cursor: isSubmitting ? 'not-allowed' : 'pointer',\n                fontSize: '14px',\n                fontWeight: '500',\n                transition: 'background 0.2s'\n              }}\n              onMouseEnter={(e) => {\n                if (!isSubmitting) e.currentTarget.style.background = 'var(--accent-hover)';\n              }}\n              onMouseLeave={(e) => {\n                if (!isSubmitting) e.currentTarget.style.background = 'var(--accent-color)';\n              }}\n            >\n              {isSubmitting ? (\n                <>\n                  <div style={{\n                    width: '16px',\n                    height: '16px',\n                    border: '2px solid transparent',\n                    borderTop: '2px solid white',\n                    borderRadius: '50%',\n                    animation: 'spin 1s linear infinite'\n                  }} />\n                  <span>Saving...</span>\n                </>\n              ) : (\n                <>\n                  <FiSave style={{ width: '16px', height: '16px' }} />\n                  <span>Add Update</span>\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n      </motion.div>\n    </Modal>\n  );\n}","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiClock, FiTrendingUp, FiTrendingDown, FiMinus, FiX, FiEdit3, FiPlus } from 'react-icons/fi';\nimport AnimatedCard from '@/components/AnimatedCard';\nimport TradeUpdateModal from '@/components/TradeUpdateModal';\n\ninterface TradeUpdate {\n  id: string;\n  action: string;\n  reason?: string;\n  emotionalState?: string;\n  behavior?: string[];\n  notes?: string;\n  timestamp: string;\n}\n\ninterface TradeUpdatesListProps {\n  tradeId: string;\n  className?: string;\n}\n\nconst actionIcons = {\n  none: FiMinus,\n  sl_moved: FiTrendingDown,\n  tp_adjusted: FiTrendingUp,\n  partial_close: FiPlus,\n  manual_close: FiX\n};\n\nconst actionColors = {\n  none: 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200',\n  sl_moved: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200',\n  tp_adjusted: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200',\n  partial_close: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200',\n  manual_close: 'bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200'\n};\n\nconst emotionalStateColors = {\n  calm: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200',\n  confident: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200',\n  anxious: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200',\n  hesitant: 'bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200',\n  overconfident: 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200',\n  fearful: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200',\n  impulsive: 'bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200',\n  detached: 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200'\n};\n\nconst reasonLabels = {\n  followed_plan: 'Followed Plan',\n  market_structure: 'Market Structure',\n  emotional: 'Emotional',\n  fear: 'Fear',\n  greed: 'Greed',\n  uncertainty: 'Uncertainty',\n  distraction: 'Distraction'\n};\n\nexport default function TradeUpdatesList({ tradeId, className = '' }: TradeUpdatesListProps) {\n  const [updates, setUpdates] = useState<TradeUpdate[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n\n  useEffect(() => {\n    loadUpdates();\n  }, [tradeId]);\n\n  const loadUpdates = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      const response = await fetch(`/api/trades/${tradeId}/updates`, {\n        headers: {\n          'x-user-id': 'demo-user',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to load trade updates');\n      }\n\n      const data = await response.json();\n      setUpdates(data);\n    } catch (error) {\n      console.error('Error loading trade updates:', error);\n      setError(error instanceof Error ? error.message : 'Failed to load updates');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleUpdateAdded = (newUpdate: TradeUpdate) => {\n    setUpdates(prev => [...prev, newUpdate].sort((a, b) =>\n      new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime()\n    ));\n  };\n\n  const formatTimestamp = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffMins = Math.floor(diffMs / (1000 * 60));\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n\n    if (diffMins < 1) return 'Just now';\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    if (diffDays < 7) return `${diffDays}d ago`;\n\n    return date.toLocaleDateString();\n  };\n\n  if (isLoading) {\n    return (\n      <AnimatedCard className={`p-6 ${className}`}>\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n          <span className=\"ml-3 text-gray-600 dark:text-gray-400\">Loading updates...</span>\n        </div>\n      </AnimatedCard>\n    );\n  }\n\n  if (error) {\n    return (\n      <AnimatedCard className={`p-6 ${className}`}>\n        <div className=\"text-center py-8\">\n          <div className=\"text-red-500 mb-2\">Failed to load trade updates</div>\n          <button\n            onClick={loadUpdates}\n            className=\"text-blue-600 hover:text-blue-700 underline\"\n          >\n            Try again\n          </button>\n        </div>\n      </AnimatedCard>\n    );\n  }\n\n  return (\n    <>\n      <AnimatedCard className={`p-6 ${className}`}>\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center\">\n              <FiClock className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                Trade Updates\n              </h3>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                {updates.length} update{updates.length !== 1 ? 's' : ''} recorded\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={() => setShowUpdateModal(true)}\n            className=\"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\n          >\n            <FiEdit3 className=\"w-4 h-4\" />\n            <span>Add Update</span>\n          </button>\n        </div>\n\n        {updates.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <FiClock className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n            <h4 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\n              No updates yet\n            </h4>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n              Record changes and observations as the trade progresses\n            </p>\n            <button\n              onClick={() => setShowUpdateModal(true)}\n              className=\"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\n            >\n              <FiPlus className=\"w-4 h-4\" />\n              <span>Add First Update</span>\n            </button>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {updates.map((update, index) => {\n              const ActionIcon = actionIcons[update.action as keyof typeof actionIcons] || FiMinus;\n\n              return (\n                <motion.div\n                  key={update.id}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className=\"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors\"\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex items-start space-x-4 flex-1\">\n                      {/* Action Badge */}\n                      <div className={`flex-shrink-0 px-3 py-1 rounded-full text-xs font-medium ${actionColors[update.action as keyof typeof actionColors] || actionColors.none}`}>\n                        <ActionIcon className=\"w-3 h-3 inline mr-1\" />\n                        {update.action.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\n                      </div>\n\n                      {/* Update Content */}\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center space-x-2 mb-2\">\n                          <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n                            {formatTimestamp(update.timestamp)}\n                          </span>\n                          {update.reason && (\n                            <span className=\"text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded\">\n                              {reasonLabels[update.reason as keyof typeof reasonLabels] || update.reason}\n                            </span>\n                          )}\n                        </div>\n\n                        {/* Emotional State */}\n                        {update.emotionalState && (\n                          <div className=\"mb-2\">\n                            <span className={`inline-block px-2 py-1 rounded-full text-xs font-medium ${emotionalStateColors[update.emotionalState as keyof typeof emotionalStateColors] || 'bg-gray-100 text-gray-800'}`}>\n                              Feeling: {update.emotionalState.replace(/\\b\\w/g, l => l.toUpperCase())}\n                            </span>\n                          </div>\n                        )}\n\n                        {/* Behavior Flags */}\n                        {update.behavior && update.behavior.length > 0 && (\n                          <div className=\"mb-2\">\n                            <div className=\"flex flex-wrap gap-1\">\n                              {update.behavior.map((behavior) => (\n                                <span\n                                  key={behavior}\n                                  className=\"inline-block px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded text-xs\"\n                                >\n                                  {behavior.replace(/\\b\\w/g, l => l.toUpperCase())}\n                                </span>\n                              ))}\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Notes */}\n                        {update.notes && (\n                          <div className=\"text-sm text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg\">\n                            {update.notes}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </motion.div>\n              );\n            })}\n          </div>\n        )}\n      </AnimatedCard>\n\n      <TradeUpdateModal\n        isOpen={showUpdateModal}\n        onClose={() => setShowUpdateModal(false)}\n        tradeId={tradeId}\n        onUpdateAdded={handleUpdateAdded}\n        existingUpdates={updates}\n      />\n    </>\n  );\n}","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiCheck, FiX, FiSave, FiTarget, FiHeart, FiTrendingUp, FiBookOpen } from 'react-icons/fi';\nimport AnimatedCard from '@/components/AnimatedCard';\nimport toast from 'react-hot-toast';\n\ninterface PostTradeReflectionProps {\n  tradeId: string;\n  onReflectionComplete?: (reflection: any) => void;\n  className?: string;\n}\n\nconst executionQualityOptions = [\n  { value: 'yes', label: 'Yes', description: 'Fully followed the plan' },\n  { value: 'mostly', label: 'Mostly', description: 'Minor deviations only' },\n  { value: 'no', label: 'No', description: 'Significant deviations' }\n];\n\nconst emotionalStates = [\n  { value: 'calm', label: 'Calm', color: 'bg-green-100 text-green-800' },\n  { value: 'confident', label: 'Confident', color: 'bg-blue-100 text-blue-800' },\n  { value: 'anxious', label: 'Anxious', color: 'bg-yellow-100 text-yellow-800' },\n  { value: 'hesitant', label: 'Hesitant', color: 'bg-orange-100 text-orange-800' },\n  { value: 'overconfident', label: 'Overconfident', color: 'bg-purple-100 text-purple-800' },\n  { value: 'fearful', label: 'Fearful', color: 'bg-red-100 text-red-800' },\n  { value: 'impulsive', label: 'Impulsive', color: 'bg-pink-100 text-pink-800' },\n  { value: 'detached', label: 'Detached', color: 'bg-gray-100 text-gray-800' }\n];\n\nconst behavioralOutcomes = [\n  { value: 'disciplined', label: 'Disciplined', description: 'Followed all rules' },\n  { value: 'patient', label: 'Patient', description: 'Waited for proper setup' },\n  { value: 'focused', label: 'Focused', description: 'Maintained attention' },\n  { value: 'impulsive', label: 'Impulsive', description: 'Acted without thinking' },\n  { value: 'fearful', label: 'Fearful', description: 'Avoided necessary actions' },\n  { value: 'greedy', label: 'Greedy', description: 'Took excessive risk' },\n  { value: 'distracted', label: 'Distracted', description: 'Lost focus' },\n  { value: 'overconfident', label: 'Overconfident', description: 'Took unnecessary risks' }\n];\n\nexport default function PostTradeReflection({\n  tradeId,\n  onReflectionComplete,\n  className = ''\n}: PostTradeReflectionProps) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [reflection, setReflection] = useState({\n    followedPlan: '',\n    rulesRespected: '',\n    emotionalSummary: [] as string[],\n    behavioralOutcomes: [] as string[],\n    whatWentRight: '',\n    whatWentWrong: '',\n    lessonLearned: '',\n    ruleToReinforce: ''\n  });\n\n  useEffect(() => {\n    loadExistingReflection();\n  }, [tradeId]);\n\n  const loadExistingReflection = async () => {\n    try {\n      setIsLoading(true);\n      const response = await fetch(`/api/trades/${tradeId}/reflection`, {\n        headers: {\n          'x-user-id': 'demo-user',\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setReflection({\n          followedPlan: data.followedPlan || '',\n          rulesRespected: data.rulesRespected || '',\n          emotionalSummary: data.emotionalSummary ? JSON.parse(data.emotionalSummary) : [],\n          behavioralOutcomes: data.behavioralOutcomes ? JSON.parse(data.behavioralOutcomes) : [],\n          whatWentRight: data.whatWentRight || '',\n          whatWentWrong: data.whatWentWrong || '',\n          lessonLearned: data.lessonLearned || '',\n          ruleToReinforce: data.ruleToReinforce || ''\n        });\n      }\n    } catch (error) {\n      console.error('Failed to load reflection:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Basic validation\n    if (!reflection.followedPlan || !reflection.rulesRespected) {\n      toast.error('Please complete the execution quality assessment');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const response = await fetch(`/api/trades/${tradeId}/reflection`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-user-id': 'demo-user',\n        },\n        body: JSON.stringify({\n          followedPlan: reflection.followedPlan,\n          rulesRespected: reflection.rulesRespected,\n          emotionalSummary: reflection.emotionalSummary,\n          behavioralOutcomes: reflection.behavioralOutcomes,\n          whatWentRight: reflection.whatWentRight,\n          whatWentWrong: reflection.whatWentWrong,\n          lessonLearned: reflection.lessonLearned,\n          ruleToReinforce: reflection.ruleToReinforce\n        }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || 'Failed to save reflection');\n      }\n\n      const savedReflection = await response.json();\n      toast.success('Reflection saved successfully');\n\n      onReflectionComplete?.(savedReflection);\n    } catch (error) {\n      console.error('Error saving reflection:', error);\n      toast.error(error instanceof Error ? error.message : 'Failed to save reflection');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const toggleEmotionalState = (state: string) => {\n    setReflection(prev => ({\n      ...prev,\n      emotionalSummary: prev.emotionalSummary.includes(state)\n        ? prev.emotionalSummary.filter(s => s !== state)\n        : [...prev.emotionalSummary, state]\n    }));\n  };\n\n  const toggleBehavioralOutcome = (outcome: string) => {\n    setReflection(prev => ({\n      ...prev,\n      behavioralOutcomes: prev.behavioralOutcomes.includes(outcome)\n        ? prev.behavioralOutcomes.filter(o => o !== outcome)\n        : [...prev.behavioralOutcomes, outcome]\n    }));\n  };\n\n  if (isLoading) {\n    return (\n      <AnimatedCard className={`p-6 ${className}`}>\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n          <span className=\"ml-3 text-gray-600 dark:text-gray-400\">Loading reflection...</span>\n        </div>\n      </AnimatedCard>\n    );\n  }\n\n  return (\n    <AnimatedCard className={`p-6 ${className}`}>\n      <div className=\"flex items-center space-x-3 mb-6\">\n        <div className=\"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center\">\n          <FiBookOpen className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n        </div>\n        <div>\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            Post-Trade Reflection\n          </h3>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n            Analyze what happened and learn from the experience\n          </p>\n        </div>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Execution Quality Assessment */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n              Did you follow your trading plan?\n            </label>\n            <div className=\"space-y-2\">\n              {executionQualityOptions.map((option) => (\n                <label\n                  key={option.value}\n                  className={`flex items-center space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${\n                    reflection.followedPlan === option.value\n                      ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                      : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                  }`}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"followedPlan\"\n                    value={option.value}\n                    checked={reflection.followedPlan === option.value}\n                    onChange={(e) => setReflection(prev => ({ ...prev, followedPlan: e.target.value }))}\n                    className=\"text-blue-600\"\n                  />\n                  <div>\n                    <div className=\"font-medium text-gray-900 dark:text-white\">{option.label}</div>\n                    <div className=\"text-sm text-gray-600 dark:text-gray-400\">{option.description}</div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n              Did you respect your trading rules?\n            </label>\n            <div className=\"space-y-2\">\n              {executionQualityOptions.map((option) => (\n                <label\n                  key={`rules-${option.value}`}\n                  className={`flex items-center space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${\n                    reflection.rulesRespected === option.value\n                      ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                      : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                  }`}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"rulesRespected\"\n                    value={option.value}\n                    checked={reflection.rulesRespected === option.value}\n                    onChange={(e) => setReflection(prev => ({ ...prev, rulesRespected: e.target.value }))}\n                    className=\"text-blue-600\"\n                  />\n                  <div>\n                    <div className=\"font-medium text-gray-900 dark:text-white\">{option.label}</div>\n                    <div className=\"text-sm text-gray-600 dark:text-gray-400\">{option.description}</div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Emotional Summary */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n            How did you feel during and after the trade?\n          </label>\n          <div className=\"flex flex-wrap gap-2\">\n            {emotionalStates.map((state) => (\n              <button\n                key={state.value}\n                type=\"button\"\n                onClick={() => toggleEmotionalState(state.value)}\n                className={`px-3 py-2 rounded-full text-sm font-medium transition-all ${\n                  reflection.emotionalSummary.includes(state.value)\n                    ? state.color + ' ring-2 ring-offset-2 ring-blue-500'\n                    : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'\n                }`}\n              >\n                {state.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Behavioral Outcomes */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n            How did you behave during this trade?\n          </label>\n          <div className=\"grid grid-cols-2 gap-3\">\n            {behavioralOutcomes.map((outcome) => (\n              <label\n                key={outcome.value}\n                className={`flex items-start space-x-2 p-3 rounded-lg border cursor-pointer transition-all ${\n                  reflection.behavioralOutcomes.includes(outcome.value)\n                    ? 'border-green-500 bg-green-50 dark:bg-green-900/20'\n                    : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                }`}\n              >\n                <input\n                  type=\"checkbox\"\n                  checked={reflection.behavioralOutcomes.includes(outcome.value)}\n                  onChange={() => toggleBehavioralOutcome(outcome.value)}\n                  className=\"mt-0.5\"\n                />\n                <div className=\"text-xs\">\n                  <div className=\"font-medium text-gray-900 dark:text-white\">\n                    {outcome.label}\n                  </div>\n                  <div className=\"text-gray-600 dark:text-gray-400\">\n                    {outcome.description}\n                  </div>\n                </div>\n              </label>\n            ))}\n          </div>\n        </div>\n\n        {/* What Went Right/Wrong */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              What went right?\n            </label>\n            <textarea\n              value={reflection.whatWentRight}\n              onChange={(e) => setReflection(prev => ({ ...prev, whatWentRight: e.target.value }))}\n              placeholder=\"What did you do well in this trade?\"\n              rows={4}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              What went wrong?\n            </label>\n            <textarea\n              value={reflection.whatWentWrong}\n              onChange={(e) => setReflection(prev => ({ ...prev, whatWentWrong: e.target.value }))}\n              placeholder=\"What could you have done better?\"\n              rows={4}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            />\n          </div>\n        </div>\n\n        {/* Lessons Learned */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Key lesson learned\n            </label>\n            <textarea\n              value={reflection.lessonLearned}\n              onChange={(e) => setReflection(prev => ({ ...prev, lessonLearned: e.target.value }))}\n              placeholder=\"What's the most important takeaway from this trade?\"\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Rule to reinforce\n            </label>\n            <textarea\n              value={reflection.ruleToReinforce}\n              onChange={(e) => setReflection(prev => ({ ...prev, ruleToReinforce: e.target.value }))}\n              placeholder=\"Which trading rule should you focus on reinforcing?\"\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            />\n          </div>\n        </div>\n\n        {/* Submit Button */}\n        <div className=\"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700\">\n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className=\"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg transition-colors\"\n          >\n            {isSubmitting ? (\n              <>\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                <span>Saving...</span>\n              </>\n            ) : (\n              <>\n                <FiSave className=\"w-4 h-4\" />\n                <span>Save Reflection</span>\n              </>\n            )}\n          </button>\n        </div>\n      </form>\n    </AnimatedCard>\n  );\n}","'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport { FiMic, FiStopCircle, FiPlay, FiTrash2 } from 'react-icons/fi';\r\n\r\ninterface VoiceRecorderProps {\r\n  onRecordingSaved?: (audioUrl: string) => void;\r\n}\r\n\r\nexport default function VoiceRecorder({ onRecordingSaved }: VoiceRecorderProps) {\r\n  const mediaRecorder = useRef<MediaRecorder | null>(null);\r\n  const audioChunks = useRef<Blob[]>([]);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [recordings, setRecordings] = useState<Array<{\r\n    id: string;\r\n    url: string;\r\n    duration: number;\r\n    timestamp: Date;\r\n    uploaded?: boolean;\r\n  }>>([]);\r\n  \r\n  const [playingId, setPlayingId] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    let interval: NodeJS.Timeout;\r\n    if (isRecording) {\r\n      interval = setInterval(() => {\r\n        setRecordingTime(prev => prev + 1);\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isRecording]);\r\n\r\n  const startRecording = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      mediaRecorder.current = new MediaRecorder(stream);\r\n      audioChunks.current = [];\r\n\r\n      mediaRecorder.current.ondataavailable = (event) => {\r\n        audioChunks.current.push(event.data);\r\n      };\r\n\r\n      mediaRecorder.current.onstop = () => {\r\n        (async () => {\r\n          const audioBlob = new Blob(audioChunks.current, { type: 'audio/webm' });\r\n          const url = URL.createObjectURL(audioBlob);\r\n          const recording = {\r\n            id: Date.now().toString(),\r\n            url,\r\n            duration: recordingTime,\r\n            timestamp: new Date(),\r\n            uploaded: false,\r\n          };\r\n\r\n          // Optimistically add local recording\r\n          setRecordings(prev => [recording, ...prev]);\r\n          onRecordingSaved?.(url);\r\n\r\n          // Try uploading to server\r\n          try {\r\n            const fd = new FormData();\r\n            fd.append('file', audioBlob, `voice-${Date.now()}.webm`);\r\n\r\n            const res = await fetch('/api/voice-notes', {\r\n              method: 'POST',\r\n              body: fd,\r\n              headers: {\r\n                'x-user-id': 'demo-user',\r\n              },\r\n            });\r\n\r\n            if (res.ok) {\r\n              const data = await res.json();\r\n              // If API returns stored URL, replace local URL\r\n              if (data?.url) {\r\n                setRecordings(prev => prev.map(r => r.id === recording.id ? { ...r, url: data.url, uploaded: true } : r));\r\n              } else {\r\n                setRecordings(prev => prev.map(r => r.id === recording.id ? { ...r, uploaded: true } : r));\r\n              }\r\n              toast.success('Voice note uploaded');\r\n            } else {\r\n              toast('Saved locally (upload failed)', { icon: 'âš ï¸' });\r\n            }\r\n          } catch (err) {\r\n            console.error('Voice upload failed', err);\r\n            toast('Saved locally (upload failed)', { icon: 'âš ï¸' });\r\n          }\r\n        })();\r\n      };\r\n\r\n      mediaRecorder.current.start();\r\n      setIsRecording(true);\r\n      setRecordingTime(0);\r\n    } catch (error) {\r\n      toast.error('Unable to access microphone');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorder.current && isRecording) {\r\n      mediaRecorder.current.stop();\r\n      setIsRecording(false);\r\n      mediaRecorder.current.stream.getTracks().forEach(track => track.stop());\r\n    }\r\n  };\r\n\r\n  const deleteRecording = (id: string) => {\r\n    setRecordings(prev => prev.filter(r => r.id !== id));\r\n  };\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Recording Controls */}\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg p-6 border border-gray-200 dark:border-slate-700\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Voice Notes</h3>\r\n\r\n        {/* Recording Interface */}\r\n        <div className=\"flex items-center gap-4 mb-4 flex-wrap\">\r\n          {!isRecording ? (\r\n            <button\r\n              onClick={startRecording}\r\n              className=\"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors\"\r\n              aria-label=\"Start recording voice note\"\r\n            >\r\n              <FiMic className=\"w-5 h-5\" />\r\n              Start Recording\r\n            </button>\r\n          ) : (\r\n            <>\r\n              <button\r\n                onClick={stopRecording}\r\n                className=\"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors\"\r\n                aria-label=\"Stop recording\"\r\n                aria-live=\"polite\"\r\n              >\r\n                <FiStopCircle className=\"w-5 h-5\" />\r\n                Stop\r\n              </button>\r\n              <div className=\"text-lg font-bold text-red-600 dark:text-red-400\" aria-live=\"polite\">\r\n                Recording: {formatTime(recordingTime)}\r\n              </div>\r\n              <div className=\"flex-1 h-1 bg-red-300 dark:bg-red-900 rounded-full relative overflow-hidden min-w-[100px]\">\r\n                <div className=\"h-full bg-red-600 animate-pulse\" style={{width: '30%'}} />\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Recorded Clips */}\r\n        {recordings.length > 0 && (\r\n          <div className=\"space-y-3\">\r\n            <h4 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Recordings ({recordings.length})</h4>\r\n            {recordings.map(recording => (\r\n              <div\r\n                key={recording.id}\r\n                className=\"flex items-center justify-between bg-gray-50 dark:bg-slate-700 p-3 rounded-lg\"\r\n              >\r\n                <div className=\"flex items-center gap-3 flex-1\">\r\n                  <button\r\n                    onClick={() => setPlayingId(playingId === recording.id ? null : recording.id)}\r\n                    className=\"p-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors\"\r\n                    aria-label={playingId === recording.id ? 'Pause recording' : 'Play recording'}\r\n                  >\r\n                    <FiPlay className=\"w-4 h-4\" />\r\n                  </button>\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                      {recording.timestamp.toLocaleTimeString()}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                      Duration: {formatTime(recording.duration)}\r\n                      {recording.uploaded && <span className=\"ml-2\">âœ“ Uploaded</span>}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={() => deleteRecording(recording.id)}\r\n                  className=\"p-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors\"\r\n                  aria-label={`Delete recording from ${recording.timestamp.toLocaleTimeString()}`}\r\n                >\r\n                  <FiTrash2 className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {recordings.length === 0 && !isRecording && (\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 text-center py-6\">\r\n            No recordings yet. Start recording to add voice notes to your trades.\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Hidden Audio Player */}\r\n      {playingId && (\r\n        <audio\r\n          key={playingId}\r\n          src={recordings.find(r => r.id === playingId)?.url}\r\n          autoPlay\r\n          controls\r\n          className=\"w-full\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useRef } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport { FiUpload, FiX, FiDownload } from 'react-icons/fi';\r\n\r\ninterface ScreenshotUploaderProps {\r\n  onScreenshotAdded?: (dataUrl: string) => void;\r\n}\r\n\r\nexport default function ScreenshotUploader({ onScreenshotAdded }: ScreenshotUploaderProps) {\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [screenshots, setScreenshots] = useState<Array<{\r\n    id: string;\r\n    url: string;\r\n    caption: string;\r\n    timestamp: Date;\r\n  }>>([]);\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [editCaption, setEditCaption] = useState('');\r\n\r\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = e.currentTarget.files;\r\n    if (!files) return;\r\n\r\n    for (const file of Array.from(files)) {\r\n      try {\r\n        const reader = new FileReader();\r\n        reader.onload = (event) => {\r\n          const dataUrl = event.target?.result as string;\r\n          const screenshot = {\r\n            id: Date.now().toString() + Math.random(),\r\n            url: dataUrl,\r\n            caption: '',\r\n            timestamp: new Date(),\r\n          };\r\n          setScreenshots(prev => [screenshot, ...prev]);\r\n          onScreenshotAdded?.(dataUrl);\r\n          toast.success('Screenshot uploaded');\r\n        };\r\n        reader.readAsDataURL(file);\r\n      } catch (error) {\r\n        toast.error('Failed to upload screenshot');\r\n        console.error(error);\r\n      }\r\n    }\r\n\r\n    // Reset input\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const updateCaption = (id: string, newCaption: string) => {\r\n    setScreenshots(prev =>\r\n      prev.map(s => (s.id === id ? { ...s, caption: newCaption } : s))\r\n    );\r\n    setEditingId(null);\r\n  };\r\n\r\n  const deleteScreenshot = (id: string) => {\r\n    setScreenshots(prev => prev.filter(s => s.id !== id));\r\n  };\r\n\r\n  const downloadScreenshot = (url: string, timestamp: Date) => {\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `trade-setup-${timestamp.toISOString()}.png`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg p-6 border border-gray-200 dark:border-slate-700\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Trade Setup Screenshots</h3>\r\n\r\n        {/* Upload Area */}\r\n        <button\r\n          onClick={() => fileInputRef.current?.click()}\r\n          className=\"w-full border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors\"\r\n          aria-label=\"Upload screenshot by clicking or dragging files\"\r\n        >\r\n          <FiUpload className=\"w-8 h-8 mx-auto mb-2 text-gray-600 dark:text-gray-400\" />\r\n          <p className=\"text-sm font-medium text-gray-900 dark:text-white\">Click to upload or drag & drop</p>\r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400\">PNG, JPG, GIF up to 10MB</p>\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            multiple\r\n            accept=\"image/*\"\r\n            onChange={handleFileSelect}\r\n            className=\"hidden\"\r\n            aria-label=\"File input for screenshots\"\r\n          />\r\n        </button>\r\n\r\n        {/* Screenshots Grid */}\r\n        {screenshots.length > 0 && (\r\n          <div className=\"mt-6\">\r\n            <h4 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4\">Uploads ({screenshots.length})</h4>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n              {screenshots.map(screenshot => (\r\n                <div\r\n                  key={screenshot.id}\r\n                  className=\"relative group bg-gray-100 dark:bg-slate-700 rounded-lg overflow-hidden\"\r\n                >\r\n                  {/* Image */}\r\n                  <img\r\n                    src={screenshot.url}\r\n                    alt=\"Trade setup\"\r\n                    className=\"w-full h-40 object-cover\"\r\n                  />\r\n\r\n                  {/* Overlay */}\r\n                  <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-between p-2\">\r\n                    <button\r\n                      onClick={() => downloadScreenshot(screenshot.url, screenshot.timestamp)}\r\n                      className=\"p-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors\"\r\n                      title=\"Download\"\r\n                    >\r\n                      <FiDownload className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => deleteScreenshot(screenshot.id)}\r\n                      className=\"p-2 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors\"\r\n                      title=\"Delete\"\r\n                    >\r\n                      <FiX className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Caption */}\r\n                  <div className=\"p-3 bg-white dark:bg-slate-800 border-t border-gray-200 dark:border-slate-600\">\r\n                    {editingId === screenshot.id ? (\r\n                      <input\r\n                        autoFocus\r\n                        type=\"text\"\r\n                        value={editCaption}\r\n                        onChange={(e) => setEditCaption(e.target.value)}\r\n                        onBlur={() => updateCaption(screenshot.id, editCaption)}\r\n                        onKeyPress={(e) => {\r\n                          if (e.key === 'Enter') {\r\n                            updateCaption(screenshot.id, editCaption);\r\n                          }\r\n                        }}\r\n                        placeholder=\"Add caption...\"\r\n                        className=\"w-full px-2 py-1 border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-gray-900 dark:text-white text-xs focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                      />\r\n                    ) : (\r\n                      <p\r\n                        onClick={() => {\r\n                          setEditingId(screenshot.id);\r\n                          setEditCaption(screenshot.caption);\r\n                        }}\r\n                        className=\"text-xs text-gray-600 dark:text-gray-400 cursor-pointer hover:text-gray-900 dark:hover:text-white\"\r\n                      >\r\n                        {screenshot.caption || 'Click to add caption...'}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}