module.exports=[73497,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(42029),e=a.i(6704),f=a.i(27348);function g(){let{theme:a,toggleTheme:g}=(0,d.useTheme)(),[h,i]=(0,c.useState)(()=>!1),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(new Date),[n,o]=(0,c.useState)(null);(0,c.useEffect)(()=>{h&&(async()=>{try{let a=await fetch("/api/trades",{headers:{"x-user-id":"demo-user"}});if(!a.ok){let b=null;try{b=await a.json()}catch(c){b=await a.text()}console.error("Failed to fetch trades:",a.status,b),k([]);return}let b=await a.json();if(!Array.isArray(b)){console.warn("Unexpected trades payload in calendar page",b),k([]);return}k(b)}catch(a){console.error("Error fetching trades:",a)}})()},[h]);let p=(0,c.useMemo)(()=>{let a={};return j.forEach(b=>{let c=new Date(b.entryTime).toISOString().split("T")[0];a[c]||(a[c]=[]),a[c].push(b)}),a},[j]),q=Array.from({length:new Date(l.getFullYear(),l.getMonth()+1,0).getDate()},(a,b)=>b+1),r=[...Array.from({length:new Date(l.getFullYear(),l.getMonth(),1).getDay()},(a,b)=>null),...q],s=n&&p[n]||[];return h?(0,b.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[(0,b.jsxs)("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:"32px 16px"},children:[(0,b.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,b.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"8px",margin:0},children:"Trading Calendar"}),(0,b.jsx)("p",{style:{fontSize:"14px",color:"var(--text-secondary)",margin:0},children:"View your trades by day"})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},children:[(0,b.jsxs)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px",gap:"12px"},children:[(0,b.jsx)("h2",{style:{fontSize:"16px",fontWeight:"600",color:"var(--text-primary)",margin:0},children:l.toLocaleString("default",{month:"long",year:"numeric"})}),(0,b.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,b.jsx)("button",{onClick:()=>m(new Date(l.getFullYear(),l.getMonth()-1)),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"6px",border:"1px solid var(--card-border)",backgroundColor:"transparent",color:"var(--text-primary)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:a=>{a.currentTarget.style.borderColor="var(--purple-base)",a.currentTarget.style.boxShadow="0 0 0 2px rgba(139, 92, 246, 0.1)"},onMouseLeave:a=>{a.currentTarget.style.borderColor="var(--card-border)",a.currentTarget.style.boxShadow="none"},"aria-label":"Previous month",children:(0,b.jsx)(f.FiChevronLeft,{size:16})}),(0,b.jsx)("button",{onClick:()=>m(new Date),style:{background:"linear-gradient(135deg, var(--purple-base) 0%, var(--purple-dark) 100%)",color:"white",padding:"6px 12px",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"12px",transition:"all 0.2s ease"},onMouseEnter:a=>{a.currentTarget.style.transform="translateY(-1px)",a.currentTarget.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)"},onMouseLeave:a=>{a.currentTarget.style.transform="translateY(0)",a.currentTarget.style.boxShadow="none"},children:"Today"}),(0,b.jsx)("button",{onClick:()=>m(new Date(l.getFullYear(),l.getMonth()+1)),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"6px",border:"1px solid var(--card-border)",backgroundColor:"transparent",color:"var(--text-primary)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:a=>{a.currentTarget.style.borderColor="var(--purple-base)",a.currentTarget.style.boxShadow="0 0 0 2px rgba(139, 92, 246, 0.1)"},onMouseLeave:a=>{a.currentTarget.style.borderColor="var(--card-border)",a.currentTarget.style.boxShadow="none"},"aria-label":"Next month",children:(0,b.jsx)(f.FiChevronRight,{size:16})})]})]}),(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"4px",marginBottom:"12px"},children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(a=>(0,b.jsx)("div",{style:{textAlign:"center",fontWeight:"600",color:"var(--text-secondary)",fontSize:"11px",padding:"6px"},children:a},a))}),(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"4px"},children:r.map((a,c)=>{let d,e,f;if(null===a)return(0,b.jsx)("div",{},`empty-${c}`);let g=new Date(l.getFullYear(),l.getMonth(),a).toISOString().split("T")[0],h=(e=(d=p[new Date(l.getFullYear(),l.getMonth(),a).toISOString().split("T")[0]]||[]).reduce((a,b)=>a+(b.profitLoss||0),0),f=d.filter(a=>"WIN"===a.outcome).length,{count:d.length,pnl:e,wins:f}),i=n===g,j="transparent",k="var(--text-secondary)",m="var(--card-border)";return i?(j="var(--purple-base)",k="white",m="var(--purple-base)"):h.count>0?h.pnl>=0?(j="rgba(34, 197, 94, 0.1)",k="#22c55e",m="rgba(34, 197, 94, 0.3)"):(j="rgba(239, 68, 68, 0.1)",k="#ef4444",m="rgba(239, 68, 68, 0.3)"):(j="var(--panel-muted)",k="var(--text-secondary)",m="transparent"),(0,b.jsxs)("button",{onClick:()=>o(i?null:g),style:{aspectRatio:"1",padding:"6px",borderRadius:"6px",border:`1px solid ${m}`,backgroundColor:j,color:k,cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"48px"},onMouseEnter:a=>{i||0!==h.count||(a.currentTarget.style.borderColor="var(--purple-base)")},onMouseLeave:a=>{a.currentTarget.style.borderColor=m},children:[(0,b.jsx)("div",{children:a}),h.count>0&&(0,b.jsxs)("div",{style:{fontSize:"9px",marginTop:"2px"},children:[h.count," ",1===h.count?"T":"Ts"]})]},a)})}),(0,b.jsxs)("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid var(--card-border)",display:"flex",gap:"16px",flexWrap:"wrap"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,b.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:"rgba(34, 197, 94, 0.2)",border:"1px solid rgba(34, 197, 94, 0.4)",borderRadius:"4px"}}),(0,b.jsx)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"Winning Day"})]}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,b.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.4)",borderRadius:"4px"}}),(0,b.jsx)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"Losing Day"})]}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,b.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:"var(--panel-muted)",border:"1px solid var(--card-border)",borderRadius:"4px"}}),(0,b.jsx)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"No Trades"})]})]})]}),(0,b.jsxs)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px",maxHeight:"fit-content"},children:[(0,b.jsx)("h2",{style:{fontSize:"16px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"16px",margin:0},children:n?new Date(n+"T00:00:00").toLocaleDateString():"Select a date"}),s.length>0?(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:s.map(a=>(0,b.jsxs)("div",{style:{backgroundColor:"var(--panel-muted)",padding:"12px",borderRadius:"8px",borderLeft:`3px solid ${a.profitLoss&&a.profitLoss>=0?"#22c55e":"#ef4444"}`},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[(0,b.jsx)("span",{style:{fontWeight:"600",color:"var(--text-primary)",fontSize:"13px"},children:a.pair}),(0,b.jsx)("span",{style:{fontSize:"11px",fontWeight:"600",padding:"3px 8px",borderRadius:"4px",backgroundColor:"WIN"===a.outcome?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)",color:"WIN"===a.outcome?"#22c55e":"#ef4444"},children:a.outcome||"Open"})]}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"12px",color:"var(--text-secondary)"},children:[(0,b.jsx)("span",{children:a.direction}),(0,b.jsx)("span",{style:{color:a.profitLoss&&a.profitLoss>=0?"#22c55e":"#ef4444",fontWeight:"600"},children:void 0!==a.profitLoss?`${a.profitLoss>=0?"+":""}${a.profitLoss.toFixed(2)}`:"N/A"})]})]},a.id))}):(0,b.jsx)("p",{style:{fontSize:"13px",color:"var(--text-secondary)",margin:0},children:n?"No trades on this date":"Select a date to view trades"})]})]})]}),(0,b.jsx)(e.Toaster,{position:"bottom-right"})]}):(0,b.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"}})}a.s(["default",()=>g])}];

//# sourceMappingURL=src_app_calendar_page_tsx_ee6c4dc5._.js.map