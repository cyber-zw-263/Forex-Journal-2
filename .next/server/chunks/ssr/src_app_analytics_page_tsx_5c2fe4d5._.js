module.exports=[16683,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(27348),e=a.i(63418),f=a.i(57431),g=a.i(77924),h=a.i(85811),i=a.i(98621),j=a.i(88949),k=a.i(25428),l=a.i(74668),m=a.i(68932),n=a.i(99738),o=a.i(17792),p=a.i(77368),q=a.i(12168),r=a.i(25392),s=a.i(61970),t=a.i(7038),u=a.i(87293),v=a.i(96268);function w(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function x(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?w(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):w(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function y(){return(y=Object.assign.bind()).apply(null,arguments)}function z(a){var b=(0,p.useAppDispatch)();return(0,c.useEffect)(()=>(b((0,o.addDot)(a)),()=>{b((0,o.removeDot)(a))})),null}function A(a){var{x:b,y:d,r:e}=a,f=(0,s.useClipPathId)(),g=((a,b,c,d,e)=>{var f=(0,m.isNumOrStr)(a),g=(0,m.isNumOrStr)(b),h=(0,r.useIsPanorama)(),i=(0,p.useAppSelector)(a=>(0,q.selectAxisScale)(a,"xAxis",c,h)),j=(0,p.useAppSelector)(a=>(0,q.selectAxisScale)(a,"yAxis",d,h));if(!f||!g||null==i||null==j)return null;var k=(0,n.createLabeledScales)({x:i,y:j}),l=k.apply({x:a,y:b},{bandAware:!0});return"discard"!==e||k.isInRange(l)?l:null})(b,d,a.xAxisId,a.yAxisId,a.ifOverflow);if(!g)return null;var{x:h,y:o}=g,{shape:u,className:w,ifOverflow:z}=a,A=x(x({clipPath:"hidden"===z?"url(#".concat(f,")"):void 0},(0,t.svgPropertiesAndEvents)(a)),{},{cx:h,cy:o});return c.createElement(v.ZIndexLayer,{zIndex:a.zIndex},c.createElement(j.Layer,{className:(0,i.clsx)("recharts-reference-dot",w)},c.isValidElement(u)?c.cloneElement(u,A):"function"==typeof u?u(A):c.createElement(k.Dot,y({},A,{cx:A.cx,cy:A.cy,className:"recharts-reference-dot-dot"})),c.createElement(l.CartesianLabelContextProvider,{x:h-e,y:o-e,width:2*e,height:2*e,upperWidth:2*e,lowerWidth:2*e},c.createElement(l.CartesianLabelFromLabelProp,{label:a.label}),a.children)))}var B={ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1,zIndex:a.i(31080).DefaultZIndexes.scatter};function C(a){var b=(0,u.resolveDefaultProps)(a,B),{x:d,y:e,r:f,ifOverflow:g,yAxisId:h,xAxisId:i}=b;return c.createElement(c.Fragment,null,c.createElement(z,{y:e,x:d,r:f,yAxisId:h,xAxisId:i,ifOverflow:g}),c.createElement(A,b))}C.displayName="ReferenceDot";var D=a.i(18155),E=a.i(23665),F=a.i(64321),G=a.i(27165),H=a.i(67149),I=a.i(58042),J=a.i(94222),K=a.i(54419),L=a.i(59854),M=a.i(35112),N=a.i(20353),O=a.i(3190),P=a.i(76805),Q=a.i(52517);function R(){return(R=Object.assign.bind()).apply(null,arguments)}function S(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var T={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function U(a){var b,{data:d,iconType:e,inactiveColor:f}=a,g=32/6,h=32/3,i=d.inactive?f:d.color,j=null!=e?e:d.type;if("none"===j)return null;if("plainline"===j)return c.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:null==(b=d.payload)?void 0:b.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===j)return c.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(16,"h").concat(h,"\n            A").concat(g,",").concat(g,",0,1,1,").concat(2*h,",").concat(16,"\n            H").concat(32,"M").concat(2*h,",").concat(16,"\n            A").concat(g,",").concat(g,",0,1,1,").concat(h,",").concat(16),className:"recharts-legend-icon"});if("rect"===j)return c.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(c.isValidElement(d.legendIcon)){var k=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?S(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):S(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},d);return delete k.legendIcon,c.cloneElement(d.legendIcon,k)}return c.createElement(P.Symbols,{fill:i,cx:16,cy:16,size:32,sizeType:"diameter",type:j})}function V(a){var{payload:b,iconSize:d,layout:e,formatter:f,inactiveColor:g,iconType:h}=a,j={x:0,y:0,width:32,height:32},k={display:"horizontal"===e?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return b.map((b,e)=>{var m=b.formatter||f,n=(0,i.clsx)({"recharts-legend-item":!0,["legend-item-".concat(e)]:!0,inactive:b.inactive});if("none"===b.type)return null;var o=b.inactive?g:b.color,p=m?m(b.value,b,e):b.value;return c.createElement("li",R({className:n,style:k,key:"legend-item-".concat(e)},(0,Q.adaptEventsOfChild)(a,b,e)),c.createElement(O.Surface,{width:d,height:d,viewBox:j,style:l,"aria-label":"".concat(p," legend icon")},c.createElement(U,{data:b,iconType:h,inactiveColor:g})),c.createElement("span",{className:"recharts-legend-item-text",style:{color:o}},p))})}var W=a=>{var b=(0,u.resolveDefaultProps)(a,T),{payload:d,layout:e,align:f}=b;return d&&d.length?c.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===e?f:"left"}},c.createElement(V,R({},b,{payload:d}))):null},X=a.i(63643),Y=a.i(24993),Z=a.i(38620),$=a.i(98382),_=a.i(21402),aa=["contextPayload"];function ab(){return(ab=Object.assign.bind()).apply(null,arguments)}function ac(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ad(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ac(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ac(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ae(a){return a.value}function af(a){var{contextPayload:b}=a,d=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,aa),e=(0,X.getUniqPayload)(b,a.payloadUniqBy,ae),f=ad(ad({},d),{},{payload:e});return c.isValidElement(a.content)?c.cloneElement(a.content,f):"function"==typeof a.content?c.createElement(a.content,f):c.createElement(W,f)}function ag(a){var b=(0,p.useAppDispatch)();return(0,c.useEffect)(()=>{b((0,_.setLegendSettings)(a))},[b,a]),null}function ah(a){var b=(0,p.useAppDispatch)();return(0,c.useEffect)(()=>(b((0,_.setLegendSize)(a)),()=>{b((0,_.setLegendSize)({width:0,height:0}))}),[b,a]),null}var ai={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function aj(a){var b,d=(0,u.resolveDefaultProps)(a,ai),e=(0,p.useAppSelector)(Y.selectLegendPayload),f=(0,N.useLegendPortal)(),g=(0,$.useMargin)(),{width:h,height:i,wrapperStyle:j,portal:k}=d,[l,n]=(0,Z.useElementOffset)([e]),o=(0,$.useChartWidth)(),q=(0,$.useChartHeight)();if(null==o||null==q)return null;var r=o-((null==g?void 0:g.left)||0)-((null==g?void 0:g.right)||0),s=(b=d.layout,"vertical"===b&&(0,m.isNumber)(i)?{height:i}:"horizontal"===b?{width:h||r}:null),t=k?j:ad(ad({position:"absolute",width:(null==s?void 0:s.width)||h||"auto",height:(null==s?void 0:s.height)||i||"auto"},function(a,b,c,d,e,f){var g,h,{layout:i,align:j,verticalAlign:k}=b;return a&&(void 0!==a.left&&null!==a.left||void 0!==a.right&&null!==a.right)||(g="center"===j&&"vertical"===i?{left:((d||0)-f.width)/2}:"right"===j?{right:c&&c.right||0}:{left:c&&c.left||0}),a&&(void 0!==a.top&&null!==a.top||void 0!==a.bottom&&null!==a.bottom)||(h="middle"===k?{top:((e||0)-f.height)/2}:"bottom"===k?{bottom:c&&c.bottom||0}:{top:c&&c.top||0}),ad(ad({},g),h)}(j,d,g,o,q,l)),j),v=null!=k?k:f;if(null==v||null==e)return null;var w=c.createElement("div",{className:"recharts-legend-wrapper",style:t,ref:n},c.createElement(ag,{layout:d.layout,align:d.align,verticalAlign:d.verticalAlign,itemSorter:d.itemSorter}),!k&&c.createElement(ah,{width:l.width,height:l.height}),c.createElement(af,ab({},d,s,{margin:g,chartWidth:o,chartHeight:q,contextPayload:e})));return(0,M.createPortal)(w,v)}aj.displayName="Legend";var ak=a.i(48662),al=a.i(19721);function am({active:a,payload:c,label:d}){if(!a||!c||!c.length)return null;let e=c.find(a=>"equity"===a.dataKey)||c[0],f=c.find(a=>"drawdown"===a.dataKey);return(0,b.jsxs)("div",{className:"bg-gray-900 p-2 rounded text-sm text-white",children:[(0,b.jsx)("div",{className:"font-bold",children:d}),e&&(0,b.jsxs)("div",{children:["Equity: ",(0,b.jsx)("span",{className:"font-mono",children:String(e.value)})]}),f&&(0,b.jsxs)("div",{children:["Drawdown: ",(0,b.jsx)("span",{className:"font-mono",children:String(f.value)})]})]})}let an=(0,al.default)(async()=>{},{loadableGenerated:{modules:[61392]},ssr:!1}),ao=(0,al.default)(async()=>{},{loadableGenerated:{modules:[96909]},ssr:!1});function ap({trades:a,startDate:d,endDate:e}){let[i,j]=(0,c.useState)({dailyPnL:[],pairPerformance:[],directionPerformance:[],equity:[]});(0,c.useEffect)(()=>{if(!a.length)return;let b=a;(d||e)&&(b=a.filter(a=>{let b=new Date(a.entryTime);return!(d&&new Date(b.toISOString().slice(0,10))<new Date(d)||e&&new Date(b.toISOString().slice(0,10))>new Date(e))}));let c={};b.forEach(a=>{let b=new Date(a.entryTime).toLocaleDateString();c[b]=(c[b]||0)+(a.profitLoss||0)});let f=Object.entries(c).map(([a,b])=>({date:a,pnl:Math.round(100*b)/100})),g={};a.forEach(a=>{g[a.pair]||(g[a.pair]={wins:0,losses:0,pnl:0}),"WIN"===a.outcome&&g[a.pair].wins++,"LOSS"===a.outcome&&g[a.pair].losses++,g[a.pair].pnl+=a.profitLoss||0});let h=Object.entries(g).map(([a,b])=>({pair:a,wins:b.wins,losses:b.losses,pnl:Math.round(100*b.pnl)/100})),i={LONG:{wins:0,losses:0},SHORT:{wins:0,losses:0}};a.forEach(a=>{"WIN"===a.outcome?i[a.direction].wins++:"LOSS"===a.outcome&&i[a.direction].losses++});let k=Object.entries(i).map(([a,b])=>({direction:a,value:b.wins,name:`${a} (${b.wins} wins)`})),l=[...b].sort((a,b)=>new Date(a.entryTime).getTime()-new Date(b.entryTime).getTime()),m=0,n=-1/0,o=l.map(a=>{m+=a.profitLoss||0;let b=Math.round(((n=Math.max(n,m))-m)*100)/100;return{date:new Date(a.entryTime).toLocaleDateString(),equity:Math.round(100*m)/100,drawdown:b}});o.reduce((a,b)=>Math.max(a,b.drawdown),0),o.length&&o.reduce((a,b)=>b.equity>a.equity?b:a,o[0]),o.length&&o.reduce((a,b)=>b.equity<a.equity?b:a,o[0]),j({dailyPnL:f,pairPerformance:h,directionPerformance:k,equity:o})},[a]);let k=i.equity.length?i.equity.reduce((a,b)=>b.equity>a.equity?b:a,i.equity[0]):null,l=i.equity.length?i.equity.reduce((a,b)=>b.equity<a.equity?b:a,i.equity[0]):null,m=["#10b981","#ef4444"];return(0,b.jsxs)("div",{className:"space-y-8",children:[i.equity.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Equity Curve (Live)"}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(an,{selector:".recharts-wrapper",filename:`equity-${new Date().toISOString().slice(0,10)}.png`})})]}),(0,b.jsx)(ak.ResponsiveContainer,{width:"100%",height:320,children:(0,b.jsxs)(f.LineChart,{data:i.equity,className:"equity-chart",children:["              ",(0,b.jsx)(K.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,b.jsx)(I.XAxis,{dataKey:"date",stroke:"#6b7280"}),(0,b.jsx)(J.YAxis,{stroke:"#6b7280"}),(0,b.jsx)(L.Tooltip,{content:(0,b.jsx)(am,{})}),(0,b.jsx)(h.Area,{type:"monotone",dataKey:"drawdown",fill:"#7c3aed",fillOpacity:.06,stroke:"none"}),(0,b.jsx)(g.Line,{type:"monotone",dataKey:"equity",stroke:"#06b6d4",strokeWidth:3,dot:!1,strokeOpacity:.98,isAnimationActive:!0,animationDuration:1200}),(0,b.jsx)(g.Line,{type:"monotone",dataKey:"drawdown",stroke:"#7c3aed",strokeWidth:2,dot:!1,strokeOpacity:.6,isAnimationActive:!0,animationDuration:1e3}),k&&(0,b.jsx)(C,{x:k.date,y:k.equity,r:6,fill:"#06b6d4",stroke:"#fff",strokeWidth:1}),l&&(0,b.jsx)(C,{x:l.date,y:l.equity,r:6,fill:"#7c3aed",stroke:"#fff",strokeWidth:1})]})})]}),i.dailyPnL.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Daily P&L"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(an,{selector:".recharts-wrapper",filename:`daily-pnl-${new Date().toISOString().slice(0,10)}.png`}),(0,b.jsx)(ao,{trades:a,chartSelector:".recharts-wrapper"})]})]}),(0,b.jsx)(ak.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(f.LineChart,{data:i.dailyPnL,children:[(0,b.jsx)(K.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,b.jsx)(I.XAxis,{dataKey:"date",stroke:"#6b7280"}),(0,b.jsx)(J.YAxis,{stroke:"#6b7280"}),(0,b.jsx)(L.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}}),(0,b.jsx)(g.Line,{type:"monotone",dataKey:"pnl",stroke:"#3b82f6",dot:{fill:"#3b82f6"},isAnimationActive:!0,strokeWidth:2})]})})]}),i.pairPerformance.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Performance by Pair"}),(0,b.jsx)(ak.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(D.BarChart,{data:i.pairPerformance,children:[(0,b.jsx)(K.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,b.jsx)(I.XAxis,{dataKey:"pair",stroke:"#6b7280"}),(0,b.jsx)(J.YAxis,{stroke:"#6b7280"}),(0,b.jsx)(L.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}}),(0,b.jsx)(aj,{}),(0,b.jsx)(E.Bar,{dataKey:"wins",fill:"#10b981"}),(0,b.jsx)(E.Bar,{dataKey:"losses",fill:"#ef4444"})]})})]}),i.directionPerformance.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Win Rate by Direction"}),(0,b.jsx)(ak.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(F.PieChart,{children:[(0,b.jsx)(G.Pie,{data:i.directionPerformance,cx:"50%",cy:"50%",labelLine:!1,label:({name:a})=>a,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.directionPerformance.map((a,c)=>(0,b.jsx)(H.Cell,{fill:m[c%m.length]},`cell-${c}`))}),(0,b.jsx)(L.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}})]})})]})]})}function aq({trades:a,onSelectRange:d}){let e=(0,c.useMemo)(()=>{let b={},c=new Date;for(let a=0;a<365;a++){let d=new Date(c);d.setDate(c.getDate()-a),b[d.toISOString().slice(0,10)]=0}return a.forEach(a=>{let c=function(a){if(!a)return null;let b=new Date("number"==typeof a?a:String(a));return!(b instanceof Date)||isNaN(b.getTime())?null:b.toISOString().slice(0,10)}(a.entryTime);c&&void 0!==b[c]&&(b[c]=(b[c]||0)+(a.profitLoss||0))}),Object.entries(b).map(([a,b])=>({day:a,pnl:b}))},[a]),f=Math.max(...e.map(a=>Math.abs(a.pnl)),1),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null);(0,c.useEffect)(()=>{d&&d({start:g,end:i})},[g,i,d]);let[k,l]=(0,c.useState)(!1);function m(a){if(k){let b=new Date(a),c=new Date(b.getFullYear(),b.getMonth(),1).toISOString().slice(0,10),d=new Date(b.getFullYear(),b.getMonth()+1,0).toISOString().slice(0,10);h(c),j(d);return}if(!g){h(a),j(null);return}if(g&&!i){if(a===g){h(null),j(null);return}let b=new Date(g);new Date(a)<b?(h(a),j(b.toISOString().slice(0,10))):j(a);return}h(a),j(null)}return(0,b.jsxs)("div",{className:"card-glass p-4 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Yearly P&L Heatmap"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"text-xs text-gray-400",children:[g&&(0,b.jsxs)("span",{children:["From ",(0,b.jsx)("strong",{children:g})]})," ",i&&(0,b.jsxs)("span",{children:[" to ",(0,b.jsx)("strong",{children:i})]}),(g||i)&&(0,b.jsx)("button",{className:"ml-3 text-sm text-blue-400",onClick:()=>{h(null),j(null),d&&d({start:null,end:null})},children:"Clear"})]}),(0,b.jsx)("button",{type:"button","aria-pressed":k,"aria-label":"Toggle month zoom",className:`px-2 py-1 rounded ${k?"bg-indigo-600 text-white":"bg-transparent text-gray-300 border border-gray-700"}`,onClick:()=>l(a=>!a),children:k?"Month Zoom: ON":"Month Zoom: OFF"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-52 gap-1",role:"grid","aria-label":"Yearly profit/loss heatmap",style:{gap:"6px"},children:e.map(a=>{let c=Math.min(1,Math.abs(a.pnl)/f),d=a.pnl>0?`rgba(16,185,129,${.14+.86*c})`:a.pnl<0?`rgba(239,68,68,${.14+.86*c})`:"transparent",e=function(a){if(!g)return!1;if(g&&!i)return a===g;let b=new Date(g),c=new Date(i),d=new Date(a);return d>=b&&d<=c}(a.day),h=Math.abs(a.pnl)>.25*f;return(0,b.jsx)("button",{title:`${a.day}: ${a.pnl}`,"aria-pressed":e,onClick:()=>m(a.day),onKeyDown:b=>{("Enter"===b.key||" "===b.key)&&(b.preventDefault(),m(a.day))},style:{background:d,width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--foreground)",fontSize:"11px",...e?{boxShadow:"0 0 0 3px rgba(99,102,241,0.12)",outline:"none"}:{}},className:"focus:outline-none",children:h?a.pnl>0?`+$${Math.round(a.pnl)}`:`-$${Math.abs(Math.round(a.pnl))}`:""},a.day)})}),(0,b.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"Green = Profit, Pink = Loss. Click a day to set start, click another to set end. Toggle Month Zoom to select whole month on click. Clear to reset selection."})]})}function ar({trades:a}){let d=(0,c.useMemo)(()=>{let b={};return a.forEach(a=>{let c=new Date(a.entryTime),d=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`;b[d]||(b[d]={pnl:0,trades:[]}),b[d].pnl+=a.profitLoss||0,b[d].trades.push(a)}),Object.entries(b).sort((a,b)=>b[0].localeCompare(a[0]))},[a]),[e,f]=(0,c.useState)({});return(0,b.jsxs)("div",{className:"card-glass p-4 rounded-lg",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Monthly Performance"}),(0,b.jsx)("div",{className:"space-y-2",children:d.map(([a,c])=>(0,b.jsxs)("div",{className:"border border-transparent hover:border-gray-700 rounded-lg p-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>f(b=>({...b,[a]:!b[a]})),children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-300 font-medium",children:a}),(0,b.jsxs)("div",{className:"text-xs text-gray-400",children:[c.trades.length," trades"]})]}),(0,b.jsx)("div",{className:`text-lg font-bold ${c.pnl>=0?"text-green-400":"text-red-400"}`,children:c.pnl.toFixed(2)})]}),e[a]&&(0,b.jsx)("div",{className:"mt-2 text-sm text-gray-300",children:c.trades.map((a,c)=>(0,b.jsxs)("div",{className:"py-1 border-t border-gray-800",children:[new Date(a.entryTime).toLocaleString()," — ",a.pair," — ",a.profitLoss]},c))})]},a))})]})}var as=a.i(46271),at=a.i(71297);let au=({trades:a,strategies:e})=>{let f=(0,c.useMemo)(()=>{if(0===a.length||0===e.length)return null;let b=a.filter(a=>"closed"===a.status&&null!==a.profitLoss&&void 0!==a.profitLoss);return e.map(a=>{let c=b.filter(b=>b.strategyId===a.id);if(0===c.length)return{...a,trades:0,wins:0,losses:0,winRate:0,totalPnL:0,avgPnL:0,profitFactor:0,expectancy:0,bestPair:"",worstPair:""};let d=c.filter(a=>a.profitLoss>0),e=c.filter(a=>a.profitLoss<0),f=c.reduce((a,b)=>a+(b.profitLoss||0),0),g=d.length/c.length*100,h=f/c.length,i=d.reduce((a,b)=>a+b.profitLoss,0),j=Math.abs(e.reduce((a,b)=>a+b.profitLoss,0)),k=d.length>0?d.reduce((a,b)=>a+b.profitLoss,0)/d.length:0,l=e.length>0?e.reduce((a,b)=>a+b.profitLoss,0)/e.length:0,m=c.reduce((a,b)=>(a[b.pair]||(a[b.pair]={total:0,pnl:0}),a[b.pair].total++,a[b.pair].pnl+=b.profitLoss||0,a),{}),n=Object.entries(m).sort(([,a],[,b])=>b.pnl-a.pnl)[0]?.[0]||"",o=Object.entries(m).sort(([,a],[,b])=>a.pnl-b.pnl)[0]?.[0]||"";return{...a,trades:c.length,wins:d.length,losses:e.length,winRate:g,totalPnL:f,avgPnL:h,profitFactor:j>0?i/j:i>0?1/0:1,expectancy:g>0&&0!==l?g/100*k+(100-g)/100*l:0,bestPair:n,worstPair:o}}).filter(a=>a.trades>0).sort((a,b)=>b.totalPnL-a.totalPnL)},[a,e]),g=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(a),h=a=>`${a.toFixed(1)}%`;return f&&0!==f.length?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map((a,c)=>(0,b.jsx)(as.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},children:(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.name}),0===c&&a.totalPnL>0&&(0,b.jsx)(d.FiAward,{className:"w-5 h-5 text-yellow-500"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total P&L"}),(0,b.jsx)("span",{className:`font-semibold ${a.totalPnL>=0?"text-green-600":"text-red-600"}`,children:g(a.totalPnL)})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Win Rate"}),(0,b.jsx)("span",{className:"font-semibold text-blue-600",children:h(a.winRate)})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trades"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.trades})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Profit Factor"}),(0,b.jsx)("span",{className:"font-semibold text-purple-600",children:a.profitFactor===1/0?"∞":a.profitFactor.toFixed(2)})]}),a.bestPair&&(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Best Pair"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:a.bestPair})]})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[(0,b.jsx)("span",{children:"Performance"}),(0,b.jsxs)("span",{children:[a.totalPnL>=0?"+":"",g(a.totalPnL)]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)(as.motion.div,{initial:{width:0},animate:{width:`${Math.min(Math.max(a.totalPnL/1e3*100,10),100)}%`},className:`h-2 rounded-full ${a.totalPnL>=0?"bg-green-500":"bg-red-500"}`})})]})]})},a.id))}),(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Strategy Performance Comparison"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Strategy"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Trades"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Win Rate"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Total P&L"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Avg P&L"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Profit Factor"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Expectancy"})]})}),(0,b.jsx)("tbody",{children:f.map((a,c)=>(0,b.jsxs)(as.motion.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*c},className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[(0,b.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900 dark:text-white",children:a.name}),(0,b.jsx)("td",{className:"py-3 px-4 text-right text-gray-600 dark:text-gray-400",children:a.trades}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsx)("span",{className:`font-medium ${a.winRate>=60?"text-green-600":a.winRate>=50?"text-yellow-600":"text-red-600"}`,children:h(a.winRate)})}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsx)("span",{className:`font-medium ${a.totalPnL>=0?"text-green-600":"text-red-600"}`,children:g(a.totalPnL)})}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsx)("span",{className:`font-medium ${a.avgPnL>=0?"text-green-600":"text-red-600"}`,children:g(a.avgPnL)})}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsx)("span",{className:`font-medium ${a.profitFactor>=1.5?"text-green-600":a.profitFactor>=1?"text-yellow-600":"text-red-600"}`,children:a.profitFactor===1/0?"∞":a.profitFactor.toFixed(2)})}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsx)("span",{className:`font-medium ${a.expectancy>=0?"text-green-600":"text-red-600"}`,children:g(a.expectancy)})})]},a.id))})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top Performing Strategy"}),f[0]&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiAward,{className:"w-6 h-6 text-yellow-500"}),(0,b.jsx)("span",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:f[0].name})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:g(f[0].totalPnL)}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total P&L"})]}),(0,b.jsxs)("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:h(f[0].winRate)}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Win Rate"})]})]}),f[0].description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f[0].description})]})]}),(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Strategy Recommendations"}),(0,b.jsxs)("div",{className:"space-y-3",children:[f.some(a=>a.profitFactor>=1.5)?(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-5 h-5 text-green-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Strong Strategies Identified"}),(0,b.jsx)("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Focus on strategies with profit factor ≥ 1.5"})]})]}):(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,b.jsx)(d.FiAlertTriangle,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Strategy Optimization Needed"}),(0,b.jsx)("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Consider refining strategies with low profit factors"})]})]}),f.some(a=>a.trades<10)&&(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,b.jsx)(d.FiBarChart,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"More Data Needed"}),(0,b.jsx)("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Strategies with fewer than 10 trades need more testing"})]})]})]})]})]})]}):(0,b.jsxs)(at.default,{className:"p-8 text-center",children:[(0,b.jsx)(d.FiTarget,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Strategy Data Available"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Assign strategies to your trades to see strategy performance comparisons"})]})},av=({trades:a,journalEntries:e})=>{let f=(0,c.useMemo)(()=>{if(0===a.length&&0===e.length)return null;let b=a.filter(a=>"closed"===a.status&&null!==a.profitLoss&&void 0!==a.profitLoss),c=b.reduce((a,b)=>{let c=b.emotionalState;return c&&(a[c]||(a[c]={count:0,wins:0,losses:0,totalPnL:0}),a[c].count++,a[c].totalPnL+=b.profitLoss||0,b.profitLoss>0?a[c].wins++:b.profitLoss<0&&a[c].losses++),a},{}),d=e.reduce((a,b)=>{let c=b.mentalState;return c&&(a[c]||(a[c]={count:0,avgConfidence:0,totalConfidence:0}),a[c].count++,b.confidence&&(a[c].totalConfidence+=b.confidence)),a},{});Object.keys(d).forEach(a=>{let b=d[a];b.avgConfidence=b.totalConfidence/b.count});let f=e.reduce((a,b)=>{let c=b.focus;return c&&(a[c]||(a[c]={count:0,avgConfidence:0,totalConfidence:0}),a[c].count++,b.confidence&&(a[c].totalConfidence+=b.confidence)),a},{});Object.keys(f).forEach(a=>{let b=f[a];b.avgConfidence=b.totalConfidence/b.count});let g=e.reduce((a,b)=>{let c=b.phase;return c&&(a[c]||(a[c]={count:0,avgConfidence:0,totalConfidence:0}),a[c].count++,b.confidence&&(a[c].totalConfidence+=b.confidence)),a},{});Object.keys(g).forEach(a=>{let b=g[a];b.avgConfidence=b.totalConfidence/b.count});let h=e.map(a=>{let c=new Date(a.date).toDateString(),d=b.filter(a=>new Date(a.entryTime).toDateString()===c),e=d.reduce((a,b)=>a+(b.profitLoss||0),0);return{date:a.date,confidence:a.confidence||0,pnl:e,trades:d.length}}).filter(a=>a.trades>0),i=function(a,b){if(a.length!==b.length||0===a.length)return 0;let c=a.length,d=a.reduce((a,b)=>a+b,0),e=b.reduce((a,b)=>a+b,0),f=a.reduce((a,c,d)=>a+c*b[d],0),g=Math.sqrt((c*a.reduce((a,b)=>a+b*b,0)-d*d)*(c*b.reduce((a,b)=>a+b*b,0)-e*e));return 0===g?0:(c*f-d*e)/g}(h.map(a=>a.confidence),h.map(a=>a.pnl)),j=e.reduce((a,b)=>{let c=new Date(b.date).toLocaleDateString("en-US",{weekday:"long"});return a[c]||(a[c]={count:0,avgConfidence:0,totalConfidence:0}),a[c].count++,b.confidence&&(a[c].totalConfidence+=b.confidence),a},{});return Object.keys(j).forEach(a=>{let b=j[a];b.avgConfidence=b.totalConfidence/b.count}),{tradeEmotions:c,journalEmotions:d,focusAnalysis:f,phaseAnalysis:g,confidenceCorrelation:h,correlation:i,weeklyPatterns:j,totalJournalEntries:e.length,totalTrades:b.length}},[a,e]),g=a=>{switch(a.toLowerCase()){case"excellent":case"great":case"good":return(0,b.jsx)(d.FiSmile,{className:"w-5 h-5 text-green-500"});case"okay":case"neutral":return(0,b.jsx)(d.FiMeh,{className:"w-5 h-5 text-yellow-500"});case"poor":case"bad":case"terrible":return(0,b.jsx)(d.FiFrown,{className:"w-5 h-5 text-red-500"});default:return(0,b.jsx)(d.FiMeh,{className:"w-5 h-5 text-gray-500"})}},h=a=>{switch(a.toLowerCase()){case"excellent":case"great":case"good":return"text-green-600 dark:text-green-400";case"okay":case"neutral":return"text-yellow-600 dark:text-yellow-400";case"poor":case"bad":case"terrible":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}};return f?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)(at.default,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiActivity,{className:"w-8 h-8 text-purple-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.totalJournalEntries}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Journal Entries"})]})]})}),(0,b.jsx)(at.default,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiTarget,{className:"w-8 h-8 text-blue-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.totalTrades}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tracked Trades"})]})]})}),(0,b.jsx)(at.default,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-8 h-8 text-green-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.correlation.toFixed(2)}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confidence-P&L Correlation"})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(f.tradeEmotions).length>0&&(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Emotional States"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(f.tradeEmotions).sort(([,a],[,b])=>b.totalPnL-a.totalPnL).map(([a,c])=>{let d,e;return(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[g(a),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:`font-medium capitalize ${h(a)}`,children:a}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.count," trades • ",(d=c.wins/c.count*100,`${d.toFixed(1)}%`)," win rate"]})]})]}),(0,b.jsx)("div",{className:`font-semibold ${c.totalPnL>=0?"text-green-600":"text-red-600"}`,children:(e=c.totalPnL,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e))})]},a)})})]}),Object.keys(f.journalEmotions).length>0&&(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Journal Mental States"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(f.journalEmotions).sort(([,a],[,b])=>b.avgConfidence-a.avgConfidence).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[g(a),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:`font-medium capitalize ${h(a)}`,children:a}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.count," entries"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:[c.avgConfidence.toFixed(1),"/10"]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Confidence"})]})]},a))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(f.focusAnalysis).length>0&&(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Focus Level Impact"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(f.focusAnalysis).sort(([,a],[,b])=>b.avgConfidence-a.avgConfidence).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiTarget,{className:`w-5 h-5 ${"high"===a?"text-green-500":"medium"===a?"text-yellow-500":"text-red-500"}`}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-medium capitalize text-gray-900 dark:text-white",children:[a," Focus"]}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.count," entries"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:[c.avgConfidence.toFixed(1),"/10"]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Confidence"})]})]},a))})]}),Object.keys(f.phaseAnalysis).length>0&&(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Phase Performance"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(f.phaseAnalysis).sort(([,a],[,b])=>b.avgConfidence-a.avgConfidence).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-5 h-5 text-blue-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium capitalize text-gray-900 dark:text-white",children:a.replace("-"," ")}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.count," entries"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:[c.avgConfidence.toFixed(1),"/10"]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Confidence"})]})]},a))})]})]}),f.confidenceCorrelation.length>0&&(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Confidence vs Performance Correlation"}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Correlation Coefficient: ",f.correlation.toFixed(3)]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[f.correlation>.3&&(0,b.jsx)(d.FiTrendingUp,{className:"w-4 h-4 text-green-500"}),f.correlation<-.3&&(0,b.jsx)(d.FiTrendingDown,{className:"w-4 h-4 text-red-500"}),(0,b.jsx)("span",{className:`text-sm font-medium ${f.correlation>.3?"text-green-600":f.correlation<-.3?"text-red-600":"text-gray-600"}`,children:f.correlation>.3?"Positive Correlation":f.correlation<-.3?"Negative Correlation":"Weak/No Correlation"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-blue-600",children:f.confidenceCorrelation.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data Points"})]}),(0,b.jsxs)("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-green-600",children:f.confidenceCorrelation.filter(a=>a.pnl>0).length}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Profitable Days"})]}),(0,b.jsxs)("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-purple-600",children:(f.confidenceCorrelation.reduce((a,b)=>a+b.confidence,0)/f.confidenceCorrelation.length).toFixed(1)}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Confidence"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[f.correlation>.5&&(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-5 h-5 text-green-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Strong Positive Correlation"}),(0,b.jsx)("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Higher confidence levels are associated with better trading performance"})]})]}),f.correlation<-.5&&(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,b.jsx)(d.FiTrendingDown,{className:"w-5 h-5 text-red-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-red-800 dark:text-red-200",children:"Negative Correlation Detected"}),(0,b.jsx)("div",{className:"text-sm text-red-700 dark:text-red-300",children:"Higher confidence may be leading to overconfidence and poorer results"})]})]}),.3>Math.abs(f.correlation)&&(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,b.jsx)(d.FiAlertTriangle,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Weak Correlation"}),(0,b.jsx)("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Confidence levels don't strongly predict trading performance"})]})]})]})]}),Object.keys(f.weeklyPatterns).length>0&&(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Weekly Confidence Patterns"}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-4",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(a=>{let c=f.weeklyPatterns[a],d=c?c.avgConfidence:0,e=c?c.count:0;return(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a.slice(0,3)}),(0,b.jsxs)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-16 flex items-end justify-center relative",children:[(0,b.jsx)(as.motion.div,{initial:{height:0},animate:{height:d>0?`${d/10*100}%`:"4px"},className:"w-6 bg-gradient-to-t from-blue-500 to-blue-400 rounded-t"}),e>0&&(0,b.jsx)("div",{className:"absolute -top-6 text-xs text-gray-600 dark:text-gray-400",children:e})]}),(0,b.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:d>0?d.toFixed(1):"-"})]},a)})}),(0,b.jsx)("div",{className:"text-center mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Numbers show journal entries count for each day"})]})]}):(0,b.jsxs)(at.default,{className:"p-8 text-center",children:[(0,b.jsx)(d.FiActivity,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Behavioral Data Available"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Start journaling and recording emotional states in trades to see behavioral insights"})]})},aw=({trades:a,detailed:e=!1})=>{let f=(0,c.useMemo)(()=>{if(0===a.length)return{totalTrades:0,winCount:0,lossCount:0,breakEvenCount:0,winRate:0,totalPnL:0,avgWin:0,avgLoss:0,largestWin:0,largestLoss:0,expectancy:0,profitFactor:0,consecutiveWins:0,consecutiveLosses:0,avgTradeDuration:0,bestPair:"",worstPair:"",bestSession:"",riskRewardRatio:0};let b=a.filter(a=>"closed"===a.status&&null!==a.profitLoss&&void 0!==a.profitLoss),c=b.filter(a=>a.profitLoss>0),d=b.filter(a=>a.profitLoss<0),e=b.filter(a=>0===a.profitLoss),f=b.reduce((a,b)=>a+(b.profitLoss||0),0),g=b.length>0?c.length/b.length*100:0,h=c.length>0?c.reduce((a,b)=>a+b.profitLoss,0)/c.length:0,i=d.length>0?d.reduce((a,b)=>a+b.profitLoss,0)/d.length:0,j=c.length>0?Math.max(...c.map(a=>a.profitLoss)):0,k=d.length>0?Math.min(...d.map(a=>a.profitLoss)):0,l=c.reduce((a,b)=>a+b.profitLoss,0),m=Math.abs(d.reduce((a,b)=>a+b.profitLoss,0)),n=0,o=0,p=0,q=0;for(let a of b)a.profitLoss>0?(q=0,n=Math.max(n,++p)):a.profitLoss<0?(p=0,o=Math.max(o,++q)):(p=0,q=0);let r=b.reduce((a,b)=>(a[b.pair]||(a[b.pair]={total:0,wins:0,losses:0,pnl:0}),a[b.pair].total++,a[b.pair].pnl+=b.profitLoss||0,b.profitLoss>0?a[b.pair].wins++:b.profitLoss<0&&a[b.pair].losses++,a),{}),s=Object.entries(r).sort(([,a],[,b])=>b.pnl-a.pnl)[0]?.[0]||"",t=Object.entries(r).sort(([,a],[,b])=>a.pnl-b.pnl)[0]?.[0]||"",u=b.reduce((a,b)=>{let c=b.session||"Unknown";return a[c]||(a[c]={total:0,wins:0,losses:0,pnl:0}),a[c].total++,a[c].pnl+=b.profitLoss||0,b.profitLoss>0?a[c].wins++:b.profitLoss<0&&a[c].losses++,a},{}),v=Object.entries(u).sort(([,a],[,b])=>b.pnl-a.pnl)[0]?.[0]||"",w=d.length>0&&0!==h?Math.abs(h/i):0;return{totalTrades:b.length,winCount:c.length,lossCount:d.length,breakEvenCount:e.length,winRate:g,totalPnL:f,avgWin:h,avgLoss:i,largestWin:j,largestLoss:k,expectancy:g>0&&0!==i?g/100*h+(100-g)/100*i:0,profitFactor:m>0?l/m:l>0?1/0:1,consecutiveWins:n,consecutiveLosses:o,avgTradeDuration:0,bestPair:s,worstPair:t,bestSession:v,riskRewardRatio:w}},[a]),g=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(a),h=a=>`${a.toFixed(1)}%`,i=({title:a,value:c,icon:e,color:f,trend:g})=>(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:a}),(0,b.jsx)("p",{className:`text-2xl font-bold ${f}`,children:c})]}),(0,b.jsx)("div",{className:`p-3 rounded-full ${f.replace("text-","bg-").replace("-600","-100")} dark:${f.replace("text-","bg-").replace("-600","-900/20")}`,children:(0,b.jsx)(e,{className:`w-6 h-6 ${f}`})})]}),g&&(0,b.jsxs)("div",{className:"mt-2 flex items-center",children:["up"===g&&(0,b.jsx)(d.FiTrendingUp,{className:"w-4 h-4 text-green-500 mr-1"}),"down"===g&&(0,b.jsx)(d.FiTrendingDown,{className:"w-4 h-4 text-red-500 mr-1"}),(0,b.jsx)("span",{className:`text-sm ${"up"===g?"text-green-600":"down"===g?"text-red-600":"text-gray-600"}`,children:"up"===g?"Improving":"down"===g?"Declining":"Stable"})]})]});return 0===f.totalTrades?(0,b.jsxs)(at.default,{className:"p-8 text-center",children:[(0,b.jsx)(d.FiBarChart,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Performance Data"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete some trades to see your performance metrics"})]}):e?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)(i,{title:"Total P&L",value:g(f.totalPnL),icon:f.totalPnL>=0?d.FiTrendingUp:d.FiTrendingDown,color:f.totalPnL>=0?"text-green-600":"text-red-600"}),(0,b.jsx)(i,{title:"Win Rate",value:h(f.winRate),icon:d.FiTarget,color:"text-blue-600"}),(0,b.jsx)(i,{title:"Profit Factor",value:f.profitFactor===1/0?"∞":f.profitFactor.toFixed(2),icon:d.FiAward,color:f.profitFactor>=1.5?"text-green-600":"text-orange-600"}),(0,b.jsx)(i,{title:"Expectancy",value:g(f.expectancy),icon:d.FiDollarSign,color:f.expectancy>=0?"text-green-600":"text-red-600"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trade Statistics"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Trades"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:f.totalTrades})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Winning Trades"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:f.winCount})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Losing Trades"}),(0,b.jsx)("span",{className:"font-semibold text-red-600",children:f.lossCount})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Break-even Trades"}),(0,b.jsx)("span",{className:"font-semibold text-gray-600",children:f.breakEvenCount})]})]})]}),(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"P&L Breakdown"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Average Win"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:g(f.avgWin)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Average Loss"}),(0,b.jsx)("span",{className:"font-semibold text-red-600",children:g(f.avgLoss)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Largest Win"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:g(f.largestWin)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Largest Loss"}),(0,b.jsx)("span",{className:"font-semibold text-red-600",children:g(f.largestLoss)})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Insights"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Risk-Reward Ratio"}),(0,b.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:[f.riskRewardRatio.toFixed(2),":1"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Consecutive Wins"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:f.consecutiveWins})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Consecutive Losses"}),(0,b.jsx)("span",{className:"font-semibold text-red-600",children:f.consecutiveLosses})]}),f.bestPair&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Best Performing Pair"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:f.bestPair})]}),f.bestSession&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Best Session"}),(0,b.jsx)("span",{className:"font-semibold text-blue-600",children:f.bestSession})]})]})]}),(0,b.jsxs)(at.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Health"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Win Rate Health"}),(0,b.jsx)("span",{className:`font-medium ${f.winRate>=60?"text-green-600":f.winRate>=50?"text-yellow-600":"text-red-600"}`,children:f.winRate>=60?"Excellent":f.winRate>=50?"Good":"Needs Work"})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)(as.motion.div,{initial:{width:0},animate:{width:`${Math.min(f.winRate,100)}%`},className:`h-2 rounded-full ${f.winRate>=60?"bg-green-500":f.winRate>=50?"bg-yellow-500":"bg-red-500"}`})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Profit Factor Health"}),(0,b.jsx)("span",{className:`font-medium ${f.profitFactor>=2?"text-green-600":f.profitFactor>=1.5?"text-yellow-600":"text-red-600"}`,children:f.profitFactor>=2?"Excellent":f.profitFactor>=1.5?"Good":"Needs Work"})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)(as.motion.div,{initial:{width:0},animate:{width:`${Math.min(f.profitFactor/3*100,100)}%`},className:`h-2 rounded-full ${f.profitFactor>=2?"bg-green-500":f.profitFactor>=1.5?"bg-yellow-500":"bg-red-500"}`})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Risk-Reward Health"}),(0,b.jsx)("span",{className:`font-medium ${f.riskRewardRatio>=2?"text-green-600":f.riskRewardRatio>=1.5?"text-yellow-600":"text-red-600"}`,children:f.riskRewardRatio>=2?"Excellent":f.riskRewardRatio>=1.5?"Good":"Needs Work"})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)(as.motion.div,{initial:{width:0},animate:{width:`${Math.min(f.riskRewardRatio/3*100,100)}%`},className:`h-2 rounded-full ${f.riskRewardRatio>=2?"bg-green-500":f.riskRewardRatio>=1.5?"bg-yellow-500":"bg-red-500"}`})})]})]})]})]})]}):(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)(i,{title:"Total P&L",value:g(f.totalPnL),icon:f.totalPnL>=0?d.FiTrendingUp:d.FiTrendingDown,color:f.totalPnL>=0?"text-green-600":"text-red-600",trend:f.totalPnL>=0?"up":"down"}),(0,b.jsx)(i,{title:"Win Rate",value:h(f.winRate),icon:d.FiTarget,color:"text-blue-600",trend:f.winRate>=50?"up":"down"}),(0,b.jsx)(i,{title:"Profit Factor",value:f.profitFactor===1/0?"∞":f.profitFactor.toFixed(2),icon:d.FiAward,color:f.profitFactor>=1.5?"text-green-600":"text-orange-600",trend:f.profitFactor>=1.5?"up":"down"}),(0,b.jsx)(i,{title:"Total Trades",value:f.totalTrades,icon:d.FiActivity,color:"text-purple-600"})]})};var ax=a.i(42029),ay=a.i(6704);function az(){let{theme:a,toggleTheme:f}=(0,ax.useTheme)(),[g]=(0,c.useState)(()=>!1),[h,i]=(0,c.useState)("overview"),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)({start:null,end:null}),[v,w]=(0,c.useState)({strategyId:"",pair:"",session:"",emotionalState:""});(0,c.useEffect)(()=>{g&&x()},[g]);let x=async()=>{try{let a;q(!0),s(null);let b=await fetch("/api/trades",{headers:{"x-user-id":"demo-user"}});if(!b.ok)throw Error("Failed to load trades");let c=await b.json();a=c&&"object"==typeof c&&"data"in c?c.data:c,k(Array.isArray(a)?a:[]);let d=await fetch("/api/strategies",{headers:{"x-user-id":"demo-user"}});if(d.ok){let a,b=await d.json();a=b&&"object"==typeof b&&"data"in b?b.data:b,m(Array.isArray(a)?a:[])}let e=await fetch("/api/journal",{headers:{"x-user-id":"demo-user"}});if(e.ok){let a=await e.json();o(Array.isArray(a)?a:[])}}catch(a){console.error("Error loading analytics data:",a),s("Failed to load analytics data")}finally{q(!1)}},y=j.filter(a=>(!v.strategyId||a.strategyId===v.strategyId)&&(!v.pair||a.pair===v.pair)&&(!v.session||a.session===v.session)&&(!v.emotionalState||a.emotionalState===v.emotionalState)),z=[{id:"overview",label:"Overview",icon:d.FiBarChart},{id:"performance",label:"Performance",icon:d.FiTrendingUp},{id:"strategies",label:"Strategies",icon:d.FiTarget},{id:"behavioral",label:"Behavioral",icon:d.FiZap}];return g?(0,b.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[(0,b.jsx)(e.default,{onThemeToggle:f,currentTheme:a}),(0,b.jsxs)("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:"32px 16px"},children:[(0,b.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,b.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"8px",margin:0},children:"Analytics Dashboard"}),(0,b.jsx)("p",{style:{fontSize:"14px",color:"var(--text-secondary)",margin:0},children:"Comprehensive trading performance, strategy analysis, and behavioral insights"})]}),(0,b.jsx)("div",{style:{marginBottom:"24px",display:"flex",justifyContent:"flex-end"},children:(0,b.jsxs)("button",{onClick:()=>{let a=new Blob([JSON.stringify({trades:y,strategies:l,journalEntries:n,filters:v,dateRange:t,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`trading-analytics-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b),ay.default.success("Analytics data exported")},style:{background:"linear-gradient(135deg, var(--purple-base) 0%, var(--purple-dark) 100%)",color:"white",padding:"10px 20px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:a=>{a.currentTarget.style.transform="translateY(-1px)",a.currentTarget.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)"},onMouseLeave:a=>{a.currentTarget.style.transform="translateY(0)",a.currentTarget.style.boxShadow="none"},children:[(0,b.jsx)(d.FiDownload,{size:16}),"Export Data"]})}),(0,b.jsx)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px",marginBottom:"24px"},children:(0,b.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:z.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>i(a.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",borderRadius:"8px",border:"none",backgroundColor:h===a.id?"var(--purple-base)":"transparent",color:h===a.id?"white":"var(--text-secondary)",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.2s ease"},onMouseEnter:b=>{h!==a.id&&(b.currentTarget.style.backgroundColor="var(--panel-muted)")},onMouseLeave:b=>{h!==a.id&&(b.currentTarget.style.backgroundColor="transparent")},children:[(0,b.jsx)(c,{size:16}),a.label]},a.id)})})}),(0,b.jsxs)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px",marginBottom:"24px"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,b.jsx)(d.FiFilter,{size:16,style:{color:"var(--text-secondary)"}}),(0,b.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text-primary)"},children:"Filters"})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"var(--text-secondary)",marginBottom:"4px"},children:"Strategy"}),(0,b.jsxs)("select",{value:v.strategyId,onChange:a=>w(b=>({...b,strategyId:a.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--card-border)",backgroundColor:"var(--panel-muted)",color:"var(--text-primary)",fontSize:"14px"},children:[(0,b.jsx)("option",{value:"",children:"All Strategies"}),l.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"var(--text-secondary)",marginBottom:"4px"},children:"Currency Pair"}),(0,b.jsxs)("select",{value:v.pair,onChange:a=>w(b=>({...b,pair:a.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--card-border)",backgroundColor:"var(--panel-muted)",color:"var(--text-primary)",fontSize:"14px"},children:[(0,b.jsx)("option",{value:"",children:"All Pairs"}),Array.from(new Set(j.map(a=>a.pair))).map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"var(--text-secondary)",marginBottom:"4px"},children:"Session"}),(0,b.jsxs)("select",{value:v.session,onChange:a=>w(b=>({...b,session:a.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--card-border)",backgroundColor:"var(--panel-muted)",color:"var(--text-primary)",fontSize:"14px"},children:[(0,b.jsx)("option",{value:"",children:"All Sessions"}),Array.from(new Set(j.map(a=>a.session).filter(Boolean))).map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"var(--text-secondary)",marginBottom:"4px"},children:"Emotional State"}),(0,b.jsxs)("select",{value:v.emotionalState,onChange:a=>w(b=>({...b,emotionalState:a.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--card-border)",backgroundColor:"var(--panel-muted)",color:"var(--text-primary)",fontSize:"14px"},children:[(0,b.jsx)("option",{value:"",children:"All States"}),Array.from(new Set(j.map(a=>a.emotionalState).filter(Boolean))).map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]})]})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"24px"},children:["overview"===h&&(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},children:[(0,b.jsx)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px"},children:(0,b.jsx)(ap,{trades:y})}),(0,b.jsx)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px"},children:(0,b.jsx)(aq,{trades:y})}),(0,b.jsx)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px"},children:(0,b.jsx)(ar,{trades:y})})]}),"performance"===h&&(0,b.jsx)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px"},children:(0,b.jsx)(aw,{trades:y})}),"strategies"===h&&(0,b.jsx)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px"},children:(0,b.jsx)(au,{trades:y,strategies:l})}),"behavioral"===h&&(0,b.jsx)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px"},children:(0,b.jsx)(av,{trades:y,journalEntries:n})})]})]}),(0,b.jsx)(ay.Toaster,{position:"bottom-right"})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900"})}a.s(["default",()=>az],16683)}];

//# sourceMappingURL=src_app_analytics_page_tsx_5c2fe4d5._.js.map