module.exports=[16683,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(27348),e=a.i(63418),f=a.i(71297),g=a.i(554),h=a.i(31760),i=["axis"],j=(0,c.forwardRef)((a,b)=>c.createElement(h.CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:i,tooltipPayloadSearcher:g.arrayTooltipSearcher,categoricalChartProps:a,ref:b})),k=c,l=a.i(98621),m=a.i(88949),n=a.i(36319),o=a.i(71555),p=a.i(68932),q=a.i(37082),r=a.i(56295),s=a.i(53242),t=a.i(12791),u=a.i(83663),v=a.i(17913),w=a.i(98382),x=a.i(25392),y=a.i(44381),z=a.i(98563),A=a.i(12168),B=(a,b,c,d)=>(0,A.selectAxisWithScale)(a,"xAxis",b,d),C=(a,b,c,d)=>(0,A.selectTicksOfGraphicalItem)(a,"xAxis",b,d),D=(a,b,c,d)=>(0,A.selectAxisWithScale)(a,"yAxis",c,d),E=(a,b,c,d)=>(0,A.selectTicksOfGraphicalItem)(a,"yAxis",c,d),F=(0,y.createSelector)([w.selectChartLayout,B,D,C,E],(a,b,c,d,e)=>(0,r.isCategoricalAxis)(a,"xAxis")?(0,r.getBandSizeOfAxis)(b,d,!1):(0,r.getBandSizeOfAxis)(c,e,!1));function G(a){return"line"===a.type}var H=(0,y.createSelector)([A.selectUnfilteredCartesianItems,(a,b,c,d,e)=>e],(a,b)=>a.filter(G).find(a=>a.id===b)),I=(0,y.createSelector)([w.selectChartLayout,B,D,C,E,H,F,z.selectChartDataWithIndexesIfNotInPanoramaPosition4],(a,b,c,d,e,f,g,h)=>{var i,{chartData:j,dataStartIndex:k,dataEndIndex:l}=h;if(null!=f&&null!=b&&null!=c&&null!=d&&null!=e&&0!==d.length&&0!==e.length&&null!=g&&("horizontal"===a||"vertical"===a)){var{dataKey:m,data:n}=f;if(null!=(i=null!=n&&n.length>0?n:null==j?void 0:j.slice(k,l+1)))return function(a){var{layout:b,xAxis:c,yAxis:d,xAxisTicks:e,yAxisTicks:f,dataKey:g,bandSize:h,displayedData:i}=a;return i.map((a,i)=>{var j=(0,r.getValueByDataKey)(a,g);if("horizontal"===b)return{x:(0,r.getCateCoordinateOfLine)({axis:c,ticks:e,bandSize:h,entry:a,index:i}),y:(0,p.isNullish)(j)?null:d.scale(j),value:j,payload:a};var k=(0,p.isNullish)(j)?null:c.scale(j),l=(0,r.getCateCoordinateOfLine)({axis:d,ticks:f,bandSize:h,entry:a,index:i});return null==k||null==l?null:{x:k,y:l,value:j,payload:a}}).filter(Boolean)}({layout:a,xAxis:b,yAxis:c,xAxisTicks:d,yAxisTicks:e,dataKey:m,bandSize:g,displayedData:i})}}),J=a.i(77368),K=a.i(92430),L=a.i(62320),M=a.i(87293),N=a.i(36745),O=a.i(46780),P=a.i(77025),Q=a.i(72853),R=a.i(76342),S=a.i(7038),T=a.i(10576),U=a.i(56998),V=a.i(96268),W=a.i(31080),X=a.i(95272),Y=["id"],Z=["type","layout","connectNulls","needClip","shape"],$=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function _(){return(_=Object.assign.bind()).apply(null,arguments)}function aa(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ab(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aa(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aa(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ac(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}var ad=k.memo(a=>{var{dataKey:b,data:c,stroke:d,strokeWidth:e,fill:f,name:g,hide:h,unit:i,tooltipType:j,id:l}=a,m={dataDefinedOnItem:c,positions:void 0,settings:{stroke:d,strokeWidth:e,fill:f,dataKey:b,nameKey:void 0,name:(0,r.getTooltipNameProp)(g,b),hide:h,type:j,color:d,unit:i,graphicalItemId:l}};return k.createElement(t.SetTooltipEntrySettings,{tooltipEntrySettings:m})}),ae=(a,b)=>"".concat(b,"px ").concat(a-b,"px");function af(a){var{clipPathId:b,points:c,props:d}=a,{dot:e,dataKey:f,needClip:g}=d,{id:h}=d,i=ac(d,Y),j=(0,Q.svgPropertiesNoEvents)(i);return k.createElement(o.Dots,{points:c,dot:e,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:f,baseProps:j,needClip:g,clipPathId:b})}function ag(a){var{showLabels:b,children:c,points:d}=a,e=(0,k.useMemo)(()=>null==d?void 0:d.map(a=>{var b,c,d={x:null!=(b=a.x)?b:0,y:null!=(c=a.y)?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ab(ab({},d),{},{value:a.value,payload:a.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[d]);return k.createElement(n.CartesianLabelListContextProvider,{value:b?e:void 0},c)}function ah(a){var{clipPathId:b,pathRef:c,points:d,strokeDasharray:e,props:f}=a,{type:g,layout:h,connectNulls:i,needClip:j,shape:l}=f,m=ac(f,Z),n=ab(ab({},(0,S.svgPropertiesAndEvents)(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:j?"url(#clipPath-".concat(b,")"):void 0,points:d,type:g,layout:h,connectNulls:i,strokeDasharray:null!=e?e:f.strokeDasharray});return k.createElement(k.Fragment,null,(null==d?void 0:d.length)>1&&k.createElement(U.Shape,_({shapeType:"curve",option:l},n,{pathRef:c})),k.createElement(af,{points:d,clipPathId:b,props:f}))}function ai(a){var{clipPathId:b,props:c,pathRef:d,previousPointsRef:e,longestAnimatedLengthRef:f}=a,{points:g,strokeDasharray:h,isAnimationActive:i,animationBegin:j,animationDuration:l,animationEasing:m,animateNewValues:o,width:q,height:r,onAnimationEnd:s,onAnimationStart:t}=c,u=e.current,v=(0,L.useAnimationId)(g,"recharts-line-"),w=(0,k.useRef)(v),[x,y]=(0,k.useState)(!1),z=(0,k.useCallback)(()=>{"function"==typeof s&&s(),y(!1)},[s]),A=(0,k.useCallback)(()=>{"function"==typeof t&&t(),y(!0)},[t]),B=function(a){try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch(a){return 0}}(d.current),C=(0,k.useRef)(0);w.current!==v&&(C.current=f.current,w.current=v);var D=C.current;return k.createElement(ag,{points:g,showLabels:!x},c.children,k.createElement(R.JavascriptAnimate,{animationId:v,begin:j,duration:l,isActive:i,easing:m,onAnimationEnd:z,onAnimationStart:A,key:v},a=>{var j,l=Math.min((0,p.interpolate)(D,B+D,a),B);if(j=i?h?((a,b,c)=>{var d=c.reduce((a,b)=>a+b);if(!d)return ae(b,a);for(var e=Math.floor(a/d),f=a%d,g=b-a,h=[],i=0,j=0;i<c.length;j+=c[i],++i)if(j+c[i]>f){h=[...c.slice(0,i),f-j];break}var k=h.length%2==0?[0,g]:[g];return[...function(a,b){for(var c=a.length%2!=0?[...a,0]:a,d=[],e=0;e<b;++e)d=[...d,...c];return d}(c,e),...h,...k].map(a=>"".concat(a,"px")).join(", ")})(l,B,"".concat(h).split(/[,\s]+/gim).map(a=>parseFloat(a))):ae(B,l):null==h?void 0:String(h),a>0&&B>0&&(e.current=g,f.current=Math.max(f.current,l)),u){var m=u.length/g.length,n=1===a?g:g.map((b,c)=>{var d=Math.floor(c*m);if(u[d]){var e=u[d];return ab(ab({},b),{},{x:(0,p.interpolate)(e.x,b.x,a),y:(0,p.interpolate)(e.y,b.y,a)})}return o?ab(ab({},b),{},{x:(0,p.interpolate)(2*q,b.x,a),y:(0,p.interpolate)(r/2,b.y,a)}):ab(ab({},b),{},{x:b.x,y:b.y})});return e.current=n,k.createElement(ah,{props:c,points:n,clipPathId:b,pathRef:d,strokeDasharray:j})}return k.createElement(ah,{props:c,points:g,clipPathId:b,pathRef:d,strokeDasharray:j})}),k.createElement(n.LabelListFromLabelProp,{label:c.label}))}function aj(a){var{clipPathId:b,props:c}=a,d=(0,k.useRef)(null),e=(0,k.useRef)(0),f=(0,k.useRef)(null);return k.createElement(ai,{props:c,clipPathId:b,previousPointsRef:d,longestAnimatedLengthRef:e,pathRef:f})}var ak=(a,b)=>{var c,d;return{x:null!=(c=a.x)?c:void 0,y:null!=(d=a.y)?d:void 0,value:a.value,errorVal:(0,r.getValueByDataKey)(a.payload,b)}};class al extends k.Component{render(){var{hide:a,dot:b,points:c,className:d,xAxisId:e,yAxisId:f,top:g,left:h,width:i,height:j,id:n,needClip:o,zIndex:p}=this.props;if(a)return null;var r=(0,l.clsx)("recharts-line",d),{r:t,strokeWidth:w}=(0,T.getRadiusAndStrokeWidthFromDot)(b),x=(0,q.isClipDot)(b),y=2*t+w,z=o?"url(#clipPath-".concat(x?"":"dots-").concat(n,")"):void 0;return k.createElement(V.ZIndexLayer,{zIndex:p},k.createElement(m.Layer,{className:r},o&&k.createElement("defs",null,k.createElement(v.GraphicalItemClipPath,{clipPathId:n,xAxisId:e,yAxisId:f}),!x&&k.createElement("clipPath",{id:"clipPath-dots-".concat(n)},k.createElement("rect",{x:h-y/2,y:g-y/2,width:i+y,height:j+y}))),k.createElement(u.SetErrorBarContext,{xAxisId:e,yAxisId:f,data:c,dataPointFormatter:ak,errorBarOffset:0},k.createElement(aj,{props:this.props,clipPathId:n}))),k.createElement(s.ActivePoints,{activeDot:this.props.activeDot,points:c,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:z}))}}var am={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:W.DefaultZIndexes.line,type:"linear"};function an(a){var b=(0,M.resolveDefaultProps)(a,am),{activeDot:c,animateNewValues:d,animationBegin:e,animationDuration:f,animationEasing:g,connectNulls:h,dot:i,hide:j,isAnimationActive:l,label:m,legendType:n,xAxisId:o,yAxisId:p,id:q}=b,r=ac(b,$),{needClip:s}=(0,v.useNeedsClip)(o,p),t=(0,N.usePlotArea)(),u=(0,w.useChartLayout)(),y=(0,x.useIsPanorama)(),z=(0,J.useAppSelector)(a=>I(a,o,p,y,q));if("horizontal"!==u&&"vertical"!==u||null==z||null==t)return null;var{height:A,width:B,x:C,y:D}=t;return k.createElement(al,_({},r,{id:q,connectNulls:h,dot:i,activeDot:c,animateNewValues:d,animationBegin:e,animationDuration:f,animationEasing:g,isAnimationActive:l,hide:j,label:m,legendType:n,xAxisId:o,yAxisId:p,points:z,layout:u,height:A,width:B,left:C,top:D,needClip:s}))}var ao=k.memo(function(a){var b=(0,M.resolveDefaultProps)(a,am),c=(0,x.useIsPanorama)();return k.createElement(O.RegisterGraphicalItemId,{id:b.id,type:"line"},a=>k.createElement(k.Fragment,null,k.createElement(K.SetLegendPayload,{legendPayload:(a=>{var{dataKey:b,name:c,stroke:d,legendType:e,hide:f}=a;return[{inactive:f,dataKey:b,type:e,color:d,value:(0,r.getTooltipNameProp)(c,b),payload:a}]})(b)}),k.createElement(ad,{dataKey:b.dataKey,data:b.data,stroke:b.stroke,strokeWidth:b.strokeWidth,fill:b.fill,name:b.name,hide:b.hide,unit:b.unit,tooltipType:b.tooltipType,id:a}),k.createElement(P.SetCartesianGraphicalItem,{type:"line",id:a,data:b.data,xAxisId:b.xAxisId,yAxisId:b.yAxisId,zAxisId:0,dataKey:b.dataKey,hide:b.hide,isPanorama:c}),k.createElement(an,_({},b,{id:a}))))},X.propsAreEqual);ao.displayName="Line";var ap=a.i(85811),aq=a.i(25428),ar=a.i(74668),as=a.i(99738),at=a.i(17792),au=a.i(61970);function av(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aw(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?av(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):av(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ax(){return(ax=Object.assign.bind()).apply(null,arguments)}function ay(a){var b=(0,J.useAppDispatch)();return(0,c.useEffect)(()=>(b((0,at.addDot)(a)),()=>{b((0,at.removeDot)(a))})),null}function az(a){var{x:b,y:d,r:e}=a,f=(0,au.useClipPathId)(),g=((a,b,c,d,e)=>{var f=(0,p.isNumOrStr)(a),g=(0,p.isNumOrStr)(b),h=(0,x.useIsPanorama)(),i=(0,J.useAppSelector)(a=>(0,A.selectAxisScale)(a,"xAxis",c,h)),j=(0,J.useAppSelector)(a=>(0,A.selectAxisScale)(a,"yAxis",d,h));if(!f||!g||null==i||null==j)return null;var k=(0,as.createLabeledScales)({x:i,y:j}),l=k.apply({x:a,y:b},{bandAware:!0});return"discard"!==e||k.isInRange(l)?l:null})(b,d,a.xAxisId,a.yAxisId,a.ifOverflow);if(!g)return null;var{x:h,y:i}=g,{shape:j,className:k,ifOverflow:n}=a,o=aw(aw({clipPath:"hidden"===n?"url(#".concat(f,")"):void 0},(0,S.svgPropertiesAndEvents)(a)),{},{cx:h,cy:i});return c.createElement(V.ZIndexLayer,{zIndex:a.zIndex},c.createElement(m.Layer,{className:(0,l.clsx)("recharts-reference-dot",k)},c.isValidElement(j)?c.cloneElement(j,o):"function"==typeof j?j(o):c.createElement(aq.Dot,ax({},o,{cx:o.cx,cy:o.cy,className:"recharts-reference-dot-dot"})),c.createElement(ar.CartesianLabelContextProvider,{x:h-e,y:i-e,width:2*e,height:2*e,upperWidth:2*e,lowerWidth:2*e},c.createElement(ar.CartesianLabelFromLabelProp,{label:a.label}),a.children)))}var aA={ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1,zIndex:W.DefaultZIndexes.scatter};function aB(a){var b=(0,M.resolveDefaultProps)(a,aA),{x:d,y:e,r:f,ifOverflow:g,yAxisId:h,xAxisId:i}=b;return c.createElement(c.Fragment,null,c.createElement(ay,{y:e,x:d,r:f,yAxisId:h,xAxisId:i,ifOverflow:g}),c.createElement(az,b))}aB.displayName="ReferenceDot";var aC=a.i(18155),aD=a.i(23665),aE=a.i(64321),aF=a.i(27165),aG=a.i(67149),aH=a.i(58042),aI=a.i(94222),aJ=a.i(54419),aK=a.i(59854),aL=a.i(35112),aM=a.i(20353),aN=a.i(3190),aO=a.i(76805),aP=a.i(52517);function aQ(){return(aQ=Object.assign.bind()).apply(null,arguments)}function aR(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var aS={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function aT(a){var b,{data:d,iconType:e,inactiveColor:f}=a,g=32/6,h=32/3,i=d.inactive?f:d.color,j=null!=e?e:d.type;if("none"===j)return null;if("plainline"===j)return c.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:null==(b=d.payload)?void 0:b.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===j)return c.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(16,"h").concat(h,"\n            A").concat(g,",").concat(g,",0,1,1,").concat(2*h,",").concat(16,"\n            H").concat(32,"M").concat(2*h,",").concat(16,"\n            A").concat(g,",").concat(g,",0,1,1,").concat(h,",").concat(16),className:"recharts-legend-icon"});if("rect"===j)return c.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(c.isValidElement(d.legendIcon)){var k=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aR(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aR(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},d);return delete k.legendIcon,c.cloneElement(d.legendIcon,k)}return c.createElement(aO.Symbols,{fill:i,cx:16,cy:16,size:32,sizeType:"diameter",type:j})}function aU(a){var{payload:b,iconSize:d,layout:e,formatter:f,inactiveColor:g,iconType:h}=a,i={x:0,y:0,width:32,height:32},j={display:"horizontal"===e?"inline-block":"block",marginRight:10},k={display:"inline-block",verticalAlign:"middle",marginRight:4};return b.map((b,e)=>{var m=b.formatter||f,n=(0,l.clsx)({"recharts-legend-item":!0,["legend-item-".concat(e)]:!0,inactive:b.inactive});if("none"===b.type)return null;var o=b.inactive?g:b.color,p=m?m(b.value,b,e):b.value;return c.createElement("li",aQ({className:n,style:j,key:"legend-item-".concat(e)},(0,aP.adaptEventsOfChild)(a,b,e)),c.createElement(aN.Surface,{width:d,height:d,viewBox:i,style:k,"aria-label":"".concat(p," legend icon")},c.createElement(aT,{data:b,iconType:h,inactiveColor:g})),c.createElement("span",{className:"recharts-legend-item-text",style:{color:o}},p))})}var aV=a=>{var b=(0,M.resolveDefaultProps)(a,aS),{payload:d,layout:e,align:f}=b;return d&&d.length?c.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===e?f:"left"}},c.createElement(aU,aQ({},b,{payload:d}))):null},aW=a.i(63643),aX=a.i(24993),aY=a.i(38620),aZ=a.i(21402),a$=["contextPayload"];function a_(){return(a_=Object.assign.bind()).apply(null,arguments)}function a0(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a1(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a0(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a0(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function a2(a){return a.value}function a3(a){var{contextPayload:b}=a,d=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,a$),e=(0,aW.getUniqPayload)(b,a.payloadUniqBy,a2),f=a1(a1({},d),{},{payload:e});return c.isValidElement(a.content)?c.cloneElement(a.content,f):"function"==typeof a.content?c.createElement(a.content,f):c.createElement(aV,f)}function a4(a){var b=(0,J.useAppDispatch)();return(0,c.useEffect)(()=>{b((0,aZ.setLegendSettings)(a))},[b,a]),null}function a5(a){var b=(0,J.useAppDispatch)();return(0,c.useEffect)(()=>(b((0,aZ.setLegendSize)(a)),()=>{b((0,aZ.setLegendSize)({width:0,height:0}))}),[b,a]),null}var a6={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function a7(a){var b,d=(0,M.resolveDefaultProps)(a,a6),e=(0,J.useAppSelector)(aX.selectLegendPayload),f=(0,aM.useLegendPortal)(),g=(0,w.useMargin)(),{width:h,height:i,wrapperStyle:j,portal:k}=d,[l,m]=(0,aY.useElementOffset)([e]),n=(0,w.useChartWidth)(),o=(0,w.useChartHeight)();if(null==n||null==o)return null;var q=n-((null==g?void 0:g.left)||0)-((null==g?void 0:g.right)||0),r=(b=d.layout,"vertical"===b&&(0,p.isNumber)(i)?{height:i}:"horizontal"===b?{width:h||q}:null),s=k?j:a1(a1({position:"absolute",width:(null==r?void 0:r.width)||h||"auto",height:(null==r?void 0:r.height)||i||"auto"},function(a,b,c,d,e,f){var g,h,{layout:i,align:j,verticalAlign:k}=b;return a&&(void 0!==a.left&&null!==a.left||void 0!==a.right&&null!==a.right)||(g="center"===j&&"vertical"===i?{left:((d||0)-f.width)/2}:"right"===j?{right:c&&c.right||0}:{left:c&&c.left||0}),a&&(void 0!==a.top&&null!==a.top||void 0!==a.bottom&&null!==a.bottom)||(h="middle"===k?{top:((e||0)-f.height)/2}:"bottom"===k?{bottom:c&&c.bottom||0}:{top:c&&c.top||0}),a1(a1({},g),h)}(j,d,g,n,o,l)),j),t=null!=k?k:f;if(null==t||null==e)return null;var u=c.createElement("div",{className:"recharts-legend-wrapper",style:s,ref:m},c.createElement(a4,{layout:d.layout,align:d.align,verticalAlign:d.verticalAlign,itemSorter:d.itemSorter}),!k&&c.createElement(a5,{width:l.width,height:l.height}),c.createElement(a3,a_({},d,r,{margin:g,chartWidth:n,chartHeight:o,contextPayload:e})));return(0,aL.createPortal)(u,t)}a7.displayName="Legend";var a8=a.i(48662),a9=a.i(19721);function ba({active:a,payload:c,label:d}){if(!a||!c||!c.length)return null;let e=c.find(a=>"equity"===a.dataKey)||c[0],f=c.find(a=>"drawdown"===a.dataKey);return(0,b.jsxs)("div",{className:"bg-gray-900 p-2 rounded text-sm text-white",children:[(0,b.jsx)("div",{className:"font-bold",children:d}),e&&(0,b.jsxs)("div",{children:["Equity: ",(0,b.jsx)("span",{className:"font-mono",children:String(e.value)})]}),f&&(0,b.jsxs)("div",{children:["Drawdown: ",(0,b.jsx)("span",{className:"font-mono",children:String(f.value)})]})]})}let bb=(0,a9.default)(async()=>{},{loadableGenerated:{modules:[61392]},ssr:!1}),bc=(0,a9.default)(async()=>{},{loadableGenerated:{modules:[96909]},ssr:!1});function bd({trades:a,startDate:d,endDate:e}){let[f,g]=(0,c.useState)({dailyPnL:[],pairPerformance:[],directionPerformance:[],equity:[]});(0,c.useEffect)(()=>{if(!a.length)return;let b=a;(d||e)&&(b=a.filter(a=>{let b=new Date(a.entryTime);return!(d&&new Date(b.toISOString().slice(0,10))<new Date(d)||e&&new Date(b.toISOString().slice(0,10))>new Date(e))}));let c={};b.forEach(a=>{let b=new Date(a.entryTime).toLocaleDateString();c[b]=(c[b]||0)+(a.profitLoss||0)});let f=Object.entries(c).map(([a,b])=>({date:a,pnl:Math.round(100*b)/100})),h={};a.forEach(a=>{h[a.pair]||(h[a.pair]={wins:0,losses:0,pnl:0}),"WIN"===a.outcome&&h[a.pair].wins++,"LOSS"===a.outcome&&h[a.pair].losses++,h[a.pair].pnl+=a.profitLoss||0});let i=Object.entries(h).map(([a,b])=>({pair:a,wins:b.wins,losses:b.losses,pnl:Math.round(100*b.pnl)/100})),j={LONG:{wins:0,losses:0},SHORT:{wins:0,losses:0}};a.forEach(a=>{"WIN"===a.outcome?j[a.direction].wins++:"LOSS"===a.outcome&&j[a.direction].losses++});let k=Object.entries(j).map(([a,b])=>({direction:a,value:b.wins,name:`${a} (${b.wins} wins)`})),l=[...b].sort((a,b)=>new Date(a.entryTime).getTime()-new Date(b.entryTime).getTime()),m=0,n=-1/0,o=l.map(a=>{m+=a.profitLoss||0;let b=Math.round(((n=Math.max(n,m))-m)*100)/100;return{date:new Date(a.entryTime).toLocaleDateString(),equity:Math.round(100*m)/100,drawdown:b}});o.reduce((a,b)=>Math.max(a,b.drawdown),0),o.length&&o.reduce((a,b)=>b.equity>a.equity?b:a,o[0]),o.length&&o.reduce((a,b)=>b.equity<a.equity?b:a,o[0]),g({dailyPnL:f,pairPerformance:i,directionPerformance:k,equity:o})},[a]);let h=f.equity.length?f.equity.reduce((a,b)=>b.equity>a.equity?b:a,f.equity[0]):null,i=f.equity.length?f.equity.reduce((a,b)=>b.equity<a.equity?b:a,f.equity[0]):null,k=["#10b981","#ef4444"];return(0,b.jsxs)("div",{className:"space-y-8",children:[f.equity.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Equity Curve (Live)"}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(bb,{selector:".recharts-wrapper",filename:`equity-${new Date().toISOString().slice(0,10)}.png`})})]}),(0,b.jsx)(a8.ResponsiveContainer,{width:"100%",height:320,children:(0,b.jsxs)(j,{data:f.equity,className:"equity-chart",children:["              ",(0,b.jsx)(aJ.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,b.jsx)(aH.XAxis,{dataKey:"date",stroke:"#6b7280"}),(0,b.jsx)(aI.YAxis,{stroke:"#6b7280"}),(0,b.jsx)(aK.Tooltip,{content:(0,b.jsx)(ba,{})}),(0,b.jsx)(ap.Area,{type:"monotone",dataKey:"drawdown",fill:"#7c3aed",fillOpacity:.06,stroke:"none"}),(0,b.jsx)(ao,{type:"monotone",dataKey:"equity",stroke:"#06b6d4",strokeWidth:3,dot:!1,strokeOpacity:.98,isAnimationActive:!0,animationDuration:1200}),(0,b.jsx)(ao,{type:"monotone",dataKey:"drawdown",stroke:"#7c3aed",strokeWidth:2,dot:!1,strokeOpacity:.6,isAnimationActive:!0,animationDuration:1e3}),h&&(0,b.jsx)(aB,{x:h.date,y:h.equity,r:6,fill:"#06b6d4",stroke:"#fff",strokeWidth:1}),i&&(0,b.jsx)(aB,{x:i.date,y:i.equity,r:6,fill:"#7c3aed",stroke:"#fff",strokeWidth:1})]})})]}),f.dailyPnL.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Daily P&L"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(bb,{selector:".recharts-wrapper",filename:`daily-pnl-${new Date().toISOString().slice(0,10)}.png`}),(0,b.jsx)(bc,{trades:a,chartSelector:".recharts-wrapper"})]})]}),(0,b.jsx)(a8.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(j,{data:f.dailyPnL,children:[(0,b.jsx)(aJ.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,b.jsx)(aH.XAxis,{dataKey:"date",stroke:"#6b7280"}),(0,b.jsx)(aI.YAxis,{stroke:"#6b7280"}),(0,b.jsx)(aK.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}}),(0,b.jsx)(ao,{type:"monotone",dataKey:"pnl",stroke:"#3b82f6",dot:{fill:"#3b82f6"},isAnimationActive:!0,strokeWidth:2})]})})]}),f.pairPerformance.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Performance by Pair"}),(0,b.jsx)(a8.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(aC.BarChart,{data:f.pairPerformance,children:[(0,b.jsx)(aJ.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,b.jsx)(aH.XAxis,{dataKey:"pair",stroke:"#6b7280"}),(0,b.jsx)(aI.YAxis,{stroke:"#6b7280"}),(0,b.jsx)(aK.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}}),(0,b.jsx)(a7,{}),(0,b.jsx)(aD.Bar,{dataKey:"wins",fill:"#10b981"}),(0,b.jsx)(aD.Bar,{dataKey:"losses",fill:"#ef4444"})]})})]}),f.directionPerformance.length>0&&(0,b.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Win Rate by Direction"}),(0,b.jsx)(a8.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(aE.PieChart,{children:[(0,b.jsx)(aF.Pie,{data:f.directionPerformance,cx:"50%",cy:"50%",labelLine:!1,label:({name:a})=>a,outerRadius:80,fill:"#8884d8",dataKey:"value",children:f.directionPerformance.map((a,c)=>(0,b.jsx)(aG.Cell,{fill:k[c%k.length]},`cell-${c}`))}),(0,b.jsx)(aK.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}})]})})]})]})}function be({trades:a,onSelectRange:d}){let e=(0,c.useMemo)(()=>{let b={},c=new Date;for(let a=0;a<365;a++){let d=new Date(c);d.setDate(c.getDate()-a),b[d.toISOString().slice(0,10)]=0}return a.forEach(a=>{let c=function(a){if(!a)return null;let b=new Date("number"==typeof a?a:String(a));return!(b instanceof Date)||isNaN(b.getTime())?null:b.toISOString().slice(0,10)}(a.entryTime);c&&void 0!==b[c]&&(b[c]=(b[c]||0)+(a.profitLoss||0))}),Object.entries(b).map(([a,b])=>({day:a,pnl:b}))},[a]),f=Math.max(...e.map(a=>Math.abs(a.pnl)),1),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null);(0,c.useEffect)(()=>{d&&d({start:g,end:i})},[g,i,d]);let[k,l]=(0,c.useState)(!1);function m(a){if(k){let b=new Date(a),c=new Date(b.getFullYear(),b.getMonth(),1).toISOString().slice(0,10),d=new Date(b.getFullYear(),b.getMonth()+1,0).toISOString().slice(0,10);h(c),j(d);return}if(!g){h(a),j(null);return}if(g&&!i){if(a===g){h(null),j(null);return}let b=new Date(g);new Date(a)<b?(h(a),j(b.toISOString().slice(0,10))):j(a);return}h(a),j(null)}return(0,b.jsxs)("div",{className:"card-glass p-4 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Yearly P&L Heatmap"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"text-xs text-gray-400",children:[g&&(0,b.jsxs)("span",{children:["From ",(0,b.jsx)("strong",{children:g})]})," ",i&&(0,b.jsxs)("span",{children:[" to ",(0,b.jsx)("strong",{children:i})]}),(g||i)&&(0,b.jsx)("button",{className:"ml-3 text-sm text-blue-400",onClick:()=>{h(null),j(null),d&&d({start:null,end:null})},children:"Clear"})]}),(0,b.jsx)("button",{type:"button","aria-pressed":k,"aria-label":"Toggle month zoom",className:`px-2 py-1 rounded ${k?"bg-indigo-600 text-white":"bg-transparent text-gray-300 border border-gray-700"}`,onClick:()=>l(a=>!a),children:k?"Month Zoom: ON":"Month Zoom: OFF"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-52 gap-1",role:"grid","aria-label":"Yearly profit/loss heatmap",style:{gap:"6px"},children:e.map(a=>{let c=Math.min(1,Math.abs(a.pnl)/f),d=a.pnl>0?`rgba(16,185,129,${.14+.86*c})`:a.pnl<0?`rgba(239,68,68,${.14+.86*c})`:"transparent",e=function(a){if(!g)return!1;if(g&&!i)return a===g;let b=new Date(g),c=new Date(i),d=new Date(a);return d>=b&&d<=c}(a.day),h=Math.abs(a.pnl)>.25*f;return(0,b.jsx)("button",{title:`${a.day}: ${a.pnl}`,"aria-pressed":e,onClick:()=>m(a.day),onKeyDown:b=>{("Enter"===b.key||" "===b.key)&&(b.preventDefault(),m(a.day))},style:{background:d,width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--foreground)",fontSize:"11px",...e?{boxShadow:"0 0 0 3px rgba(99,102,241,0.12)",outline:"none"}:{}},className:"focus:outline-none",children:h?a.pnl>0?`+$${Math.round(a.pnl)}`:`-$${Math.abs(Math.round(a.pnl))}`:""},a.day)})}),(0,b.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"Green = Profit, Pink = Loss. Click a day to set start, click another to set end. Toggle Month Zoom to select whole month on click. Clear to reset selection."})]})}function bf({trades:a}){let d=(0,c.useMemo)(()=>{let b={};return a.forEach(a=>{let c=new Date(a.entryTime),d=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`;b[d]||(b[d]={pnl:0,trades:[]}),b[d].pnl+=a.profitLoss||0,b[d].trades.push(a)}),Object.entries(b).sort((a,b)=>b[0].localeCompare(a[0]))},[a]),[e,f]=(0,c.useState)({});return(0,b.jsxs)("div",{className:"card-glass p-4 rounded-lg",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Monthly Performance"}),(0,b.jsx)("div",{className:"space-y-2",children:d.map(([a,c])=>(0,b.jsxs)("div",{className:"border border-transparent hover:border-gray-700 rounded-lg p-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>f(b=>({...b,[a]:!b[a]})),children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-300 font-medium",children:a}),(0,b.jsxs)("div",{className:"text-xs text-gray-400",children:[c.trades.length," trades"]})]}),(0,b.jsx)("div",{className:`text-lg font-bold ${c.pnl>=0?"text-green-400":"text-red-400"}`,children:c.pnl.toFixed(2)})]}),e[a]&&(0,b.jsx)("div",{className:"mt-2 text-sm text-gray-300",children:c.trades.map((a,c)=>(0,b.jsxs)("div",{className:"py-1 border-t border-gray-800",children:[new Date(a.entryTime).toLocaleString()," — ",a.pair," — ",a.profitLoss]},c))})]},a))})]})}var bg=a.i(46271);let bh=({trades:a,strategies:e})=>{let g=(0,c.useMemo)(()=>{if(0===a.length||0===e.length)return null;let b=a.filter(a=>"closed"===a.status&&null!==a.profitLoss&&void 0!==a.profitLoss);return e.map(a=>{let c=b.filter(b=>b.strategyId===a.id);if(0===c.length)return{...a,trades:0,wins:0,losses:0,winRate:0,totalPnL:0,avgPnL:0,profitFactor:0,expectancy:0,bestPair:"",worstPair:""};let d=c.filter(a=>a.profitLoss>0),e=c.filter(a=>a.profitLoss<0),f=c.reduce((a,b)=>a+(b.profitLoss||0),0),g=d.length/c.length*100,h=f/c.length,i=d.reduce((a,b)=>a+b.profitLoss,0),j=Math.abs(e.reduce((a,b)=>a+b.profitLoss,0)),k=d.length>0?d.reduce((a,b)=>a+b.profitLoss,0)/d.length:0,l=e.length>0?e.reduce((a,b)=>a+b.profitLoss,0)/e.length:0,m=c.reduce((a,b)=>(a[b.pair]||(a[b.pair]={total:0,pnl:0}),a[b.pair].total++,a[b.pair].pnl+=b.profitLoss||0,a),{}),n=Object.entries(m).sort(([,a],[,b])=>b.pnl-a.pnl)[0]?.[0]||"",o=Object.entries(m).sort(([,a],[,b])=>a.pnl-b.pnl)[0]?.[0]||"";return{...a,trades:c.length,wins:d.length,losses:e.length,winRate:g,totalPnL:f,avgPnL:h,profitFactor:j>0?i/j:i>0?1/0:1,expectancy:g>0&&0!==l?g/100*k+(100-g)/100*l:0,bestPair:n,worstPair:o}}).filter(a=>a.trades>0).sort((a,b)=>b.totalPnL-a.totalPnL)},[a,e]),h=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(a),i=a=>`${a.toFixed(1)}%`;return g&&0!==g.length?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((a,c)=>(0,b.jsx)(bg.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},children:(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.name}),0===c&&a.totalPnL>0&&(0,b.jsx)(d.FiAward,{className:"w-5 h-5 text-yellow-500"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total P&L"}),(0,b.jsx)("span",{className:`font-semibold ${a.totalPnL>=0?"text-green-600":"text-red-600"}`,children:h(a.totalPnL)})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Win Rate"}),(0,b.jsx)("span",{className:"font-semibold text-blue-600",children:i(a.winRate)})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trades"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.trades})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Profit Factor"}),(0,b.jsx)("span",{className:"font-semibold text-purple-600",children:a.profitFactor===1/0?"∞":a.profitFactor.toFixed(2)})]}),a.bestPair&&(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Best Pair"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:a.bestPair})]})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[(0,b.jsx)("span",{children:"Performance"}),(0,b.jsxs)("span",{children:[a.totalPnL>=0?"+":"",h(a.totalPnL)]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)(bg.motion.div,{initial:{width:0},animate:{width:`${Math.min(Math.max(a.totalPnL/1e3*100,10),100)}%`},className:`h-2 rounded-full ${a.totalPnL>=0?"bg-green-500":"bg-red-500"}`})})]})]})},a.id))}),(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Strategy Performance Comparison"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Strategy"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Trades"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Win Rate"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Total P&L"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Avg P&L"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Profit Factor"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Expectancy"})]})}),(0,b.jsx)("tbody",{children:g.map((a,c)=>(0,b.jsxs)(bg.motion.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*c},className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[(0,b.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900 dark:text-white",children:a.name}),(0,b.jsx)("td",{className:"py-3 px-4 text-right text-gray-600 dark:text-gray-400",children:a.trades}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsx)("span",{className:`font-medium ${a.winRate>=60?"text-green-600":a.winRate>=50?"text-yellow-600":"text-red-600"}`,children:i(a.winRate)})}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsx)("span",{className:`font-medium ${a.totalPnL>=0?"text-green-600":"text-red-600"}`,children:h(a.totalPnL)})}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsx)("span",{className:`font-medium ${a.avgPnL>=0?"text-green-600":"text-red-600"}`,children:h(a.avgPnL)})}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsx)("span",{className:`font-medium ${a.profitFactor>=1.5?"text-green-600":a.profitFactor>=1?"text-yellow-600":"text-red-600"}`,children:a.profitFactor===1/0?"∞":a.profitFactor.toFixed(2)})}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsx)("span",{className:`font-medium ${a.expectancy>=0?"text-green-600":"text-red-600"}`,children:h(a.expectancy)})})]},a.id))})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top Performing Strategy"}),g[0]&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiAward,{className:"w-6 h-6 text-yellow-500"}),(0,b.jsx)("span",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:g[0].name})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:h(g[0].totalPnL)}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total P&L"})]}),(0,b.jsxs)("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i(g[0].winRate)}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Win Rate"})]})]}),g[0].description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g[0].description})]})]}),(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Strategy Recommendations"}),(0,b.jsxs)("div",{className:"space-y-3",children:[g.some(a=>a.profitFactor>=1.5)?(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-5 h-5 text-green-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Strong Strategies Identified"}),(0,b.jsx)("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Focus on strategies with profit factor ≥ 1.5"})]})]}):(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,b.jsx)(d.FiAlertTriangle,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Strategy Optimization Needed"}),(0,b.jsx)("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Consider refining strategies with low profit factors"})]})]}),g.some(a=>a.trades<10)&&(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,b.jsx)(d.FiBarChart,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"More Data Needed"}),(0,b.jsx)("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Strategies with fewer than 10 trades need more testing"})]})]})]})]})]})]}):(0,b.jsxs)(f.default,{className:"p-8 text-center",children:[(0,b.jsx)(d.FiTarget,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Strategy Data Available"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Assign strategies to your trades to see strategy performance comparisons"})]})},bi=({trades:a,journalEntries:e})=>{let g=(0,c.useMemo)(()=>{if(0===a.length&&0===e.length)return null;let b=a.filter(a=>"closed"===a.status&&null!==a.profitLoss&&void 0!==a.profitLoss),c=b.reduce((a,b)=>{let c=b.emotionalState;return c&&(a[c]||(a[c]={count:0,wins:0,losses:0,totalPnL:0}),a[c].count++,a[c].totalPnL+=b.profitLoss||0,b.profitLoss>0?a[c].wins++:b.profitLoss<0&&a[c].losses++),a},{}),d=e.reduce((a,b)=>{let c=b.mentalState;return c&&(a[c]||(a[c]={count:0,avgConfidence:0,totalConfidence:0}),a[c].count++,b.confidence&&(a[c].totalConfidence+=b.confidence)),a},{});Object.keys(d).forEach(a=>{let b=d[a];b.avgConfidence=b.totalConfidence/b.count});let f=e.reduce((a,b)=>{let c=b.focus;return c&&(a[c]||(a[c]={count:0,avgConfidence:0,totalConfidence:0}),a[c].count++,b.confidence&&(a[c].totalConfidence+=b.confidence)),a},{});Object.keys(f).forEach(a=>{let b=f[a];b.avgConfidence=b.totalConfidence/b.count});let g=e.reduce((a,b)=>{let c=b.phase;return c&&(a[c]||(a[c]={count:0,avgConfidence:0,totalConfidence:0}),a[c].count++,b.confidence&&(a[c].totalConfidence+=b.confidence)),a},{});Object.keys(g).forEach(a=>{let b=g[a];b.avgConfidence=b.totalConfidence/b.count});let h=e.map(a=>{let c=new Date(a.date).toDateString(),d=b.filter(a=>new Date(a.entryTime).toDateString()===c),e=d.reduce((a,b)=>a+(b.profitLoss||0),0);return{date:a.date,confidence:a.confidence||0,pnl:e,trades:d.length}}).filter(a=>a.trades>0),i=function(a,b){if(a.length!==b.length||0===a.length)return 0;let c=a.length,d=a.reduce((a,b)=>a+b,0),e=b.reduce((a,b)=>a+b,0),f=a.reduce((a,c,d)=>a+c*b[d],0),g=Math.sqrt((c*a.reduce((a,b)=>a+b*b,0)-d*d)*(c*b.reduce((a,b)=>a+b*b,0)-e*e));return 0===g?0:(c*f-d*e)/g}(h.map(a=>a.confidence),h.map(a=>a.pnl)),j=e.reduce((a,b)=>{let c=new Date(b.date).toLocaleDateString("en-US",{weekday:"long"});return a[c]||(a[c]={count:0,avgConfidence:0,totalConfidence:0}),a[c].count++,b.confidence&&(a[c].totalConfidence+=b.confidence),a},{});return Object.keys(j).forEach(a=>{let b=j[a];b.avgConfidence=b.totalConfidence/b.count}),{tradeEmotions:c,journalEmotions:d,focusAnalysis:f,phaseAnalysis:g,confidenceCorrelation:h,correlation:i,weeklyPatterns:j,totalJournalEntries:e.length,totalTrades:b.length}},[a,e]),h=a=>{switch(a.toLowerCase()){case"excellent":case"great":case"good":return(0,b.jsx)(d.FiSmile,{className:"w-5 h-5 text-green-500"});case"okay":case"neutral":return(0,b.jsx)(d.FiMeh,{className:"w-5 h-5 text-yellow-500"});case"poor":case"bad":case"terrible":return(0,b.jsx)(d.FiFrown,{className:"w-5 h-5 text-red-500"});default:return(0,b.jsx)(d.FiMeh,{className:"w-5 h-5 text-gray-500"})}},i=a=>{switch(a.toLowerCase()){case"excellent":case"great":case"good":return"text-green-600 dark:text-green-400";case"okay":case"neutral":return"text-yellow-600 dark:text-yellow-400";case"poor":case"bad":case"terrible":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}};return g?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)(f.default,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiActivity,{className:"w-8 h-8 text-purple-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.totalJournalEntries}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Journal Entries"})]})]})}),(0,b.jsx)(f.default,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiTarget,{className:"w-8 h-8 text-blue-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.totalTrades}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tracked Trades"})]})]})}),(0,b.jsx)(f.default,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-8 h-8 text-green-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.correlation.toFixed(2)}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confidence-P&L Correlation"})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(g.tradeEmotions).length>0&&(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Emotional States"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(g.tradeEmotions).sort(([,a],[,b])=>b.totalPnL-a.totalPnL).map(([a,c])=>{let d,e;return(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[h(a),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:`font-medium capitalize ${i(a)}`,children:a}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.count," trades • ",(d=c.wins/c.count*100,`${d.toFixed(1)}%`)," win rate"]})]})]}),(0,b.jsx)("div",{className:`font-semibold ${c.totalPnL>=0?"text-green-600":"text-red-600"}`,children:(e=c.totalPnL,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e))})]},a)})})]}),Object.keys(g.journalEmotions).length>0&&(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Journal Mental States"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(g.journalEmotions).sort(([,a],[,b])=>b.avgConfidence-a.avgConfidence).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[h(a),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:`font-medium capitalize ${i(a)}`,children:a}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.count," entries"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:[c.avgConfidence.toFixed(1),"/10"]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Confidence"})]})]},a))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(g.focusAnalysis).length>0&&(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Focus Level Impact"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(g.focusAnalysis).sort(([,a],[,b])=>b.avgConfidence-a.avgConfidence).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiTarget,{className:`w-5 h-5 ${"high"===a?"text-green-500":"medium"===a?"text-yellow-500":"text-red-500"}`}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-medium capitalize text-gray-900 dark:text-white",children:[a," Focus"]}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.count," entries"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:[c.avgConfidence.toFixed(1),"/10"]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Confidence"})]})]},a))})]}),Object.keys(g.phaseAnalysis).length>0&&(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Phase Performance"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(g.phaseAnalysis).sort(([,a],[,b])=>b.avgConfidence-a.avgConfidence).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-5 h-5 text-blue-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium capitalize text-gray-900 dark:text-white",children:a.replace("-"," ")}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.count," entries"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:[c.avgConfidence.toFixed(1),"/10"]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Confidence"})]})]},a))})]})]}),g.confidenceCorrelation.length>0&&(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Confidence vs Performance Correlation"}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Correlation Coefficient: ",g.correlation.toFixed(3)]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[g.correlation>.3&&(0,b.jsx)(d.FiTrendingUp,{className:"w-4 h-4 text-green-500"}),g.correlation<-.3&&(0,b.jsx)(d.FiTrendingDown,{className:"w-4 h-4 text-red-500"}),(0,b.jsx)("span",{className:`text-sm font-medium ${g.correlation>.3?"text-green-600":g.correlation<-.3?"text-red-600":"text-gray-600"}`,children:g.correlation>.3?"Positive Correlation":g.correlation<-.3?"Negative Correlation":"Weak/No Correlation"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-blue-600",children:g.confidenceCorrelation.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data Points"})]}),(0,b.jsxs)("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-green-600",children:g.confidenceCorrelation.filter(a=>a.pnl>0).length}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Profitable Days"})]}),(0,b.jsxs)("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-purple-600",children:(g.confidenceCorrelation.reduce((a,b)=>a+b.confidence,0)/g.confidenceCorrelation.length).toFixed(1)}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Confidence"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[g.correlation>.5&&(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-5 h-5 text-green-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Strong Positive Correlation"}),(0,b.jsx)("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Higher confidence levels are associated with better trading performance"})]})]}),g.correlation<-.5&&(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,b.jsx)(d.FiTrendingDown,{className:"w-5 h-5 text-red-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-red-800 dark:text-red-200",children:"Negative Correlation Detected"}),(0,b.jsx)("div",{className:"text-sm text-red-700 dark:text-red-300",children:"Higher confidence may be leading to overconfidence and poorer results"})]})]}),.3>Math.abs(g.correlation)&&(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,b.jsx)(d.FiAlertTriangle,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Weak Correlation"}),(0,b.jsx)("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Confidence levels don't strongly predict trading performance"})]})]})]})]}),Object.keys(g.weeklyPatterns).length>0&&(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Weekly Confidence Patterns"}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-4",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(a=>{let c=g.weeklyPatterns[a],d=c?c.avgConfidence:0,e=c?c.count:0;return(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a.slice(0,3)}),(0,b.jsxs)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-16 flex items-end justify-center relative",children:[(0,b.jsx)(bg.motion.div,{initial:{height:0},animate:{height:d>0?`${d/10*100}%`:"4px"},className:"w-6 bg-gradient-to-t from-blue-500 to-blue-400 rounded-t"}),e>0&&(0,b.jsx)("div",{className:"absolute -top-6 text-xs text-gray-600 dark:text-gray-400",children:e})]}),(0,b.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:d>0?d.toFixed(1):"-"})]},a)})}),(0,b.jsx)("div",{className:"text-center mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Numbers show journal entries count for each day"})]})]}):(0,b.jsxs)(f.default,{className:"p-8 text-center",children:[(0,b.jsx)(d.FiActivity,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Behavioral Data Available"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Start journaling and recording emotional states in trades to see behavioral insights"})]})},bj=({trades:a,detailed:e=!1})=>{let g=(0,c.useMemo)(()=>{if(0===a.length)return{totalTrades:0,winCount:0,lossCount:0,breakEvenCount:0,winRate:0,totalPnL:0,avgWin:0,avgLoss:0,largestWin:0,largestLoss:0,expectancy:0,profitFactor:0,consecutiveWins:0,consecutiveLosses:0,avgTradeDuration:0,bestPair:"",worstPair:"",bestSession:"",riskRewardRatio:0};let b=a.filter(a=>"closed"===a.status&&null!==a.profitLoss&&void 0!==a.profitLoss),c=b.filter(a=>a.profitLoss>0),d=b.filter(a=>a.profitLoss<0),e=b.filter(a=>0===a.profitLoss),f=b.reduce((a,b)=>a+(b.profitLoss||0),0),g=b.length>0?c.length/b.length*100:0,h=c.length>0?c.reduce((a,b)=>a+b.profitLoss,0)/c.length:0,i=d.length>0?d.reduce((a,b)=>a+b.profitLoss,0)/d.length:0,j=c.length>0?Math.max(...c.map(a=>a.profitLoss)):0,k=d.length>0?Math.min(...d.map(a=>a.profitLoss)):0,l=c.reduce((a,b)=>a+b.profitLoss,0),m=Math.abs(d.reduce((a,b)=>a+b.profitLoss,0)),n=0,o=0,p=0,q=0;for(let a of b)a.profitLoss>0?(q=0,n=Math.max(n,++p)):a.profitLoss<0?(p=0,o=Math.max(o,++q)):(p=0,q=0);let r=b.reduce((a,b)=>(a[b.pair]||(a[b.pair]={total:0,wins:0,losses:0,pnl:0}),a[b.pair].total++,a[b.pair].pnl+=b.profitLoss||0,b.profitLoss>0?a[b.pair].wins++:b.profitLoss<0&&a[b.pair].losses++,a),{}),s=Object.entries(r).sort(([,a],[,b])=>b.pnl-a.pnl)[0]?.[0]||"",t=Object.entries(r).sort(([,a],[,b])=>a.pnl-b.pnl)[0]?.[0]||"",u=b.reduce((a,b)=>{let c=b.session||"Unknown";return a[c]||(a[c]={total:0,wins:0,losses:0,pnl:0}),a[c].total++,a[c].pnl+=b.profitLoss||0,b.profitLoss>0?a[c].wins++:b.profitLoss<0&&a[c].losses++,a},{}),v=Object.entries(u).sort(([,a],[,b])=>b.pnl-a.pnl)[0]?.[0]||"",w=d.length>0&&0!==h?Math.abs(h/i):0;return{totalTrades:b.length,winCount:c.length,lossCount:d.length,breakEvenCount:e.length,winRate:g,totalPnL:f,avgWin:h,avgLoss:i,largestWin:j,largestLoss:k,expectancy:g>0&&0!==i?g/100*h+(100-g)/100*i:0,profitFactor:m>0?l/m:l>0?1/0:1,consecutiveWins:n,consecutiveLosses:o,avgTradeDuration:0,bestPair:s,worstPair:t,bestSession:v,riskRewardRatio:w}},[a]),h=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(a),i=a=>`${a.toFixed(1)}%`,j=({title:a,value:c,icon:e,color:g,trend:h})=>(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:a}),(0,b.jsx)("p",{className:`text-2xl font-bold ${g}`,children:c})]}),(0,b.jsx)("div",{className:`p-3 rounded-full ${g.replace("text-","bg-").replace("-600","-100")} dark:${g.replace("text-","bg-").replace("-600","-900/20")}`,children:(0,b.jsx)(e,{className:`w-6 h-6 ${g}`})})]}),h&&(0,b.jsxs)("div",{className:"mt-2 flex items-center",children:["up"===h&&(0,b.jsx)(d.FiTrendingUp,{className:"w-4 h-4 text-green-500 mr-1"}),"down"===h&&(0,b.jsx)(d.FiTrendingDown,{className:"w-4 h-4 text-red-500 mr-1"}),(0,b.jsx)("span",{className:`text-sm ${"up"===h?"text-green-600":"down"===h?"text-red-600":"text-gray-600"}`,children:"up"===h?"Improving":"down"===h?"Declining":"Stable"})]})]});return 0===g.totalTrades?(0,b.jsxs)(f.default,{className:"p-8 text-center",children:[(0,b.jsx)(d.FiBarChart,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Performance Data"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete some trades to see your performance metrics"})]}):e?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)(j,{title:"Total P&L",value:h(g.totalPnL),icon:g.totalPnL>=0?d.FiTrendingUp:d.FiTrendingDown,color:g.totalPnL>=0?"text-green-600":"text-red-600"}),(0,b.jsx)(j,{title:"Win Rate",value:i(g.winRate),icon:d.FiTarget,color:"text-blue-600"}),(0,b.jsx)(j,{title:"Profit Factor",value:g.profitFactor===1/0?"∞":g.profitFactor.toFixed(2),icon:d.FiAward,color:g.profitFactor>=1.5?"text-green-600":"text-orange-600"}),(0,b.jsx)(j,{title:"Expectancy",value:h(g.expectancy),icon:d.FiDollarSign,color:g.expectancy>=0?"text-green-600":"text-red-600"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trade Statistics"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Trades"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:g.totalTrades})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Winning Trades"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:g.winCount})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Losing Trades"}),(0,b.jsx)("span",{className:"font-semibold text-red-600",children:g.lossCount})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Break-even Trades"}),(0,b.jsx)("span",{className:"font-semibold text-gray-600",children:g.breakEvenCount})]})]})]}),(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"P&L Breakdown"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Average Win"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:h(g.avgWin)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Average Loss"}),(0,b.jsx)("span",{className:"font-semibold text-red-600",children:h(g.avgLoss)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Largest Win"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:h(g.largestWin)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Largest Loss"}),(0,b.jsx)("span",{className:"font-semibold text-red-600",children:h(g.largestLoss)})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Insights"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Risk-Reward Ratio"}),(0,b.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:[g.riskRewardRatio.toFixed(2),":1"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Consecutive Wins"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:g.consecutiveWins})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Consecutive Losses"}),(0,b.jsx)("span",{className:"font-semibold text-red-600",children:g.consecutiveLosses})]}),g.bestPair&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Best Performing Pair"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:g.bestPair})]}),g.bestSession&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Best Session"}),(0,b.jsx)("span",{className:"font-semibold text-blue-600",children:g.bestSession})]})]})]}),(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Health"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Win Rate Health"}),(0,b.jsx)("span",{className:`font-medium ${g.winRate>=60?"text-green-600":g.winRate>=50?"text-yellow-600":"text-red-600"}`,children:g.winRate>=60?"Excellent":g.winRate>=50?"Good":"Needs Work"})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)(bg.motion.div,{initial:{width:0},animate:{width:`${Math.min(g.winRate,100)}%`},className:`h-2 rounded-full ${g.winRate>=60?"bg-green-500":g.winRate>=50?"bg-yellow-500":"bg-red-500"}`})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Profit Factor Health"}),(0,b.jsx)("span",{className:`font-medium ${g.profitFactor>=2?"text-green-600":g.profitFactor>=1.5?"text-yellow-600":"text-red-600"}`,children:g.profitFactor>=2?"Excellent":g.profitFactor>=1.5?"Good":"Needs Work"})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)(bg.motion.div,{initial:{width:0},animate:{width:`${Math.min(g.profitFactor/3*100,100)}%`},className:`h-2 rounded-full ${g.profitFactor>=2?"bg-green-500":g.profitFactor>=1.5?"bg-yellow-500":"bg-red-500"}`})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Risk-Reward Health"}),(0,b.jsx)("span",{className:`font-medium ${g.riskRewardRatio>=2?"text-green-600":g.riskRewardRatio>=1.5?"text-yellow-600":"text-red-600"}`,children:g.riskRewardRatio>=2?"Excellent":g.riskRewardRatio>=1.5?"Good":"Needs Work"})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)(bg.motion.div,{initial:{width:0},animate:{width:`${Math.min(g.riskRewardRatio/3*100,100)}%`},className:`h-2 rounded-full ${g.riskRewardRatio>=2?"bg-green-500":g.riskRewardRatio>=1.5?"bg-yellow-500":"bg-red-500"}`})})]})]})]})]})]}):(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)(j,{title:"Total P&L",value:h(g.totalPnL),icon:g.totalPnL>=0?d.FiTrendingUp:d.FiTrendingDown,color:g.totalPnL>=0?"text-green-600":"text-red-600",trend:g.totalPnL>=0?"up":"down"}),(0,b.jsx)(j,{title:"Win Rate",value:i(g.winRate),icon:d.FiTarget,color:"text-blue-600",trend:g.winRate>=50?"up":"down"}),(0,b.jsx)(j,{title:"Profit Factor",value:g.profitFactor===1/0?"∞":g.profitFactor.toFixed(2),icon:d.FiAward,color:g.profitFactor>=1.5?"text-green-600":"text-orange-600",trend:g.profitFactor>=1.5?"up":"down"}),(0,b.jsx)(j,{title:"Total Trades",value:g.totalTrades,icon:d.FiActivity,color:"text-purple-600"})]})};var bk=a.i(42029),bl=a.i(6704);function bm(){let{theme:a,toggleTheme:g}=(0,bk.useTheme)(),[h]=(0,c.useState)(()=>!1),[i,j]=(0,c.useState)("overview"),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)({start:null,end:null}),[w,x]=(0,c.useState)({strategyId:"",pair:"",session:"",emotionalState:""});(0,c.useEffect)(()=>{h&&y()},[h]);let y=async()=>{try{r(!0),t(null);let a=await fetch("/api/trades",{headers:{"x-user-id":"demo-user"}});if(!a.ok)throw Error("Failed to load trades");let b=await a.json();l(Array.isArray(b)?b:[]);let c=await fetch("/api/strategies",{headers:{"x-user-id":"demo-user"}});if(c.ok){let a=await c.json();n(Array.isArray(a)?a:[])}let d=await fetch("/api/journal",{headers:{"x-user-id":"demo-user"}});if(d.ok){let a=await d.json();p(Array.isArray(a)?a:[])}}catch(a){console.error("Error loading analytics data:",a),t("Failed to load analytics data")}finally{r(!1)}},z=k.filter(a=>(!w.strategyId||a.strategyId===w.strategyId)&&(!w.pair||a.pair===w.pair)&&(!w.session||a.session===w.session)&&(!w.emotionalState||a.emotionalState===w.emotionalState)),A=[{id:"overview",label:"Overview",icon:d.FiBarChart},{id:"performance",label:"Performance",icon:d.FiTrendingUp},{id:"strategies",label:"Strategies",icon:d.FiTarget},{id:"behavioral",label:"Behavioral",icon:d.FiZap}];return h?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,b.jsx)(e.default,{onThemeToggle:g,currentTheme:a}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),(0,b.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Comprehensive trading performance, strategy analysis, and behavioral insights"})]}),(0,b.jsxs)("button",{onClick:()=>{let a=new Blob([JSON.stringify({trades:z,strategies:m,journalEntries:o,filters:w,dateRange:u,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`trading-analytics-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b),bl.default.success("Analytics data exported")},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(d.FiDownload,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Export Data"})]})]})}),(0,b.jsx)(f.default,{className:"p-1 mb-6",children:(0,b.jsx)("div",{className:"flex space-x-1",children:A.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>j(a.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${i===a.id?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[(0,b.jsx)(c,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:a.label})]},a.id)})})}),(0,b.jsx)(f.default,{className:"p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(d.FiFilter,{className:"w-5 h-5 text-gray-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filters:"}),(0,b.jsxs)("select",{value:w.strategyId,onChange:a=>x(b=>({...b,strategyId:a.target.value})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[(0,b.jsx)("option",{value:"",children:"All Strategies"}),m.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsxs)("select",{value:w.pair,onChange:a=>x(b=>({...b,pair:a.target.value})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[(0,b.jsx)("option",{value:"",children:"All Pairs"}),[...new Set(k.map(a=>a.pair))].map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{value:w.session,onChange:a=>x(b=>({...b,session:a.target.value})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[(0,b.jsx)("option",{value:"",children:"All Sessions"}),[...new Set(k.map(a=>a.session).filter(Boolean))].map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{value:w.emotionalState,onChange:a=>x(b=>({...b,emotionalState:a.target.value})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[(0,b.jsx)("option",{value:"",children:"All Emotions"}),[...new Set(k.map(a=>a.emotionalState).filter(Boolean))].map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]})}),s&&(0,b.jsx)(f.default,{className:"p-4 mb-6 border-red-200 dark:border-red-800",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 dark:text-red-400",children:[(0,b.jsx)(d.FiTrendingDown,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:s})]})}),q?(0,b.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,b.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading analytics..."})]}):(0,b.jsxs)(b.Fragment,{children:["overview"===i&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(bj,{trades:z}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Charts"}),(0,b.jsx)(bd,{trades:z,startDate:u.start,endDate:u.end})]}),(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Heatmap"}),(0,b.jsx)(be,{trades:z,onSelectRange:a=>v(a)})]})]}),(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Monthly Performance"}),(0,b.jsx)(bf,{trades:z})]})]}),"performance"===i&&(0,b.jsx)(bj,{trades:z,detailed:!0}),"strategies"===i&&(0,b.jsx)(bh,{trades:z,strategies:m}),"behavioral"===i&&(0,b.jsx)(bi,{trades:z,journalEntries:o})]})]}),(0,b.jsx)(bl.Toaster,{position:"bottom-right"})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900"})}a.s(["default",()=>bm],16683)}];

//# sourceMappingURL=src_app_analytics_page_tsx_5c2fe4d5._.js.map