module.exports=[32716,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(27348),e=a.i(63418),f=a.i(71297),g=a.i(46271);let h=({entries:a,className:c=""})=>{let e=a.reduce((a,b)=>(b.mentalState&&(a[b.mentalState]=(a[b.mentalState]||0)+1),a),{}),h=a.filter(a=>void 0!==a.confidence),i=h.length>0?h.reduce((a,b)=>a+(b.confidence||0),0)/h.length:0,j=a.filter(a=>{let b=new Date(a.date),c=new Date;return c.setDate(c.getDate()-7),b>=c}).sort((a,b)=>new Date(b.date).getTime()-new Date(a.date).getTime()),k=a.reduce((a,b)=>(b.focus&&(a[b.focus]=(a[b.focus]||0)+1),a),{}),l=a=>{switch(a.toLowerCase()){case"excellent":case"great":case"good":return(0,b.jsx)(d.FiSmile,{className:"w-5 h-5 text-green-500"});case"okay":case"neutral":return(0,b.jsx)(d.FiMeh,{className:"w-5 h-5 text-yellow-500"});case"poor":case"bad":case"terrible":return(0,b.jsx)(d.FiFrown,{className:"w-5 h-5 text-red-500"});default:return(0,b.jsx)(d.FiMeh,{className:"w-5 h-5 text-gray-500"})}};return(0,b.jsxs)(f.default,{className:`p-6 ${c}`,children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-5 h-5 text-blue-500"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Mental State Tracker"})]}),j.length>0&&(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current State"}),(0,b.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[l(j[0].mentalState||"neutral"),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:`font-medium ${(a=>{switch(a.toLowerCase()){case"excellent":case"great":case"good":return"text-green-600 dark:text-green-400";case"okay":case"neutral":return"text-yellow-600 dark:text-yellow-400";case"poor":case"bad":case"terrible":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}})(j[0].mentalState||"neutral")}`,children:j[0].mentalState||"Not recorded"}),(0,b.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(j[0].date).toLocaleDateString()})]})]})]}),i>0&&(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Average Confidence"}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,b.jsx)(g.motion.div,{initial:{width:0},animate:{width:`${i/10*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-blue-500 h-3 rounded-full"})}),(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[3rem]",children:[i.toFixed(1),"/10"]})]})]}),Object.keys(e).length>0&&(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Mental State Distribution"}),(0,b.jsx)("div",{className:"space-y-2",children:Object.entries(e).sort(([,a],[,b])=>b-a).map(([c,d])=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[l(c),(0,b.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize",children:c})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${d/a.length*100}%`}})}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[2rem]",children:d})]})]},c))})]}),Object.keys(k).length>0&&(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Focus Levels"}),(0,b.jsx)("div",{className:"space-y-2",children:Object.entries(k).sort(([,a],[,b])=>b-a).map(([c,e])=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(a=>{switch(a.toLowerCase()){case"high":return(0,b.jsx)(d.FiTarget,{className:"w-4 h-4 text-green-500"});case"medium":return(0,b.jsx)(d.FiTarget,{className:"w-4 h-4 text-yellow-500"});case"low":return(0,b.jsx)(d.FiTarget,{className:"w-4 h-4 text-red-500"});default:return(0,b.jsx)(d.FiTarget,{className:"w-4 h-4 text-gray-500"})}})(c),(0,b.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize",children:[c," Focus"]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${e/a.length*100}%`}})}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[2rem]",children:e})]})]},c))})]}),j.length>=3&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Recent Trend (7 days)"}),(0,b.jsx)("div",{className:"flex items-center space-x-1",children:j.slice(0,7).map((a,c)=>(0,b.jsxs)(g.motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1*c},className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:new Date(a.date).toLocaleDateString("en-US",{weekday:"short"})}),(0,b.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:a.mentalState?l(a.mentalState):(0,b.jsx)(d.FiMeh,{className:"w-4 h-4 text-gray-400"})}),a.confidence&&(0,b.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:a.confidence})]},a.id))})]}),0===a.length&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Start journaling to see your mental state trends"})]})]})};var i=a.i(6704);let j=({date:a,existingEntry:e,onSave:g,onCancel:h})=>{let[j,k]=(0,c.useState)(e?.mentalState||""),[l,m]=(0,c.useState)(e?.focus||""),[n,o]=(0,c.useState)(e?.confidence||5),[p,q]=(0,c.useState)(e?.externalStressors||[]),[r,s]=(0,c.useState)(e?.phase||""),[t,u]=(0,c.useState)(e?.phaseNotes||""),[v,w]=(0,c.useState)(!1),x=[{value:"excellent",label:"Excellent",icon:d.FiSmile,color:"text-green-500"},{value:"good",label:"Good",icon:d.FiSmile,color:"text-green-400"},{value:"okay",label:"Okay",icon:d.FiMeh,color:"text-yellow-500"},{value:"poor",label:"Poor",icon:d.FiFrown,color:"text-orange-500"},{value:"terrible",label:"Terrible",icon:d.FiFrown,color:"text-red-500"}],y=[{value:"high",label:"High Focus",icon:d.FiTarget,color:"text-green-500"},{value:"medium",label:"Medium Focus",icon:d.FiTarget,color:"text-yellow-500"},{value:"low",label:"Low Focus",icon:d.FiTarget,color:"text-red-500"}],z=[{value:"learning",label:"Learning Phase",description:"Building foundational knowledge and skills",template:"Today I focused on learning...\n\nKey lessons learned:\n- \n- \n\nChallenges faced:\n- \n- \n\nTomorrow's learning goals:\n- \n- "},{value:"discipline",label:"Discipline Phase",description:"Developing consistent trading habits and rules",template:"Today's discipline focus:\n\nRules followed:\n- \n- \n\nRules broken:\n- \n- \n\nWhy I broke them:\n\nHow to prevent this:\n- \n- "},{value:"consistency",label:"Consistency Phase",description:"Maintaining steady performance and routines",template:"Consistency check:\n\nDaily routine adherence:\n- Morning prep: \n- Trading hours: \n- Review time: \n\nPerformance consistency:\n- Win rate: \n- Risk management: \n\nAreas for improvement:\n- \n- "},{value:"optimization",label:"Optimization Phase",description:"Refining strategies and maximizing performance",template:"Optimization focus:\n\nStrategy testing:\n- What I tested: \n- Results: \n- Insights: \n\nPerformance metrics:\n- Profit factor: \n- Win rate: \n- Average R:R: \n\nNext optimization steps:\n- \n- "}],A=async()=>{if(!j||!r)return void i.default.error("Please fill in mental state and trading phase");w(!0);try{let b=e?`/api/journal/${e.id}`:"/api/journal",c=e?"PUT":"POST",d=await fetch(b,{method:c,headers:{"Content-Type":"application/json","x-user-id":"demo-user"},body:JSON.stringify({date:a,mentalState:j,focus:l,confidence:n,externalStressors:p,phase:r,phaseNotes:t})});if(!d.ok)throw Error("Failed to save journal entry");let f=await d.json();g(f)}catch(a){console.error("Error saving journal entry:",a),i.default.error("Failed to save journal entry")}finally{w(!1)}};return(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[e?"Edit":"Create"," Journal Entry"]}),(0,b.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(a).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"How are you feeling today?"}),(0,b.jsx)("div",{className:"grid grid-cols-5 gap-2",children:x.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>k(a.value),className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all ${j===a.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[(0,b.jsx)(c,{className:`w-6 h-6 mb-1 ${a.color}`}),(0,b.jsx)("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:a.label})]},a.value)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Focus Level"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2",children:y.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>m(a.value),className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all ${l===a.value?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[(0,b.jsx)(c,{className:`w-6 h-6 mb-1 ${a.color}`}),(0,b.jsx)("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:a.label})]},a.value)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Confidence Level (1-10)"}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("input",{type:"range",min:"1",max:"10",value:n,onChange:a=>o(Number(a.target.value)),className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-4 h-4 text-gray-500"}),(0,b.jsx)("span",{className:"text-lg font-semibold text-gray-900 dark:text-white min-w-[2rem]",children:n})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"External Stressors (select all that apply)"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["Work stress","Family issues","Health concerns","Market volatility","Financial pressure","Sleep deprivation","Personal problems","Time pressure"].map(a=>(0,b.jsx)("button",{onClick:()=>{q(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:`p-2 text-left rounded-lg border transition-all ${p.includes(a)?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 text-gray-700 dark:text-gray-300"}`,children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Current Trading Phase"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:z.map(a=>(0,b.jsxs)("button",{onClick:()=>{var b;let c;s(a.value),b=a.value,(c=z.find(a=>a.value===b))&&!t&&u(c.template)},className:`p-4 rounded-lg border-2 text-left transition-all ${r===a.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[(0,b.jsx)("div",{className:"font-medium text-gray-900 dark:text-white mb-1",children:a.label}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.description})]},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Phase Notes & Reflections"}),(0,b.jsx)("textarea",{value:t,onChange:a=>u(a.target.value),placeholder:"Write your thoughts, reflections, and notes about your trading day...",rows:8,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical"})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("button",{onClick:h,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:A,disabled:v,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:[v?(0,b.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,b.jsx)(d.FiSave,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:v?"Saving...":"Save Entry"})]})]})]})]})},k=({entries:a})=>{let e=(0,c.useMemo)(()=>{if(0===a.length)return null;let b=[...a].sort((a,b)=>new Date(a.date).getTime()-new Date(b.date).getTime()),c=b.slice(-14).map(a=>({date:a.date,state:a.mentalState,score:function(a){switch(a?.toLowerCase()){case"excellent":return 5;case"good":return 4;case"okay":default:return 3;case"poor":return 2;case"terrible":return 1}}(a.mentalState)})),d=b.filter(a=>void 0!==a.confidence).slice(-14).map(a=>({date:a.date,confidence:a.confidence||0})),e=a.reduce((a,b)=>(b.phase&&(a[b.phase]=(a[b.phase]||0)+1),a),{}),f=a.reduce((a,b)=>(b.externalStressors&&b.externalStressors.forEach(b=>{a[b]=(a[b]||0)+1}),a),{});return{mentalStateTrend:c,confidenceTrend:d,phaseDistribution:e,stressorCounts:f,focusPerformance:a.reduce((a,b)=>(b.focus&&b.confidence&&(a[b.focus]||(a[b.focus]=[]),a[b.focus].push(b.confidence)),a),{}),avgConfidence:a.filter(a=>void 0!==a.confidence).reduce((a,b)=>a+(b.confidence||0),0)/a.filter(a=>void 0!==a.confidence).length||0,weeklyPatterns:a.reduce((a,b)=>{let c=new Date(b.date).toLocaleDateString("en-US",{weekday:"long"});return a[c]||(a[c]=[]),b.confidence&&a[c].push(b.confidence),a},{}),totalEntries:a.length,streak:function(a){let b=0,c=new Date;c.setHours(0,0,0,0);for(let d=0;d<365;d++){let e=new Date(c);if(e.setDate(c.getDate()-d),a.some(a=>new Date(a.date).toDateString()===e.toDateString()))b++;else break}return b}(b)}},[a]);return e&&0!==a.length?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsx)(f.default,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiCalendar,{className:"w-8 h-8 text-blue-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalEntries}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Entries"})]})]})}),(0,b.jsx)(f.default,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiTarget,{className:"w-8 h-8 text-green-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.streak}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Day Streak"})]})]})}),(0,b.jsx)(f.default,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-8 h-8 text-purple-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.avgConfidence.toFixed(1)}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Confidence"})]})]})}),(0,b.jsx)(f.default,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(d.FiZap,{className:"w-8 h-8 text-yellow-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Object.keys(e.phaseDistribution).length}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phases Tracked"})]})]})})]}),(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Mental State Trend (Last 14 Days)"}),(0,b.jsx)("div",{className:"flex items-end space-x-2 h-32",children:e.mentalStateTrend.map((a,c)=>(0,b.jsx)(g.motion.div,{initial:{height:0},animate:{height:`${a.score/5*100}%`},transition:{delay:.05*c},className:"flex-1 bg-gradient-to-t from-blue-500 to-blue-400 rounded-t flex flex-col items-center justify-end pb-2",children:(0,b.jsx)("div",{className:"text-xs text-white font-medium transform -rotate-45 whitespace-nowrap",children:a.state?.slice(0,3)})},a.date))}),(0,b.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,b.jsx)("span",{children:"14 days ago"}),(0,b.jsx)("span",{children:"Today"})]})]}),(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Confidence Trend (Last 14 Days)"}),(0,b.jsx)("div",{className:"flex items-end space-x-2 h-32",children:e.confidenceTrend.map((a,c)=>(0,b.jsx)(g.motion.div,{initial:{height:0},animate:{height:`${a.confidence/10*100}%`},transition:{delay:.05*c},className:"flex-1 bg-gradient-to-t from-green-500 to-green-400 rounded-t flex flex-col items-center justify-end pb-2",children:(0,b.jsx)("div",{className:"text-xs text-white font-medium",children:a.confidence})},a.date))}),(0,b.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,b.jsx)("span",{children:"14 days ago"}),(0,b.jsx)("span",{children:"Today"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Phase Distribution"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(e.phaseDistribution).sort(([,a],[,b])=>b-a).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:a.replace("-"," ")}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${c/e.totalEntries*100}%`}})}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[2rem]",children:c})]})]},a))})]}),(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Focus vs Average Confidence"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(e.focusPerformance).map(([a,c])=>{let d=c.reduce((a,b)=>a+b,0)/c.length;return(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:[a," Focus"]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${d/10*100}%`}})}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[2rem]",children:d.toFixed(1)})]})]},a)})})]})]}),(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Weekly Confidence Patterns"}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-4",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(a=>{let c=e.weeklyPatterns[a]||[],d=c.length>0?c.reduce((a,b)=>a+b,0)/c.length:0;return(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a.slice(0,3)}),(0,b.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-16 flex items-end justify-center",children:(0,b.jsx)(g.motion.div,{initial:{height:0},animate:{height:`${d>0?d/10*100:5}%`},className:"w-6 bg-purple-500 rounded-t"})}),(0,b.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:d>0?d.toFixed(1):"-"})]},a)})})]}),Object.keys(e.stressorCounts).length>0&&(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Common External Stressors"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(e.stressorCounts).sort(([,a],[,b])=>b-a).slice(0,8).map(([a,c])=>(0,b.jsxs)("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:c}),(0,b.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:a})]},a))})]})]}):(0,b.jsxs)(f.default,{className:"p-8 text-center",children:[(0,b.jsx)(d.FiBarChart,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Analytics Available"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Start journaling to see your trading psychology patterns and insights"})]})};var l=a.i(42029);function m(){let{theme:a,toggleTheme:g}=(0,l.useTheme)(),[m]=(0,c.useState)(()=>!1),[n,o]=(0,c.useState)("entries"),[p,q]=(0,c.useState)(new Date().toISOString().split("T")[0]),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)("");(0,c.useEffect)(()=>{m&&D()},[m]);let D=async()=>{try{u(!0);let a=await fetch("/api/journal",{headers:{"x-user-id":"demo-user"}});if(!a.ok)throw Error("Failed to load journal entries");let b=await a.json();s(b)}catch(a){console.error("Error loading journal entries:",a),i.default.error("Failed to load journal entries")}finally{u(!1)}},E=async a=>{if(confirm("Are you sure you want to delete this journal entry?"))try{if(!(await fetch(`/api/journal/${a}`,{method:"DELETE",headers:{"x-user-id":"demo-user"}})).ok)throw Error("Failed to delete entry");s(b=>b.filter(b=>b.id!==a)),i.default.success("Journal entry deleted")}catch(a){console.error("Error deleting journal entry:",a),i.default.error("Failed to delete journal entry")}},F=r.filter(a=>{let b=!z||a.phaseNotes?.toLowerCase().includes(z.toLowerCase())||a.mentalState?.toLowerCase().includes(z.toLowerCase()),c=!B||a.phase===B;return b&&c}),G=r.find(a=>a.date===p),H=[{id:"entries",label:"Daily Entries",icon:d.FiBookOpen},{id:"analytics",label:"Analytics",icon:d.FiTrendingUp}];return m?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,b.jsx)(e.default,{onThemeToggle:g,currentTheme:a}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Trading Journal"}),(0,b.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Track your mental state, trading phases, and personal growth journey"})]}),(0,b.jsx)(f.default,{className:"p-1 mb-6",children:(0,b.jsx)("div",{className:"flex space-x-1",children:H.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>o(a.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${n===a.id?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[(0,b.jsx)(c,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:a.label})]},a.id)})})}),"entries"===n&&(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-1",children:[(0,b.jsxs)(f.default,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Date"}),(0,b.jsx)("button",{onClick:()=>{q(new Date().toISOString().split("T")[0]),y(null),w(!1)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Today"})]}),(0,b.jsx)("input",{type:"date",value:p,onChange:a=>{q(a.target.value),y(null),w(!1)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,b.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Entries"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.length})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This Month"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.filter(a=>new Date(a.date).getMonth()===new Date().getMonth()).length})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Streak"}),(0,b.jsx)("span",{className:"font-semibold text-green-600",children:"7 days"})]})]})]}),(0,b.jsx)(h,{entries:r,className:"mt-6"})]}),(0,b.jsxs)("div",{className:"lg:col-span-2",children:[(0,b.jsx)(f.default,{className:"p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(d.FiSearch,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,b.jsx)("input",{type:"text",placeholder:"Search entries...",value:z,onChange:a=>A(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,b.jsxs)("select",{value:B,onChange:a=>C(a.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,b.jsx)("option",{value:"",children:"All Phases"}),(0,b.jsx)("option",{value:"learning",children:"Learning"}),(0,b.jsx)("option",{value:"discipline",children:"Discipline"}),(0,b.jsx)("option",{value:"consistency",children:"Consistency"}),(0,b.jsx)("option",{value:"optimization",children:"Optimization"})]})]})}),G||v?(0,b.jsx)(j,{date:p,existingEntry:x||G,onSave:a=>{x?(s(b=>b.map(b=>b.id===a.id?a:b)),y(null)):s(b=>[a,...b]),w(!1),i.default.success("Journal entry saved")},onCancel:()=>{w(!1),y(null)}}):(0,b.jsxs)(f.default,{className:"p-8 text-center",children:[(0,b.jsx)(d.FiBookOpen,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:["No Entry for ",new Date(p).toLocaleDateString()]}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start your daily reflection to track your trading journey"}),(0,b.jsxs)("button",{onClick:()=>w(!0),className:"inline-flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(d.FiPlus,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Create Entry"})]})]}),(0,b.jsxs)(f.default,{className:"p-6 mt-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Recent Entries (",F.length,")"]}),(0,b.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})}):F.length>0?F.slice(0,10).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",onClick:()=>{y(a),q(a.date),w(!0)},children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:new Date(a.date).toLocaleDateString()}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.phase&&`${a.phase} • `,a.mentalState&&`Feeling: ${a.mentalState}`]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[a.confidence&&(0,b.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[a.confidence,"/10"]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),E(a.id)},className:"text-red-500 hover:text-red-700 p-1",children:"×"})]})]},a.id)):(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No entries found"})})]})]})]}),"analytics"===n&&(0,b.jsx)(k,{entries:r})]}),(0,b.jsx)(i.Toaster,{position:"bottom-right"})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900"})}a.s(["default",()=>m],32716)}];

//# sourceMappingURL=src_app_journal_page_tsx_6cb02881._.js.map