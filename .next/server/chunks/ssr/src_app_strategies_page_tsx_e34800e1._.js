module.exports=[16140,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(27348),f=a.i(62036),g=a.i(28268),h=a.i(6704);let i=["conservative","moderate","aggressive"],j=["low","medium","high"];function k({strategyId:a,onClose:f,onSuccess:k}){let[l,m]=(0,c.useState)({name:"",entryLogic:"",confirmationStyle:"moderate",riskStyle:"medium",notes:""}),[n,o]=(0,c.useState)(!1),p=async b=>{if(b.preventDefault(),!l.name.trim()||!l.entryLogic.trim())return void h.default.error("Name and entry logic are required");o(!0);try{let b=await fetch(`/api/strategies/${a}/entry-models`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.name.trim(),entryLogic:l.entryLogic.trim(),confirmationStyle:l.confirmationStyle,riskStyle:l.riskStyle,notes:l.notes.trim()||void 0})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to create entry model")}k()}catch(a){console.error("Error creating entry model:",a),h.default.error(a instanceof Error?a.message:"Failed to create entry model")}finally{o(!1)}};return(0,b.jsx)(g.default,{open:!0,onClose:f,children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg flex items-center justify-center",children:(0,b.jsx)(e.FiTarget,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create Entry Model"})]}),(0,b.jsx)("button",{onClick:f,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(e.FiX,{className:"w-5 h-5 text-gray-500"})})]}),(0,b.jsxs)("form",{onSubmit:p,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Model Name *"}),(0,b.jsx)("input",{type:"text",value:l.name,onChange:a=>m(b=>({...b,name:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Breakout Entry with Volume Confirmation",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Entry Logic *"}),(0,b.jsx)("textarea",{value:l.entryLogic,onChange:a=>m(b=>({...b,entryLogic:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:4,placeholder:"Describe the specific conditions and logic for entering trades...",required:!0}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Be specific about price action, indicators, volume requirements, etc."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Confirmation Style"}),(0,b.jsx)("div",{className:"flex gap-3",children:i.map(a=>(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"radio",name:"confirmationStyle",value:a,checked:l.confirmationStyle===a,onChange:a=>m(b=>({...b,confirmationStyle:a.target.value})),className:"sr-only"}),(0,b.jsx)("span",{className:`px-4 py-2 rounded-lg border cursor-pointer transition-all capitalize ${l.confirmationStyle===a?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-blue-400"}`,children:a})]},a))}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Conservative: Multiple confirmations required",(0,b.jsx)("br",{}),"Moderate: Standard confirmation signals",(0,b.jsx)("br",{}),"Aggressive: Quick entries with minimal confirmation"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Risk Style"}),(0,b.jsx)("div",{className:"flex gap-3",children:j.map(a=>(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"radio",name:"riskStyle",value:a,checked:l.riskStyle===a,onChange:a=>m(b=>({...b,riskStyle:a.target.value})),className:"sr-only"}),(0,b.jsx)("span",{className:`px-4 py-2 rounded-lg border cursor-pointer transition-all capitalize ${l.riskStyle===a?"bg-orange-600 text-white border-orange-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-orange-400"}`,children:a})]},a))}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Low: Conservative position sizing",(0,b.jsx)("br",{}),"Medium: Balanced risk-reward approach",(0,b.jsx)("br",{}),"High: Aggressive position sizing for higher potential returns"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Additional Notes"}),(0,b.jsx)("textarea",{value:l.notes,onChange:a=>m(b=>({...b,notes:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3,placeholder:"Any additional notes or considerations..."})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("button",{type:"button",onClick:f,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",disabled:n,children:"Cancel"}),(0,b.jsxs)(d.motion.button,{type:"submit",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:[(0,b.jsx)(e.FiSave,{className:"w-4 h-4"}),n?"Creating...":"Create Model"]})]})]})]})})}function l({strategyId:a,onUpdate:f}){let[g,i]=(0,c.useState)([]),[j,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(!1),o=async()=>{try{let b=await fetch(`/api/strategies/${a}/entry-models`);if(!b.ok)throw Error("Failed to fetch entry models");let c=await b.json();i(c)}catch(a){console.error("Error fetching entry models:",a),h.default.error("Failed to load entry models")}finally{l(!1)}};(0,c.useEffect)(()=>{o()},[a]);let p=async b=>{if(confirm("Are you sure you want to delete this entry model?"))try{if(!(await fetch(`/api/strategies/${a}/entry-models/${b}`,{method:"DELETE"})).ok)throw Error("Failed to delete entry model");i(a=>a.filter(a=>a.id!==b)),h.default.success("Entry model deleted successfully")}catch(a){console.error("Error deleting entry model:",a),h.default.error("Failed to delete entry model")}};return j?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg"},c))})}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Entry Models"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Define how you enter trades within this strategy"})]}),(0,b.jsxs)(d.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg",children:[(0,b.jsx)(e.FiPlus,{className:"w-4 h-4"}),"Add Model"]})]}),0===g.length?(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(e.FiTarget,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No entry models yet"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create your first entry model to define how you enter trades."}),(0,b.jsx)(d.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg",children:"Create First Model"})]}):(0,b.jsx)("div",{className:"space-y-4",children:g.map((a,c)=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.name}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a.toLowerCase()){case"conservative":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"moderate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"aggressive":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(a.confirmationStyle)}`,children:a.confirmationStyle}),(0,b.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a.toLowerCase()){case"low":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"medium":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(a.riskStyle)}`,children:[a.riskStyle," Risk"]})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Entry Logic"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg",children:a.entryLogic})]}),a.notes&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.notes})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit model",children:(0,b.jsx)(e.FiEdit3,{className:"w-4 h-4 text-gray-500"})}),(0,b.jsx)("button",{onClick:()=>p(a.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete model",children:(0,b.jsx)(e.FiTrash2,{className:"w-4 h-4 text-red-500"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("span",{children:["Created ",new Date(a.createdAt).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(e.FiShield,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.confirmationStyle})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(e.FiTrendingUp,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.riskStyle})]})]})]})]},a.id))}),m&&(0,b.jsx)(k,{strategyId:a,onClose:()=>n(!1),onSuccess:()=>{n(!1),o(),h.default.success("Entry model created successfully")}})]})}let m=["1m","5m","15m","30m","1h","4h","Daily","Weekly"];function n({strategyId:a,onClose:f,onSuccess:i}){let[j,k]=(0,c.useState)({name:"",description:""}),[l,n]=(0,c.useState)([{timeframe:"Daily",description:"Trend direction and key levels"},{timeframe:"4h",description:"Entry timing and momentum"},{timeframe:"1h",description:"Precise entry and stop placement"}]),[o,p]=(0,c.useState)(!1),q=(a,b,c)=>{n(d=>d.map((d,e)=>e===a?{...d,[b]:c}:d))},r=(a,b)=>{let c="up"===b?a-1:a+1;c<0||c>=l.length||n(b=>{let d=[...b];return[d[a],d[c]]=[d[c],d[a]],d})},s=async b=>{if(b.preventDefault(),!j.name.trim())return void h.default.error("Sequence name is required");if(0===l.length)return void h.default.error("At least one timeframe step is required");if(l.some(a=>!a.timeframe.trim()))return void h.default.error("All timeframe steps must have a timeframe selected");p(!0);try{let b=await fetch(`/api/strategies/${a}/sequences`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j.name.trim(),description:j.description.trim()||void 0,steps:l.map((a,b)=>({timeframe:a.timeframe.trim(),orderIndex:b,description:a.description.trim()||void 0}))})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to create sequence")}i()}catch(a){console.error("Error creating sequence:",a),h.default.error(a instanceof Error?a.message:"Failed to create sequence")}finally{p(!1)}};return(0,b.jsx)(g.default,{open:!0,onClose:f,children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-600 to-orange-700 rounded-lg flex items-center justify-center",children:(0,b.jsx)(e.FiSettings,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create Timeframe Sequence"})]}),(0,b.jsx)("button",{onClick:f,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(e.FiX,{className:"w-5 h-5 text-gray-500"})})]}),(0,b.jsxs)("form",{onSubmit:s,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sequence Name *"}),(0,b.jsx)("input",{type:"text",value:j.name,onChange:a=>k(b=>({...b,name:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., London Breakout Analysis Sequence",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:j.description,onChange:a=>k(b=>({...b,description:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3,placeholder:"Describe the purpose and methodology of this sequence..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Analysis Steps *"}),(0,b.jsxs)("button",{type:"button",onClick:()=>{n(a=>[...a,{timeframe:"1h",description:""}])},className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/50 transition-colors text-sm",children:[(0,b.jsx)(e.FiPlus,{className:"w-3 h-3"}),"Add Step"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:l.map((a,c)=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex items-center gap-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{className:"flex items-center justify-center w-8 h-8 bg-orange-600 text-white text-sm font-bold rounded-full",children:c+1})}),(0,b.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Timeframe"}),(0,b.jsx)("select",{value:a.timeframe,onChange:a=>q(c,"timeframe",a.target.value),className:"w-full px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded text-sm focus:ring-1 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-600 text-gray-900 dark:text-white",children:m.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Description"}),(0,b.jsx)("input",{type:"text",value:a.description,onChange:a=>q(c,"description",a.target.value),className:"w-full px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded text-sm focus:ring-1 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-600 text-gray-900 dark:text-white",placeholder:"What to analyze at this timeframe"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{type:"button",onClick:()=>r(c,"up"),disabled:0===c,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Move up",children:"↑"}),(0,b.jsx)("button",{type:"button",onClick:()=>r(c,"down"),disabled:c===l.length-1,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Move down",children:"↓"}),(0,b.jsx)("button",{type:"button",onClick:()=>{n(a=>a.filter((a,b)=>b!==c))},disabled:1===l.length,className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove step",children:(0,b.jsx)(e.FiTrash2,{className:"w-3 h-3"})})]})]},c))}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Define the order of timeframes you analyze, from highest to lowest timeframe. Start with broader context and move to precise entry timing."})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("button",{type:"button",onClick:f,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",disabled:o,children:"Cancel"}),(0,b.jsxs)(d.motion.button,{type:"submit",disabled:o,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:[(0,b.jsx)(e.FiSave,{className:"w-4 h-4"}),o?"Creating...":"Create Sequence"]})]})]})]})})}function o({strategyId:a,onUpdate:f}){let[g,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),o=async()=>{try{let b=await fetch(`/api/strategies/${a}/sequences`);if(!b.ok)throw Error("Failed to fetch sequences");let c=await b.json();i(c)}catch(a){console.error("Error fetching sequences:",a),h.default.error("Failed to load sequences")}finally{k(!1)}};(0,c.useEffect)(()=>{o()},[a]);let p=async b=>{if(confirm("Are you sure you want to delete this sequence? This will also delete all associated steps."))try{if(!(await fetch(`/api/strategies/${a}/sequences/${b}`,{method:"DELETE"})).ok)throw Error("Failed to delete sequence");i(a=>a.filter(a=>a.id!==b)),h.default.success("Sequence deleted successfully")}catch(a){console.error("Error deleting sequence:",a),h.default.error("Failed to delete sequence")}};return j?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-40 bg-gray-200 rounded-lg"},c))})}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Timeframe Sequences"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Define the order of timeframes you analyze for trade entries"})]}),(0,b.jsxs)(d.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg",children:[(0,b.jsx)(e.FiPlus,{className:"w-4 h-4"}),"Add Sequence"]})]}),0===g.length?(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(e.FiSettings,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No sequences yet"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create timeframe sequences to structure your multi-timeframe analysis."}),(0,b.jsx)(d.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg",children:"Create First Sequence"})]}):(0,b.jsx)("div",{className:"space-y-6",children:g.map((a,c)=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.name}),(0,b.jsxs)("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400 text-xs font-medium rounded",children:[a.steps.length," steps"]})]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit sequence",children:(0,b.jsx)(e.FiEdit3,{className:"w-4 h-4 text-gray-500"})}),(0,b.jsx)("button",{onClick:()=>p(a.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete sequence",children:(0,b.jsx)(e.FiTrash2,{className:"w-4 h-4 text-red-500"})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[(0,b.jsx)(e.FiClock,{className:"w-4 h-4"}),"Analysis Sequence"]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-3",children:a.steps.sort((a,b)=>a.orderIndex-b.orderIndex).map((a,c)=>{let d;return(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg px-3 py-2",children:[(0,b.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-orange-600 text-white text-xs font-bold rounded-full",children:c+1}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${(d=a.timeframe.toLowerCase()).includes("1m")||d.includes("5m")?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":d.includes("15m")||d.includes("30m")||d.includes("1h")?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":d.includes("4h")||d.includes("daily")?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:a.timeframe}),a.description&&(0,b.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400 max-w-32 truncate",children:a.description})]},a.id)})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("span",{children:["Created ",new Date(a.createdAt).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(e.FiTrendingUp,{className:"w-3 h-3"}),(0,b.jsxs)("span",{children:[a.steps.length," timeframes"]})]})]})]},a.id))}),l&&(0,b.jsx)(n,{strategyId:a,onClose:()=>m(!1),onSuccess:()=>{m(!1),o(),h.default.success("Sequence created successfully")}})]})}let p=["entry","exit","risk","discipline"],q=["low","medium","high","critical"];function r({strategyId:a,onClose:f,onSuccess:i}){let[j,k]=(0,c.useState)({name:"",description:"",category:"entry",severity:"medium",isActive:!0}),[l,m]=(0,c.useState)(!1),n=async b=>{if(b.preventDefault(),!j.name.trim()||!j.description.trim())return void h.default.error("Name and description are required");m(!0);try{let b=await fetch(`/api/strategies/${a}/rules`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j.name.trim(),description:j.description.trim(),category:j.category,severity:j.severity,isActive:j.isActive})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to create rule")}i()}catch(a){console.error("Error creating rule:",a),h.default.error(a instanceof Error?a.message:"Failed to create rule")}finally{m(!1)}};return(0,b.jsx)(g.default,{open:!0,onClose:f,children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-red-600 to-red-700 rounded-lg flex items-center justify-center",children:(0,b.jsx)(e.FiBookOpen,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create Strategy Rule"})]}),(0,b.jsx)("button",{onClick:f,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(e.FiX,{className:"w-5 h-5 text-gray-500"})})]}),(0,b.jsxs)("form",{onSubmit:n,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rule Name *"}),(0,b.jsx)("input",{type:"text",value:j.name,onChange:a=>k(b=>({...b,name:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Never risk more than 2% per trade",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rule Description *"}),(0,b.jsx)("textarea",{value:j.description,onChange:a=>k(b=>({...b,description:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:4,placeholder:"Describe the rule in detail and explain why it's important...",required:!0}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Be specific about what the rule requires and the consequences of breaking it."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Category"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:p.map(a=>(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"radio",name:"category",value:a,checked:j.category===a,onChange:a=>k(b=>({...b,category:a.target.value})),className:"sr-only"}),(0,b.jsxs)("span",{className:`flex-1 px-4 py-3 rounded-lg border cursor-pointer transition-all ${j.category===a?"bg-red-600 text-white border-red-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-red-400"}`,children:[(0,b.jsx)("div",{className:"font-medium capitalize",children:a}),(0,b.jsx)("div",{className:"text-xs opacity-80 mt-1",children:(a=>{switch(a){case"entry":return"Rules for when and how to enter trades";case"exit":return"Rules for when and how to exit trades";case"risk":return"Rules for position sizing and risk management";case"discipline":return"Rules for maintaining trading discipline";default:return""}})(a)})]})]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Severity Level"}),(0,b.jsx)("div",{className:"space-y-2",children:q.map(a=>(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"radio",name:"severity",value:a,checked:j.severity===a,onChange:a=>k(b=>({...b,severity:a.target.value})),className:"sr-only"}),(0,b.jsx)("span",{className:`flex-1 px-4 py-3 rounded-lg border cursor-pointer transition-all ${j.severity===a?"bg-red-600 text-white border-red-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-red-400"}`,children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium capitalize",children:a}),(0,b.jsx)("div",{className:"text-xs opacity-80 mt-1",children:(a=>{switch(a){case"low":return"Minor rule, occasional violations acceptable";case"medium":return"Important rule, violations should be rare";case"high":return"Critical rule, strict adherence required";case"critical":return"Essential rule, never break under any circumstances";default:return""}})(a)})]}),(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${"critical"===a?"bg-red-400":"high"===a?"bg-orange-400":"medium"===a?"bg-yellow-400":"bg-green-400"}`})]})})]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",checked:j.isActive,onChange:a=>k(b=>({...b,isActive:a.target.checked})),className:"rounded border-gray-300 dark:border-gray-600 text-red-600 focus:ring-red-500"}),(0,b.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Rule is active and should be enforced"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6",children:"Inactive rules are kept for reference but won't trigger violations."})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("button",{type:"button",onClick:f,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",disabled:l,children:"Cancel"}),(0,b.jsxs)(d.motion.button,{type:"submit",disabled:l,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:[(0,b.jsx)(e.FiSave,{className:"w-4 h-4"}),l?"Creating...":"Create Rule"]})]})]})]})})}function s({strategyId:a,onUpdate:f}){let[g,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),n=async()=>{try{let b=await fetch(`/api/strategies/${a}/rules`);if(!b.ok)throw Error("Failed to fetch rules");let c=await b.json();i(c)}catch(a){console.error("Error fetching rules:",a),h.default.error("Failed to load rules")}finally{k(!1)}};(0,c.useEffect)(()=>{n()},[a]);let o=async b=>{if(confirm("Are you sure you want to delete this rule?"))try{if(!(await fetch(`/api/strategies/${a}/rules/${b}`,{method:"DELETE"})).ok)throw Error("Failed to delete rule");i(a=>a.filter(a=>a.id!==b)),h.default.success("Rule deleted successfully")}catch(a){console.error("Error deleting rule:",a),h.default.error("Failed to delete rule")}};return j?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg"},c))})}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Strategy Rules"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Define rules to maintain discipline and consistency in your trading"})]}),(0,b.jsxs)(d.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg",children:[(0,b.jsx)(e.FiPlus,{className:"w-4 h-4"}),"Add Rule"]})]}),0===g.length?(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(e.FiBookOpen,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No rules yet"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create rules to maintain discipline and consistency in your trading strategy."}),(0,b.jsx)(d.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg",children:"Create First Rule"})]}):(0,b.jsx)("div",{className:"space-y-4",children:g.map((a,c)=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.name}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a.toLowerCase()){case"entry":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"exit":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"risk":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"discipline":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(a.category)}`,children:a.category}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a.toLowerCase()){case"critical":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(a.severity)}`,children:a.severity}),a.isActive?(0,b.jsxs)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,b.jsx)(e.FiCheckCircle,{className:"w-3 h-3"}),"Active"]}):(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-400 text-xs font-medium rounded-full",children:"Inactive"})]})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg",children:a.description})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit rule",children:(0,b.jsx)(e.FiEdit3,{className:"w-4 h-4 text-gray-500"})}),(0,b.jsx)("button",{onClick:()=>o(a.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete rule",children:(0,b.jsx)(e.FiTrash2,{className:"w-4 h-4 text-red-500"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("span",{children:["Created ",new Date(a.createdAt).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(e.FiAlertTriangle,{className:"w-3 h-3"}),(0,b.jsxs)("span",{children:[a.severity," priority"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(e.FiBookOpen,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.category})]})]})]})]},a.id))}),l&&(0,b.jsx)(r,{strategyId:a,onClose:()=>m(!1),onSuccess:()=>{m(!1),n(),h.default.success("Rule created successfully")}})]})}let t=["bull","bear","mixed"],u=["London","New York","Tokyo","Sydney","Asian","European","American"],v=[{id:"overview",label:"Overview",icon:e.FiTarget},{id:"entry-models",label:"Entry Models",icon:e.FiTarget},{id:"sequences",label:"Sequences",icon:e.FiSettings},{id:"rules",label:"Rules",icon:e.FiBookOpen}];function w({strategy:a,onClose:i,onUpdate:j}){let[k,m]=(0,c.useState)("overview"),[n,p]=(0,c.useState)(a),[q,r]=(0,c.useState)(!1),[w,x]=(0,c.useState)({name:a.name,description:a.description||"",marketType:a.marketType,preferredSessions:a.preferredSessions||[],riskPhilosophy:a.riskPhilosophy||""}),[y,z]=(0,c.useState)(!1),A=async()=>{z(!0);try{let a=await fetch(`/api/strategies/${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w.name.trim(),description:w.description.trim()||void 0,marketType:w.marketType,preferredSessions:w.preferredSessions.length>0?w.preferredSessions:void 0,riskPhilosophy:w.riskPhilosophy.trim()||void 0})});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to update strategy")}let b=await a.json();p(b),r(!1),j(),h.default.success("Strategy updated successfully")}catch(a){console.error("Error updating strategy:",a),h.default.error(a instanceof Error?a.message:"Failed to update strategy")}finally{z(!1)}},B=a=>{p(a),j()};return(0,b.jsx)(g.default,{open:!0,onClose:i,children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg flex items-center justify-center",children:(0,b.jsx)(e.FiTarget,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[q?(0,b.jsx)("input",{type:"text",value:w.name,onChange:a=>x(b=>({...b,name:a.target.value})),className:"text-xl font-semibold bg-transparent border-b border-gray-300 dark:border-gray-600 focus:border-purple-500 outline-none text-gray-900 dark:text-white",autoFocus:!0}):(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Created ",new Date(n.createdAt).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>{r(!1),x({name:n.name,description:n.description||"",marketType:n.marketType,preferredSessions:n.preferredSessions||[],riskPhilosophy:n.riskPhilosophy||""})},className:"px-3 py-1.5 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)(d.motion.button,{onClick:A,disabled:y,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-1.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 disabled:opacity-50 transition-all duration-200",children:[(0,b.jsx)(e.FiSave,{className:"w-4 h-4"}),y?"Saving...":"Save"]})]}):(0,b.jsx)("button",{onClick:()=>r(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(e.FiEdit3,{className:"w-5 h-5 text-gray-500"})}),(0,b.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(e.FiX,{className:"w-5 h-5 text-gray-500"})})]})]}),(0,b.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:v.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>m(a.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium transition-colors ${k===a.id?"text-purple-600 dark:text-purple-400 border-b-2 border-purple-600 dark:border-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,b.jsx)(c,{className:"w-4 h-4"}),a.label]},a.id)})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,b.jsxs)(f.AnimatePresence,{mode:"wait",children:["overview"===k&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),q?(0,b.jsx)("textarea",{value:w.description,onChange:a=>x(b=>({...b,description:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3}):(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:n.description||"No description provided"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Market Type"}),q?(0,b.jsx)("div",{className:"flex gap-2",children:t.map(a=>(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"radio",name:"marketType",value:a,checked:w.marketType===a,onChange:a=>x(b=>({...b,marketType:a.target.value})),className:"sr-only"}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg border cursor-pointer transition-all text-sm ${w.marketType===a?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-purple-400"}`,children:a.charAt(0).toUpperCase()+a.slice(1)})]},a))}):(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"bull"===n.marketType?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bear"===n.marketType?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:n.marketType.toUpperCase()})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Preferred Trading Sessions"}),q?(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:u.map(a=>(0,b.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:w.preferredSessions.includes(a),onChange:()=>{x(b=>({...b,preferredSessions:b.preferredSessions.includes(a)?b.preferredSessions.filter(b=>b!==a):[...b.preferredSessions,a]}))},className:"rounded border-gray-300 dark:border-gray-600 text-purple-600 focus:ring-purple-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:a})]},a))}):(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:n.preferredSessions&&n.preferredSessions.length>0?n.preferredSessions.map(a=>(0,b.jsx)("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-sm text-gray-700 dark:text-gray-300 rounded-lg",children:a},a)):(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"No preferred sessions set"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Risk Philosophy"}),q?(0,b.jsx)("textarea",{value:w.riskPhilosophy,onChange:a=>x(b=>({...b,riskPhilosophy:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3}):(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:n.riskPhilosophy||"No risk philosophy defined"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-1",children:n.entryModels.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Entry Models"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400 mb-1",children:n.timeframeSequences.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sequences"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mb-1",children:n.rules.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rules"})]})]})]},"overview"),"entry-models"===k&&(0,b.jsx)(d.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,b.jsx)(l,{strategyId:n.id,onUpdate:B})},"entry-models"),"sequences"===k&&(0,b.jsx)(d.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,b.jsx)(o,{strategyId:n.id,onUpdate:B})},"sequences"),"rules"===k&&(0,b.jsx)(d.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,b.jsx)(s,{strategyId:n.id,onUpdate:B})},"rules")]})})]})})}function x({strategy:a,onDelete:f,onUpdate:g}){let[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),m=async()=>{if(confirm("Are you sure you want to delete this strategy? This action cannot be undone."))try{if(!(await fetch(`/api/strategies/${a.id}`,{method:"DELETE"})).ok)throw Error("Failed to delete strategy");f(a.id)}catch(a){console.error("Error deleting strategy:",a),h.default.error("Failed to delete strategy")}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(d.motion.div,{whileHover:{y:-2},className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>j(!0),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:a.description})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),l(!k)},className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,b.jsx)(e.FiMoreVertical,{className:"w-4 h-4 text-gray-500"})}),k&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"absolute right-0 top-8 w-32 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-lg z-10",children:[(0,b.jsxs)("button",{onClick:a=>{a.stopPropagation(),j(!0),l(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-t-lg flex items-center gap-2",children:[(0,b.jsx)(e.FiEdit3,{className:"w-3 h-3"}),"Edit"]}),(0,b.jsxs)("button",{onClick:a=>{a.stopPropagation(),m(),l(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg flex items-center gap-2",children:[(0,b.jsx)(e.FiTrash2,{className:"w-3 h-3"}),"Delete"]})]})]})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(a=>{switch(a.toLowerCase()){case"bull":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"bear":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"mixed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(a.marketType)}`,children:a.marketType.toUpperCase()})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg mx-auto mb-1",children:(0,b.jsx)(e.FiTarget,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Models"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:a.entryModels.length})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg mx-auto mb-1",children:(0,b.jsx)(e.FiSettings,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Sequences"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:a.timeframeSequences.length})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg mx-auto mb-1",children:(0,b.jsx)(e.FiBookOpen,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Rules"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:a.rules.length})]})]}),a.preferredSessions&&a.preferredSessions.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Preferred Sessions:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.preferredSessions.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-xs text-gray-700 dark:text-gray-300 rounded",children:a},a))})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,b.jsxs)("span",{children:["Created ",new Date(a.createdAt).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(e.FiTrendingUp,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:"Active"})]})]})]}),i&&(0,b.jsx)(w,{strategy:a,onClose:()=>j(!1),onUpdate:g})]})}let y=["bull","bear","mixed"],z=["London","New York","Tokyo","Sydney","Asian","European","American"];function A({onClose:a,onSuccess:f}){let[i,j]=(0,c.useState)({name:"",description:"",marketType:"mixed",preferredSessions:[],riskPhilosophy:""}),[k,l]=(0,c.useState)(!1),m=async a=>{if(a.preventDefault(),!i.name.trim())return void h.default.error("Strategy name is required");l(!0);try{let a=await fetch("/api/strategies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name.trim(),description:i.description.trim()||void 0,marketType:i.marketType,preferredSessions:i.preferredSessions.length>0?i.preferredSessions:void 0,riskPhilosophy:i.riskPhilosophy.trim()||void 0})});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to create strategy")}f()}catch(a){console.error("Error creating strategy:",a),h.default.error(a instanceof Error?a.message:"Failed to create strategy")}finally{l(!1)}};return(0,b.jsx)(g.default,{open:!0,onClose:a,children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create New Strategy"}),(0,b.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(e.FiX,{className:"w-5 h-5 text-gray-500"})})]}),(0,b.jsxs)("form",{onSubmit:m,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Strategy Name *"}),(0,b.jsx)("input",{type:"text",value:i.name,onChange:a=>j(b=>({...b,name:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., London Breakout Strategy",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:i.description,onChange:a=>j(b=>({...b,description:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3,placeholder:"Describe your strategy approach and methodology..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Market Type"}),(0,b.jsx)("div",{className:"flex gap-3",children:y.map(a=>(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"radio",name:"marketType",value:a,checked:i.marketType===a,onChange:a=>j(b=>({...b,marketType:a.target.value})),className:"sr-only"}),(0,b.jsx)("span",{className:`px-4 py-2 rounded-lg border cursor-pointer transition-all ${i.marketType===a?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-purple-400"}`,children:a.charAt(0).toUpperCase()+a.slice(1)})]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Preferred Trading Sessions"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:z.map(a=>(0,b.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:i.preferredSessions.includes(a),onChange:()=>{j(b=>({...b,preferredSessions:b.preferredSessions.includes(a)?b.preferredSessions.filter(b=>b!==a):[...b.preferredSessions,a]}))},className:"rounded border-gray-300 dark:border-gray-600 text-purple-600 focus:ring-purple-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:a})]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Risk Philosophy"}),(0,b.jsx)("textarea",{value:i.riskPhilosophy,onChange:a=>j(b=>({...b,riskPhilosophy:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3,placeholder:"Describe your risk management approach..."})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",disabled:k,children:"Cancel"}),(0,b.jsxs)(d.motion.button,{type:"submit",disabled:k,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:[(0,b.jsx)(e.FiSave,{className:"w-4 h-4"}),k?"Creating...":"Create Strategy"]})]})]})]})})}function B(){let[a,f]=(0,c.useState)([]),[g,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(!1),l=async()=>{try{let a=await fetch("/api/strategies");if(!a.ok)throw Error("Failed to fetch strategies");let b=await a.json();f(b)}catch(a){console.error("Error fetching strategies:",a),h.default.error("Failed to load strategies")}finally{i(!1)}};(0,c.useEffect)(()=>{l()},[]);let m=a=>{f(b=>b.filter(b=>b.id!==a)),h.default.success("Strategy deleted successfully")};return g?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,c)=>(0,b.jsx)("div",{className:"h-64 bg-gray-200 rounded-lg"},c))})]})}):(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Trading Strategies"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your trading strategies, entry models, and rules"})]}),(0,b.jsxs)(d.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg",children:[(0,b.jsx)(e.FiPlus,{className:"w-4 h-4"}),"New Strategy"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,b.jsx)(e.FiTarget,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Strategies"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.length})]})]})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,b.jsx)(e.FiTrendingUp,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Models"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.reduce((a,b)=>a+b.entryModels.length,0)})]})]})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:(0,b.jsx)(e.FiSettings,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sequences"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.reduce((a,b)=>a+b.timeframeSequences.length,0)})]})]})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,b.jsx)(e.FiBookOpen,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rules"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.reduce((a,b)=>a+b.rules.length,0)})]})]})})]}),0===a.length?(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(e.FiTarget,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No strategies yet"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create your first trading strategy to get started with structured trading."}),(0,b.jsx)(d.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg",children:"Create Your First Strategy"})]}):(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((a,c)=>(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},children:(0,b.jsx)(x,{strategy:a,onDelete:m,onUpdate:l})},a.id))}),j&&(0,b.jsx)(A,{onClose:()=>k(!1),onSuccess:()=>{k(!1),l(),h.default.success("Strategy created successfully")}})]})}a.s(["default",()=>B],16140)}];

//# sourceMappingURL=src_app_strategies_page_tsx_e34800e1._.js.map