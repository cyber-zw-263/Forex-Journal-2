module.exports=[16140,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(27348),e=a.i(46271),f=a.i(62036),g=a.i(28268),h=a.i(6704);let i=["conservative","moderate","aggressive"],j=["low","medium","high"];function k({strategyId:a,onClose:f,onSuccess:k}){let[l,m]=(0,c.useState)({name:"",entryLogic:"",confirmationStyle:"moderate",riskStyle:"medium",notes:""}),[n,o]=(0,c.useState)(!1),p=async b=>{if(b.preventDefault(),!l.name.trim()||!l.entryLogic.trim())return void h.default.error("Name and entry logic are required");o(!0);try{let b=await fetch(`/api/strategies/${a}/entry-models`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.name.trim(),entryLogic:l.entryLogic.trim(),confirmationStyle:l.confirmationStyle,riskStyle:l.riskStyle,notes:l.notes.trim()||void 0})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to create entry model")}k()}catch(a){console.error("Error creating entry model:",a),h.default.error(a instanceof Error?a.message:"Failed to create entry model")}finally{o(!1)}};return(0,b.jsx)(g.default,{open:!0,onClose:f,children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},style:{background:"var(--background)",borderRadius:"12px",boxShadow:"var(--shadow-lg)",maxWidth:"800px",width:"100%",margin:"0 16px",maxHeight:"90vh",overflowY:"auto"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"24px",borderBottom:"1px solid var(--border)"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,b.jsx)("div",{style:{width:"40px",height:"40px",background:"var(--accent-bg)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsx)(d.FiTarget,{style:{width:"20px",height:"20px",color:"var(--accent-color)"}})}),(0,b.jsx)("h2",{style:{fontSize:"20px",fontWeight:"600",color:"var(--text-primary)",margin:"0"},children:"Create Entry Model"})]}),(0,b.jsx)("button",{onClick:f,style:{padding:"8px",background:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:a=>a.currentTarget.style.background="var(--hover-bg)",onMouseLeave:a=>a.currentTarget.style.background="transparent",children:(0,b.jsx)(d.FiX,{style:{width:"20px",height:"20px"}})})]}),(0,b.jsxs)("form",{onSubmit:p,style:{padding:"24px",display:"flex",flexDirection:"column",gap:"24px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"8px"},children:"Model Name *"}),(0,b.jsx)("input",{type:"text",value:l.name,onChange:a=>m(b=>({...b,name:a.target.value})),style:{width:"100%",padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--card-bg)",color:"var(--text-primary)",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:a=>a.currentTarget.style.borderColor="var(--accent-color)",onBlur:a=>a.currentTarget.style.borderColor="var(--border)",placeholder:"e.g., Breakout Entry with Volume Confirmation",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"8px"},children:"Entry Logic *"}),(0,b.jsx)("textarea",{value:l.entryLogic,onChange:a=>m(b=>({...b,entryLogic:a.target.value})),style:{width:"100%",padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--card-bg)",color:"var(--text-primary)",fontSize:"14px",resize:"none",outline:"none",transition:"border-color 0.2s"},onFocus:a=>a.currentTarget.style.borderColor="var(--accent-color)",onBlur:a=>a.currentTarget.style.borderColor="var(--border)",rows:4,placeholder:"Describe the specific conditions and logic for entering trades...",required:!0}),(0,b.jsx)("p",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:"Be specific about price action, indicators, volume requirements, etc."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"12px"},children:"Confirmation Style"}),(0,b.jsx)("div",{style:{display:"flex",gap:"12px"},children:i.map(a=>(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("input",{type:"radio",name:"confirmationStyle",value:a,checked:l.confirmationStyle===a,onChange:a=>m(b=>({...b,confirmationStyle:a.target.value})),style:{position:"absolute",opacity:0,pointerEvents:"none"}}),(0,b.jsx)("span",{style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid var(--border)",cursor:"pointer",transition:"all 0.2s",textTransform:"capitalize",background:l.confirmationStyle===a?"var(--accent-color)":"var(--card-bg)",color:l.confirmationStyle===a?"white":"var(--text-primary)",fontSize:"14px",fontWeight:"500"},children:a})]},a))}),(0,b.jsxs)("p",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px",lineHeight:"1.4"},children:["Conservative: Multiple confirmations required",(0,b.jsx)("br",{}),"Moderate: Standard confirmation signals",(0,b.jsx)("br",{}),"Aggressive: Quick entries with minimal confirmation"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"12px"},children:"Risk Style"}),(0,b.jsx)("div",{style:{display:"flex",gap:"12px"},children:j.map(a=>(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("input",{type:"radio",name:"riskStyle",value:a,checked:l.riskStyle===a,onChange:a=>m(b=>({...b,riskStyle:a.target.value})),style:{position:"absolute",opacity:0,pointerEvents:"none"}}),(0,b.jsx)("span",{style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid var(--border)",cursor:"pointer",transition:"all 0.2s",textTransform:"capitalize",background:l.riskStyle===a?"#ea580c":"var(--card-bg)",color:l.riskStyle===a?"white":"var(--text-primary)",fontSize:"14px",fontWeight:"500"},children:a})]},a))}),(0,b.jsxs)("p",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px",lineHeight:"1.4"},children:["Low: Conservative position sizing",(0,b.jsx)("br",{}),"Medium: Balanced risk-reward approach",(0,b.jsx)("br",{}),"High: Aggressive position sizing for higher potential returns"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"8px"},children:"Additional Notes"}),(0,b.jsx)("textarea",{value:l.notes,onChange:a=>m(b=>({...b,notes:a.target.value})),style:{width:"100%",padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--card-bg)",color:"var(--text-primary)",fontSize:"14px",resize:"none",outline:"none",transition:"border-color 0.2s"},onFocus:a=>a.currentTarget.style.borderColor="var(--accent-color)",onBlur:a=>a.currentTarget.style.borderColor="var(--border)",rows:3,placeholder:"Any additional notes or considerations..."})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",paddingTop:"16px",borderTop:"1px solid var(--border)"},children:[(0,b.jsx)("button",{type:"button",onClick:f,style:{padding:"8px 16px",background:"transparent",border:"none",borderRadius:"6px",color:"var(--text-secondary)",cursor:"pointer",fontSize:"14px",transition:"background 0.2s"},onMouseEnter:a=>a.currentTarget.style.background="var(--hover-bg)",onMouseLeave:a=>a.currentTarget.style.background="transparent",disabled:n,children:"Cancel"}),(0,b.jsxs)(e.motion.button,{type:"submit",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 24px",background:n?"var(--disabled-bg)":"var(--accent-color)",border:"none",borderRadius:"6px",color:"white",cursor:n?"not-allowed":"pointer",fontSize:"14px",fontWeight:"500",transition:"background 0.2s",boxShadow:"var(--shadow-md)"},onMouseEnter:a=>{n||(a.currentTarget.style.background="var(--accent-hover)")},onMouseLeave:a=>{n||(a.currentTarget.style.background="var(--accent-color)")},children:[(0,b.jsx)(d.FiSave,{style:{width:"16px",height:"16px"}}),n?"Creating...":"Create Model"]})]})]})]})})}function l({strategyId:a,onUpdate:f}){let[g,i]=(0,c.useState)([]),[j,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(!1),o=async()=>{try{let b=await fetch(`/api/strategies/${a}/entry-models`);if(!b.ok)throw Error("Failed to fetch entry models");let c=await b.json();i(c)}catch(a){console.error("Error fetching entry models:",a),h.default.error("Failed to load entry models")}finally{l(!1)}};(0,c.useEffect)(()=>{o()},[a]);let p=async b=>{if(confirm("Are you sure you want to delete this entry model?"))try{if(!(await fetch(`/api/strategies/${a}/entry-models/${b}`,{method:"DELETE"})).ok)throw Error("Failed to delete entry model");i(a=>a.filter(a=>a.id!==b)),h.default.success("Entry model deleted successfully")}catch(a){console.error("Error deleting entry model:",a),h.default.error("Failed to delete entry model")}};return j?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg"},c))})}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Entry Models"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Define how you enter trades within this strategy"})]}),(0,b.jsxs)(e.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg",children:[(0,b.jsx)(d.FiPlus,{className:"w-4 h-4"}),"Add Model"]})]}),0===g.length?(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(d.FiTarget,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No entry models yet"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create your first entry model to define how you enter trades."}),(0,b.jsx)(e.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg",children:"Create First Model"})]}):(0,b.jsx)("div",{className:"space-y-4",children:g.map((a,c)=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.name}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a.toLowerCase()){case"conservative":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"moderate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"aggressive":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(a.confirmationStyle)}`,children:a.confirmationStyle}),(0,b.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a.toLowerCase()){case"low":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"medium":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(a.riskStyle)}`,children:[a.riskStyle," Risk"]})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Entry Logic"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg",children:a.entryLogic})]}),a.notes&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.notes})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit model",children:(0,b.jsx)(d.FiEdit3,{className:"w-4 h-4 text-gray-500"})}),(0,b.jsx)("button",{onClick:()=>p(a.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete model",children:(0,b.jsx)(d.FiTrash2,{className:"w-4 h-4 text-red-500"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("span",{children:["Created ",new Date(a.createdAt).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(d.FiShield,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.confirmationStyle})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.riskStyle})]})]})]})]},a.id))}),m&&(0,b.jsx)(k,{strategyId:a,onClose:()=>n(!1),onSuccess:()=>{n(!1),o(),h.default.success("Entry model created successfully")}})]})}let m=["1m","5m","15m","30m","1h","4h","Daily","Weekly"];function n({strategyId:a,onClose:f,onSuccess:i}){let[j,k]=(0,c.useState)({name:"",description:""}),[l,n]=(0,c.useState)([{timeframe:"Daily",description:"Trend direction and key levels"},{timeframe:"4h",description:"Entry timing and momentum"},{timeframe:"1h",description:"Precise entry and stop placement"}]),[o,p]=(0,c.useState)(!1),q=(a,b,c)=>{n(d=>d.map((d,e)=>e===a?{...d,[b]:c}:d))},r=(a,b)=>{let c="up"===b?a-1:a+1;c<0||c>=l.length||n(b=>{let d=[...b];return[d[a],d[c]]=[d[c],d[a]],d})},s=async b=>{if(b.preventDefault(),!j.name.trim())return void h.default.error("Sequence name is required");if(0===l.length)return void h.default.error("At least one timeframe step is required");if(l.some(a=>!a.timeframe.trim()))return void h.default.error("All timeframe steps must have a timeframe selected");p(!0);try{let b=await fetch(`/api/strategies/${a}/sequences`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j.name.trim(),description:j.description.trim()||void 0,steps:l.map((a,b)=>({timeframe:a.timeframe.trim(),orderIndex:b,description:a.description.trim()||void 0}))})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to create sequence")}i()}catch(a){console.error("Error creating sequence:",a),h.default.error(a instanceof Error?a.message:"Failed to create sequence")}finally{p(!1)}};return(0,b.jsx)(g.default,{open:!0,onClose:f,children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},style:{background:"var(--background)",borderRadius:"12px",boxShadow:"var(--shadow-lg)",maxWidth:"1000px",width:"100%",margin:"0 16px",maxHeight:"90vh",overflowY:"auto"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"24px",borderBottom:"1px solid var(--border)"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,b.jsx)("div",{style:{width:"40px",height:"40px",background:"#ea580c",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsx)(d.FiSettings,{style:{width:"20px",height:"20px",color:"white"}})}),(0,b.jsx)("h2",{style:{fontSize:"20px",fontWeight:"600",color:"var(--text-primary)",margin:"0"},children:"Create Timeframe Sequence"})]}),(0,b.jsx)("button",{onClick:f,style:{padding:"8px",background:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:a=>a.currentTarget.style.background="var(--hover-bg)",onMouseLeave:a=>a.currentTarget.style.background="transparent",children:(0,b.jsx)(d.FiX,{style:{width:"20px",height:"20px"}})})]}),(0,b.jsxs)("form",{onSubmit:s,style:{padding:"24px",display:"flex",flexDirection:"column",gap:"24px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"8px"},children:"Sequence Name *"}),(0,b.jsx)("input",{type:"text",value:j.name,onChange:a=>k(b=>({...b,name:a.target.value})),style:{width:"100%",padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--card-bg)",color:"var(--text-primary)",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:a=>a.currentTarget.style.borderColor="#ea580c",onBlur:a=>a.currentTarget.style.borderColor="var(--border)",placeholder:"e.g., London Breakout Analysis Sequence",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"8px"},children:"Description"}),(0,b.jsx)("textarea",{value:j.description,onChange:a=>k(b=>({...b,description:a.target.value})),style:{width:"100%",padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--card-bg)",color:"var(--text-primary)",fontSize:"14px",resize:"none",outline:"none",transition:"border-color 0.2s"},onFocus:a=>a.currentTarget.style.borderColor="#ea580c",onBlur:a=>a.currentTarget.style.borderColor="var(--border)",rows:3,placeholder:"Describe the purpose and methodology of this sequence..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)"},children:"Analysis Steps *"}),(0,b.jsxs)("button",{type:"button",onClick:()=>{n(a=>[...a,{timeframe:"1h",description:""}])},style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"#fed7aa",border:"none",borderRadius:"6px",color:"#9a3412",cursor:"pointer",fontSize:"14px",transition:"background 0.2s"},onMouseEnter:a=>a.currentTarget.style.background="#fdba74",onMouseLeave:a=>a.currentTarget.style.background="#fed7aa",children:[(0,b.jsx)(d.FiPlus,{style:{width:"12px",height:"12px"}}),"Add Step"]})]}),(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:l.map((a,c)=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",background:"var(--card-bg)",borderRadius:"8px"},children:[(0,b.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(0,b.jsx)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",background:"#ea580c",color:"white",fontSize:"14px",fontWeight:"bold",borderRadius:"50%"},children:c+1})}),(0,b.jsxs)("div",{style:{flex:1,display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"4px"},children:"Timeframe"}),(0,b.jsx)("select",{value:a.timeframe,onChange:a=>q(c,"timeframe",a.target.value),style:{width:"100%",padding:"6px 8px",border:"1px solid var(--border)",borderRadius:"4px",background:"var(--card-bg)",color:"var(--text-primary)",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:a=>a.currentTarget.style.borderColor="#ea580c",onBlur:a=>a.currentTarget.style.borderColor="var(--border)",children:m.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"4px"},children:"Description"}),(0,b.jsx)("input",{type:"text",value:a.description,onChange:a=>q(c,"description",a.target.value),style:{width:"100%",padding:"6px 8px",border:"1px solid var(--border)",borderRadius:"4px",background:"var(--card-bg)",color:"var(--text-primary)",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:a=>a.currentTarget.style.borderColor="#ea580c",onBlur:a=>a.currentTarget.style.borderColor="var(--border)",placeholder:"What to analyze at this timeframe"})]})]}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,b.jsx)("button",{type:"button",onClick:()=>r(c,"up"),disabled:0===c,style:{padding:"4px",background:"transparent",border:"none",borderRadius:"4px",cursor:0===c?"not-allowed":"pointer",color:"var(--text-secondary)",opacity:0===c?.5:1,transition:"background 0.2s"},onMouseEnter:a=>{0!==c&&(a.currentTarget.style.background="var(--hover-bg)")},onMouseLeave:a=>a.currentTarget.style.background="transparent",title:"Move up",children:"↑"}),(0,b.jsx)("button",{type:"button",onClick:()=>r(c,"down"),disabled:c===l.length-1,style:{padding:"4px",background:"transparent",border:"none",borderRadius:"4px",cursor:c===l.length-1?"not-allowed":"pointer",color:"var(--text-secondary)",opacity:c===l.length-1?.5:1,transition:"background 0.2s"},onMouseEnter:a=>{c!==l.length-1&&(a.currentTarget.style.background="var(--hover-bg)")},onMouseLeave:a=>a.currentTarget.style.background="transparent",title:"Move down",children:"↓"}),(0,b.jsx)("button",{type:"button",onClick:()=>{n(a=>a.filter((a,b)=>b!==c))},disabled:1===l.length,style:{padding:"4px",background:"transparent",border:"none",borderRadius:"4px",cursor:1===l.length?"not-allowed":"pointer",color:"#dc2626",opacity:1===l.length?.5:1,transition:"background 0.2s"},onMouseEnter:a=>{1!==l.length&&(a.currentTarget.style.background="#fef2f2")},onMouseLeave:a=>a.currentTarget.style.background="transparent",title:"Remove step",children:(0,b.jsx)(d.FiTrash2,{style:{width:"12px",height:"12px"}})})]})]},c))}),(0,b.jsx)("p",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"8px"},children:"Define the order of timeframes you analyze, from highest to lowest timeframe. Start with broader context and move to precise entry timing."})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",paddingTop:"16px",borderTop:"1px solid var(--border)"},children:[(0,b.jsx)("button",{type:"button",onClick:f,style:{padding:"8px 16px",background:"transparent",border:"none",borderRadius:"6px",color:"var(--text-secondary)",cursor:"pointer",fontSize:"14px",transition:"background 0.2s"},onMouseEnter:a=>a.currentTarget.style.background="var(--hover-bg)",onMouseLeave:a=>a.currentTarget.style.background="transparent",disabled:o,children:"Cancel"}),(0,b.jsxs)(e.motion.button,{type:"submit",disabled:o,whileHover:{scale:1.02},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 24px",background:o?"var(--disabled-bg)":"#ea580c",border:"none",borderRadius:"6px",color:"white",cursor:o?"not-allowed":"pointer",fontSize:"14px",fontWeight:"500",transition:"background 0.2s",boxShadow:"var(--shadow-md)"},onMouseEnter:a=>{o||(a.currentTarget.style.background="#c2410c")},onMouseLeave:a=>{o||(a.currentTarget.style.background="#ea580c")},children:[(0,b.jsx)(d.FiSave,{style:{width:"16px",height:"16px"}}),o?"Creating...":"Create Sequence"]})]})]})]})})}function o({strategyId:a,onUpdate:f}){let[g,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),o=async()=>{try{let b=await fetch(`/api/strategies/${a}/sequences`);if(!b.ok)throw Error("Failed to fetch sequences");let c=await b.json();i(c)}catch(a){console.error("Error fetching sequences:",a),h.default.error("Failed to load sequences")}finally{k(!1)}};(0,c.useEffect)(()=>{o()},[a]);let p=async b=>{if(confirm("Are you sure you want to delete this sequence? This will also delete all associated steps."))try{if(!(await fetch(`/api/strategies/${a}/sequences/${b}`,{method:"DELETE"})).ok)throw Error("Failed to delete sequence");i(a=>a.filter(a=>a.id!==b)),h.default.success("Sequence deleted successfully")}catch(a){console.error("Error deleting sequence:",a),h.default.error("Failed to delete sequence")}};return j?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-40 bg-gray-200 rounded-lg"},c))})}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Timeframe Sequences"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Define the order of timeframes you analyze for trade entries"})]}),(0,b.jsxs)(e.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg",children:[(0,b.jsx)(d.FiPlus,{className:"w-4 h-4"}),"Add Sequence"]})]}),0===g.length?(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(d.FiSettings,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No sequences yet"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create timeframe sequences to structure your multi-timeframe analysis."}),(0,b.jsx)(e.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg",children:"Create First Sequence"})]}):(0,b.jsx)("div",{className:"space-y-6",children:g.map((a,c)=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.name}),(0,b.jsxs)("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400 text-xs font-medium rounded",children:[a.steps.length," steps"]})]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit sequence",children:(0,b.jsx)(d.FiEdit3,{className:"w-4 h-4 text-gray-500"})}),(0,b.jsx)("button",{onClick:()=>p(a.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete sequence",children:(0,b.jsx)(d.FiTrash2,{className:"w-4 h-4 text-red-500"})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[(0,b.jsx)(d.FiClock,{className:"w-4 h-4"}),"Analysis Sequence"]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-3",children:a.steps.sort((a,b)=>a.orderIndex-b.orderIndex).map((a,c)=>{let d;return(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg px-3 py-2",children:[(0,b.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-orange-600 text-white text-xs font-bold rounded-full",children:c+1}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${(d=a.timeframe.toLowerCase()).includes("1m")||d.includes("5m")?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":d.includes("15m")||d.includes("30m")||d.includes("1h")?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":d.includes("4h")||d.includes("daily")?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:a.timeframe}),a.description&&(0,b.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400 max-w-32 truncate",children:a.description})]},a.id)})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("span",{children:["Created ",new Date(a.createdAt).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-3 h-3"}),(0,b.jsxs)("span",{children:[a.steps.length," timeframes"]})]})]})]},a.id))}),l&&(0,b.jsx)(n,{strategyId:a,onClose:()=>m(!1),onSuccess:()=>{m(!1),o(),h.default.success("Sequence created successfully")}})]})}let p=["entry","exit","risk","discipline"],q=["low","medium","high","critical"];function r({strategyId:a,onClose:f,onSuccess:i}){let[j,k]=(0,c.useState)({name:"",description:"",category:"entry",severity:"medium",isActive:!0}),[l,m]=(0,c.useState)(!1),n=async b=>{if(b.preventDefault(),!j.name.trim()||!j.description.trim())return void h.default.error("Name and description are required");m(!0);try{let b=await fetch(`/api/strategies/${a}/rules`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j.name.trim(),description:j.description.trim(),category:j.category,severity:j.severity,isActive:j.isActive})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to create rule")}i()}catch(a){console.error("Error creating rule:",a),h.default.error(a instanceof Error?a.message:"Failed to create rule")}finally{m(!1)}};return(0,b.jsx)(g.default,{open:!0,onClose:f,children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},style:{background:"var(--background)",borderRadius:"12px",boxShadow:"var(--shadow-lg)",maxWidth:"800px",width:"100%",margin:"0 16px",maxHeight:"90vh",overflowY:"auto"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"24px",borderBottom:"1px solid var(--border)"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,b.jsx)("div",{style:{width:"40px",height:"40px",background:"#dc2626",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsx)(d.FiBookOpen,{style:{width:"20px",height:"20px",color:"white"}})}),(0,b.jsx)("h2",{style:{fontSize:"20px",fontWeight:"600",color:"var(--text-primary)",margin:"0"},children:"Create Strategy Rule"})]}),(0,b.jsx)("button",{onClick:f,style:{padding:"8px",background:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:a=>a.currentTarget.style.background="var(--hover-bg)",onMouseLeave:a=>a.currentTarget.style.background="transparent",children:(0,b.jsx)(d.FiX,{style:{width:"20px",height:"20px"}})})]}),(0,b.jsxs)("form",{onSubmit:n,style:{padding:"24px",display:"flex",flexDirection:"column",gap:"24px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"8px"},children:"Rule Name *"}),(0,b.jsx)("input",{type:"text",value:j.name,onChange:a=>k(b=>({...b,name:a.target.value})),style:{width:"100%",padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--card-bg)",color:"var(--text-primary)",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:a=>a.currentTarget.style.borderColor="#dc2626",onBlur:a=>a.currentTarget.style.borderColor="var(--border)",placeholder:"e.g., Never risk more than 2% per trade",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"8px"},children:"Rule Description *"}),(0,b.jsx)("textarea",{value:j.description,onChange:a=>k(b=>({...b,description:a.target.value})),style:{width:"100%",padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--card-bg)",color:"var(--text-primary)",fontSize:"14px",resize:"none",outline:"none",transition:"border-color 0.2s"},onFocus:a=>a.currentTarget.style.borderColor="#dc2626",onBlur:a=>a.currentTarget.style.borderColor="var(--border)",rows:4,placeholder:"Describe the rule in detail and explain why it's important...",required:!0}),(0,b.jsx)("p",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:"Be specific about what the rule requires and the consequences of breaking it."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"12px"},children:"Category"}),(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:p.map(a=>(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("input",{type:"radio",name:"category",value:a,checked:j.category===a,onChange:a=>k(b=>({...b,category:a.target.value})),style:{position:"absolute",opacity:0,pointerEvents:"none"}}),(0,b.jsxs)("span",{style:{flex:1,padding:"16px",borderRadius:"8px",border:j.category===a?"2px solid #dc2626":"2px solid var(--border)",background:j.category===a?"#dc2626":"var(--card-bg)",color:j.category===a?"white":"var(--text-primary)",cursor:"pointer",transition:"all 0.2s"},children:[(0,b.jsx)("div",{style:{fontWeight:"500",textTransform:"capitalize",marginBottom:"4px"},children:a}),(0,b.jsx)("div",{style:{fontSize:"12px",opacity:j.category===a?.9:.7},children:(a=>{switch(a){case"entry":return"Rules for when and how to enter trades";case"exit":return"Rules for when and how to exit trades";case"risk":return"Rules for position sizing and risk management";case"discipline":return"Rules for maintaining trading discipline";default:return""}})(a)})]})]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"12px"},children:"Severity Level"}),(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:q.map(a=>(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("input",{type:"radio",name:"severity",value:a,checked:j.severity===a,onChange:a=>k(b=>({...b,severity:a.target.value})),style:{position:"absolute",opacity:0,pointerEvents:"none"}}),(0,b.jsx)("span",{style:{flex:1,padding:"16px",borderRadius:"8px",border:j.severity===a?"2px solid #dc2626":"2px solid var(--border)",background:j.severity===a?"#dc2626":"var(--card-bg)",color:j.severity===a?"white":"var(--text-primary)",cursor:"pointer",transition:"all 0.2s"},children:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"space-between",width:"100%"},children:[(0,b.jsxs)("div",{style:{flex:1},children:[(0,b.jsx)("div",{style:{fontWeight:"500",textTransform:"capitalize",marginBottom:"4px"},children:a}),(0,b.jsx)("div",{style:{fontSize:"12px",opacity:j.severity===a?.9:.7},children:(a=>{switch(a){case"low":return"Minor rule, occasional violations acceptable";case"medium":return"Important rule, violations should be rare";case"high":return"Critical rule, strict adherence required";case"critical":return"Essential rule, never break under any circumstances";default:return""}})(a)})]}),(0,b.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:"critical"===a?"#f87171":"high"===a?"#fb923c":"medium"===a?"#fbbf24":"#4ade80",marginLeft:"12px"}})]})})]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:j.isActive,onChange:a=>k(b=>({...b,isActive:a.target.checked})),style:{marginRight:"8px",accentColor:"#dc2626"}}),(0,b.jsx)("span",{style:{fontSize:"14px",color:"var(--text-primary)"},children:"Rule is active and should be enforced"})]}),(0,b.jsx)("p",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px",marginLeft:"24px"},children:"Inactive rules are kept for reference but won't trigger violations."})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",paddingTop:"16px",borderTop:"1px solid var(--border)"},children:[(0,b.jsx)("button",{type:"button",onClick:f,style:{padding:"8px 16px",background:"transparent",border:"none",borderRadius:"6px",color:"var(--text-secondary)",cursor:"pointer",fontSize:"14px",transition:"background 0.2s"},onMouseEnter:a=>a.currentTarget.style.background="var(--hover-bg)",onMouseLeave:a=>a.currentTarget.style.background="transparent",disabled:l,children:"Cancel"}),(0,b.jsxs)(e.motion.button,{type:"submit",disabled:l,whileHover:{scale:1.02},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 24px",background:l?"var(--disabled-bg)":"#dc2626",border:"none",borderRadius:"6px",color:"white",cursor:l?"not-allowed":"pointer",fontSize:"14px",fontWeight:"500",transition:"background 0.2s",boxShadow:"var(--shadow-md)"},onMouseEnter:a=>{l||(a.currentTarget.style.background="#b91c1c")},onMouseLeave:a=>{l||(a.currentTarget.style.background="#dc2626")},children:[(0,b.jsx)(d.FiSave,{style:{width:"16px",height:"16px"}}),l?"Creating...":"Create Rule"]})]})]})]})})}function s({strategyId:a,onUpdate:f}){let[g,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),n=async()=>{try{let b=await fetch(`/api/strategies/${a}/rules`);if(!b.ok)throw Error("Failed to fetch rules");let c=await b.json();i(c)}catch(a){console.error("Error fetching rules:",a),h.default.error("Failed to load rules")}finally{k(!1)}};(0,c.useEffect)(()=>{n()},[a]);let o=async b=>{if(confirm("Are you sure you want to delete this rule?"))try{if(!(await fetch(`/api/strategies/${a}/rules/${b}`,{method:"DELETE"})).ok)throw Error("Failed to delete rule");i(a=>a.filter(a=>a.id!==b)),h.default.success("Rule deleted successfully")}catch(a){console.error("Error deleting rule:",a),h.default.error("Failed to delete rule")}};return j?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg"},c))})}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Strategy Rules"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Define rules to maintain discipline and consistency in your trading"})]}),(0,b.jsxs)(e.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg",children:[(0,b.jsx)(d.FiPlus,{className:"w-4 h-4"}),"Add Rule"]})]}),0===g.length?(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(d.FiBookOpen,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No rules yet"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create rules to maintain discipline and consistency in your trading strategy."}),(0,b.jsx)(e.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg",children:"Create First Rule"})]}):(0,b.jsx)("div",{className:"space-y-4",children:g.map((a,c)=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.name}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a.toLowerCase()){case"entry":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"exit":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"risk":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"discipline":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(a.category)}`,children:a.category}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a.toLowerCase()){case"critical":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(a.severity)}`,children:a.severity}),a.isActive?(0,b.jsxs)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,b.jsx)(d.FiCheckCircle,{className:"w-3 h-3"}),"Active"]}):(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-400 text-xs font-medium rounded-full",children:"Inactive"})]})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg",children:a.description})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit rule",children:(0,b.jsx)(d.FiEdit3,{className:"w-4 h-4 text-gray-500"})}),(0,b.jsx)("button",{onClick:()=>o(a.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete rule",children:(0,b.jsx)(d.FiTrash2,{className:"w-4 h-4 text-red-500"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("span",{children:["Created ",new Date(a.createdAt).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(d.FiAlertTriangle,{className:"w-3 h-3"}),(0,b.jsxs)("span",{children:[a.severity," priority"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(d.FiBookOpen,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.category})]})]})]})]},a.id))}),l&&(0,b.jsx)(r,{strategyId:a,onClose:()=>m(!1),onSuccess:()=>{m(!1),n(),h.default.success("Rule created successfully")}})]})}let t=["bull","bear","mixed"],u=["London","New York","Tokyo","Sydney","Asian","European","American"],v=[{id:"overview",label:"Overview",icon:d.FiTarget},{id:"entry-models",label:"Entry Models",icon:d.FiTarget},{id:"sequences",label:"Sequences",icon:d.FiSettings},{id:"rules",label:"Rules",icon:d.FiBookOpen}];function w({strategy:a,onClose:i,onUpdate:j}){let[k,m]=(0,c.useState)("overview"),[n,p]=(0,c.useState)(a),[q,r]=(0,c.useState)(!1),[w,x]=(0,c.useState)({name:a.name,description:a.description||"",marketType:a.marketType,preferredSessions:a.preferredSessions||[],riskPhilosophy:a.riskPhilosophy||""}),[y,z]=(0,c.useState)(!1),A=async()=>{z(!0);try{let a=await fetch(`/api/strategies/${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w.name.trim(),description:w.description.trim()||void 0,marketType:w.marketType,preferredSessions:w.preferredSessions.length>0?w.preferredSessions:void 0,riskPhilosophy:w.riskPhilosophy.trim()||void 0})});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to update strategy")}let b=await a.json();p(b),r(!1),j(),h.default.success("Strategy updated successfully")}catch(a){console.error("Error updating strategy:",a),h.default.error(a instanceof Error?a.message:"Failed to update strategy")}finally{z(!1)}},B=a=>{p(a),j()};return(0,b.jsx)(g.default,{open:!0,onClose:i,children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg flex items-center justify-center",children:(0,b.jsx)(d.FiTarget,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[q?(0,b.jsx)("input",{type:"text",value:w.name,onChange:a=>x(b=>({...b,name:a.target.value})),className:"text-xl font-semibold bg-transparent border-b border-gray-300 dark:border-gray-600 focus:border-purple-500 outline-none text-gray-900 dark:text-white",autoFocus:!0}):(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Created ",new Date(n.createdAt).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>{r(!1),x({name:n.name,description:n.description||"",marketType:n.marketType,preferredSessions:n.preferredSessions||[],riskPhilosophy:n.riskPhilosophy||""})},className:"px-3 py-1.5 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)(e.motion.button,{onClick:A,disabled:y,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-1.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 disabled:opacity-50 transition-all duration-200",children:[(0,b.jsx)(d.FiSave,{className:"w-4 h-4"}),y?"Saving...":"Save"]})]}):(0,b.jsx)("button",{onClick:()=>r(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(d.FiEdit3,{className:"w-5 h-5 text-gray-500"})}),(0,b.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(d.FiX,{className:"w-5 h-5 text-gray-500"})})]})]}),(0,b.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:v.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>m(a.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium transition-colors ${k===a.id?"text-purple-600 dark:text-purple-400 border-b-2 border-purple-600 dark:border-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,b.jsx)(c,{className:"w-4 h-4"}),a.label]},a.id)})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,b.jsxs)(f.AnimatePresence,{mode:"wait",children:["overview"===k&&(0,b.jsxs)(e.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),q?(0,b.jsx)("textarea",{value:w.description,onChange:a=>x(b=>({...b,description:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3}):(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:n.description||"No description provided"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Market Type"}),q?(0,b.jsx)("div",{className:"flex gap-2",children:t.map(a=>(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"radio",name:"marketType",value:a,checked:w.marketType===a,onChange:a=>x(b=>({...b,marketType:a.target.value})),className:"sr-only"}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg border cursor-pointer transition-all text-sm ${w.marketType===a?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-purple-400"}`,children:a.charAt(0).toUpperCase()+a.slice(1)})]},a))}):(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"bull"===n.marketType?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bear"===n.marketType?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:n.marketType.toUpperCase()})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Preferred Trading Sessions"}),q?(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:u.map(a=>(0,b.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:w.preferredSessions.includes(a),onChange:()=>{x(b=>({...b,preferredSessions:b.preferredSessions.includes(a)?b.preferredSessions.filter(b=>b!==a):[...b.preferredSessions,a]}))},className:"rounded border-gray-300 dark:border-gray-600 text-purple-600 focus:ring-purple-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:a})]},a))}):(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:n.preferredSessions&&n.preferredSessions.length>0?n.preferredSessions.map(a=>(0,b.jsx)("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-sm text-gray-700 dark:text-gray-300 rounded-lg",children:a},a)):(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"No preferred sessions set"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Risk Philosophy"}),q?(0,b.jsx)("textarea",{value:w.riskPhilosophy,onChange:a=>x(b=>({...b,riskPhilosophy:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3}):(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:n.riskPhilosophy||"No risk philosophy defined"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-1",children:n.entryModels.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Entry Models"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400 mb-1",children:n.timeframeSequences.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sequences"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mb-1",children:n.rules.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rules"})]})]})]},"overview"),"entry-models"===k&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,b.jsx)(l,{strategyId:n.id,onUpdate:B})},"entry-models"),"sequences"===k&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,b.jsx)(o,{strategyId:n.id,onUpdate:B})},"sequences"),"rules"===k&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,b.jsx)(s,{strategyId:n.id,onUpdate:B})},"rules")]})})]})})}function x({strategy:a,onDelete:f,onUpdate:g}){let[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),m=async()=>{if(confirm("Are you sure you want to delete this strategy? This action cannot be undone."))try{if(!(await fetch(`/api/strategies/${a.id}`,{method:"DELETE"})).ok)throw Error("Failed to delete strategy");f(a.id)}catch(a){console.error("Error deleting strategy:",a),h.default.error("Failed to delete strategy")}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(e.motion.div,{whileHover:{y:-2},className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>j(!0),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:a.description})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),l(!k)},className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,b.jsx)(d.FiMoreVertical,{className:"w-4 h-4 text-gray-500"})}),k&&(0,b.jsxs)(e.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"absolute right-0 top-8 w-32 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-lg z-10",children:[(0,b.jsxs)("button",{onClick:a=>{a.stopPropagation(),j(!0),l(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-t-lg flex items-center gap-2",children:[(0,b.jsx)(d.FiEdit3,{className:"w-3 h-3"}),"Edit"]}),(0,b.jsxs)("button",{onClick:a=>{a.stopPropagation(),m(),l(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg flex items-center gap-2",children:[(0,b.jsx)(d.FiTrash2,{className:"w-3 h-3"}),"Delete"]})]})]})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(a=>{switch(a.toLowerCase()){case"bull":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"bear":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"mixed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(a.marketType)}`,children:a.marketType.toUpperCase()})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg mx-auto mb-1",children:(0,b.jsx)(d.FiTarget,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Models"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:a.entryModels.length})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg mx-auto mb-1",children:(0,b.jsx)(d.FiSettings,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Sequences"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:a.timeframeSequences.length})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg mx-auto mb-1",children:(0,b.jsx)(d.FiBookOpen,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Rules"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:a.rules.length})]})]}),a.preferredSessions&&a.preferredSessions.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Preferred Sessions:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.preferredSessions.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-xs text-gray-700 dark:text-gray-300 rounded",children:a},a))})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,b.jsxs)("span",{children:["Created ",new Date(a.createdAt).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(d.FiTrendingUp,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:"Active"})]})]})]}),i&&(0,b.jsx)(w,{strategy:a,onClose:()=>j(!1),onUpdate:g})]})}let y=["bull","bear","mixed"],z=["London","New York","Tokyo","Sydney","Asian","European","American"];function A({onClose:a,onSuccess:f}){let[i,j]=(0,c.useState)({name:"",description:"",marketType:"mixed",preferredSessions:[],riskPhilosophy:""}),[k,l]=(0,c.useState)(!1),m=async a=>{if(a.preventDefault(),!i.name.trim())return void h.default.error("Strategy name is required");l(!0);try{let a=await fetch("/api/strategies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name.trim(),description:i.description.trim()||void 0,marketType:i.marketType,preferredSessions:i.preferredSessions.length>0?i.preferredSessions:void 0,riskPhilosophy:i.riskPhilosophy.trim()||void 0})});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to create strategy")}f()}catch(a){console.error("Error creating strategy:",a),h.default.error(a instanceof Error?a.message:"Failed to create strategy")}finally{l(!1)}};return(0,b.jsx)(g.default,{open:!0,onClose:a,children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},style:{backgroundColor:"var(--card-bg)",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:"512px",width:"100%",margin:"0 16px",maxHeight:"90vh",overflowY:"auto"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px",borderBottom:"1px solid var(--card-border)"},children:[(0,b.jsx)("h2",{style:{fontSize:"18px",fontWeight:"600",color:"var(--text-primary)",margin:0},children:"Create New Strategy"}),(0,b.jsx)("button",{onClick:a,style:{padding:"8px",borderRadius:"6px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:"var(--text-secondary)",transition:"all 0.2s ease"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="var(--panel-muted)"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:(0,b.jsx)(d.FiX,{size:16})})]}),(0,b.jsxs)("form",{onSubmit:m,style:{padding:"20px",display:"grid",gap:"20px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"8px"},children:"Strategy Name *"}),(0,b.jsx)("input",{type:"text",value:i.name,onChange:a=>j(b=>({...b,name:a.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--card-border)",backgroundColor:"var(--panel-muted)",color:"var(--text-primary)",fontSize:"14px",outline:"none",transition:"border-color 0.2s ease"},onFocus:a=>{a.currentTarget.style.borderColor="var(--purple-base)"},onBlur:a=>{a.currentTarget.style.borderColor="var(--card-border)"},placeholder:"e.g., London Breakout Strategy",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"8px"},children:"Description"}),(0,b.jsx)("textarea",{value:i.description,onChange:a=>j(b=>({...b,description:a.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--card-border)",backgroundColor:"var(--panel-muted)",color:"var(--text-primary)",fontSize:"14px",outline:"none",resize:"none",transition:"border-color 0.2s ease"},onFocus:a=>{a.currentTarget.style.borderColor="var(--purple-base)"},onBlur:a=>{a.currentTarget.style.borderColor="var(--card-border)"},rows:3,placeholder:"Describe your strategy approach and methodology..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"12px"},children:"Market Type"}),(0,b.jsx)("div",{style:{display:"flex",gap:"12px"},children:y.map(a=>(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,b.jsx)("input",{type:"radio",name:"marketType",value:a,checked:i.marketType===a,onChange:a=>j(b=>({...b,marketType:a.target.value})),style:{position:"absolute",opacity:0,pointerEvents:"none"}}),(0,b.jsx)("span",{style:{padding:"8px 16px",borderRadius:"6px",border:`1px solid ${i.marketType===a?"var(--purple-base)":"var(--card-border)"}`,backgroundColor:i.marketType===a?"var(--purple-base)":"var(--panel-muted)",color:i.marketType===a?"white":"var(--text-primary)",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease",textTransform:"capitalize"},children:a})]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"12px"},children:"Preferred Trading Sessions"}),(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"8px"},children:z.map(a=>(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"8px 12px",borderRadius:"6px",border:`1px solid ${i.preferredSessions.includes(a)?"var(--purple-base)":"var(--card-border)"}`,backgroundColor:i.preferredSessions.includes(a)?"var(--panel-muted)":"transparent",transition:"all 0.2s ease"},children:[(0,b.jsx)("input",{type:"checkbox",checked:i.preferredSessions.includes(a),onChange:()=>{j(b=>({...b,preferredSessions:b.preferredSessions.includes(a)?b.preferredSessions.filter(b=>b!==a):[...b.preferredSessions,a]}))},style:{width:"16px",height:"16px",borderRadius:"3px",border:"1px solid var(--card-border)",backgroundColor:i.preferredSessions.includes(a)?"var(--purple-base)":"transparent",cursor:"pointer"}}),(0,b.jsx)("span",{style:{fontSize:"14px",color:"var(--text-primary)"},children:a})]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"8px"},children:"Risk Philosophy"}),(0,b.jsx)("textarea",{value:i.riskPhilosophy,onChange:a=>j(b=>({...b,riskPhilosophy:a.target.value})),style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--card-border)",backgroundColor:"var(--panel-muted)",color:"var(--text-primary)",fontSize:"14px",outline:"none",resize:"none",transition:"border-color 0.2s ease"},onFocus:a=>{a.currentTarget.style.borderColor="var(--purple-base)"},onBlur:a=>{a.currentTarget.style.borderColor="var(--card-border)"},rows:3,placeholder:"Describe your risk management approach..."})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",paddingTop:"16px",borderTop:"1px solid var(--card-border)"},children:[(0,b.jsx)("button",{type:"button",onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"none",backgroundColor:"transparent",color:"var(--text-secondary)",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="var(--panel-muted)"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},disabled:k,children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:k,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"6px",border:"none",background:"linear-gradient(135deg, var(--purple-base) 0%, var(--purple-dark) 100%)",color:"white",cursor:k?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",opacity:k?.6:1},onMouseEnter:a=>{k||(a.currentTarget.style.transform="translateY(-1px)",a.currentTarget.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)")},onMouseLeave:a=>{a.currentTarget.style.transform="translateY(0)",a.currentTarget.style.boxShadow="none"},children:[(0,b.jsx)(d.FiSave,{size:16}),k?"Creating...":"Create Strategy"]})]})]})]})})}function B(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1),k=async()=>{try{let a=await fetch("/api/strategies");if(!a.ok)throw Error("Failed to fetch strategies");let b=await a.json();e(b)}catch(a){console.error("Error fetching strategies:",a),h.default.error("Failed to load strategies")}finally{g(!1)}};(0,c.useEffect)(()=>{k()},[]);let l=a=>{e(b=>b.filter(b=>b.id!==a)),h.default.success("Strategy deleted successfully")};return f?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,c)=>(0,b.jsx)("div",{className:"h-64 bg-gray-200 rounded-lg"},c))})]})}):(0,b.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:(0,b.jsxs)("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:"32px 16px"},children:[(0,b.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,b.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"8px",margin:0},children:"Trading Strategies"}),(0,b.jsx)("p",{style:{fontSize:"14px",color:"var(--text-secondary)",margin:0},children:"Manage your trading strategies, entry models, and rules"})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"},children:[(0,b.jsxs)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"4px"},children:a.length}),(0,b.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"Total Strategies"})]}),(0,b.jsxs)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"4px"},children:a.filter(a=>"forex"===a.marketType).length}),(0,b.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"Forex Strategies"})]}),(0,b.jsxs)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"4px"},children:a.filter(a=>"crypto"===a.marketType).length}),(0,b.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"Crypto Strategies"})]}),(0,b.jsxs)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"4px"},children:a.reduce((a,b)=>a+(b.entryModels?.length||0),0)}),(0,b.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"Entry Models"})]})]}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{style:{fontSize:"20px",fontWeight:"600",color:"var(--text-primary)",margin:0},children:"Your Strategies"}),(0,b.jsx)("p",{style:{fontSize:"14px",color:"var(--text-secondary)",margin:"4px 0 0 0"},children:"Create and manage your trading strategies"})]}),(0,b.jsxs)("button",{onClick:()=>j(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",background:"linear-gradient(135deg, var(--purple-base) 0%, var(--purple-dark) 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.3s ease"},onMouseEnter:a=>{a.currentTarget.style.transform="translateY(-1px)",a.currentTarget.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)"},onMouseLeave:a=>{a.currentTarget.style.transform="translateY(0)",a.currentTarget.style.boxShadow="none"},children:[(0,b.jsx)(d.FiPlus,{size:16}),"New Strategy"]})]}),f?(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:[...Array(6)].map((a,c)=>(0,b.jsxs)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px",height:"200px"},children:[(0,b.jsx)("div",{style:{height:"20px",backgroundColor:"var(--panel-muted)",borderRadius:"4px",marginBottom:"12px",animation:"pulse 2s infinite"}}),(0,b.jsx)("div",{style:{height:"16px",backgroundColor:"var(--panel-muted)",borderRadius:"4px",width:"80%",marginBottom:"8px",animation:"pulse 2s infinite"}}),(0,b.jsx)("div",{style:{height:"16px",backgroundColor:"var(--panel-muted)",borderRadius:"4px",width:"60%",animation:"pulse 2s infinite"}})]},c))}):0===a.length?(0,b.jsxs)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"48px",textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"📊"}),(0,b.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"8px"},children:"No Strategies Yet"}),(0,b.jsx)("p",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"20px"},children:"Create your first trading strategy to get started"}),(0,b.jsx)("button",{onClick:()=>j(!0),style:{padding:"12px 24px",background:"linear-gradient(135deg, var(--purple-base) 0%, var(--purple-dark) 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:"Create Your First Strategy"})]}):(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:a.map(a=>(0,b.jsx)(x,{strategy:a,onDelete:l,onUpdate:k},a.id))}),i&&(0,b.jsx)(A,{onClose:()=>j(!1),onSuccess:()=>{j(!1),k(),h.default.success("Strategy created successfully")}})]})})}a.s(["default",()=>B],16140)}];

//# sourceMappingURL=src_app_strategies_page_tsx_e34800e1._.js.map