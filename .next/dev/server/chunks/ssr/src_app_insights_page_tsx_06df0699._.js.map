{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/app/insights/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport DashboardHeader from '@/components/DashboardHeader';\r\nimport { useTheme } from '@/context/ThemeContext';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport { FiTrendingUp, FiAlertCircle, FiTarget, FiZap } from 'react-icons/fi';\r\nimport AnimatedCard from '@/components/AnimatedCard';\r\n\r\ninterface Trade {\r\n  id: string;\r\n  pair: string;\r\n  direction: string;\r\n  entryTime: string;\r\n  outcome?: string;\r\n  profitLoss?: number;\r\n  emotionalState?: string;\r\n  strategy?: string;\r\n  mistakes?: string;\r\n  setupQuality?: number;\r\n}\r\n\r\ninterface Insight {\r\n  type: 'pattern' | 'improvement' | 'strength' | 'warning';\r\n  title: string;\r\n  description: string;\r\n  icon: typeof FiTrendingUp;\r\n  color: string;\r\n}\r\n\r\nexport default function InsightsPage() {\r\n  const { theme, toggleTheme } = useTheme();\r\n  const [mounted, setMounted] = useState(() => typeof window !== 'undefined');\r\n  const [trades, setTrades] = useState<Trade[]>([]);\r\n  const [insights, setInsights] = useState<Insight[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!mounted) return;\r\n\r\n    const fetchTrades = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        setError(null);\r\n        const response = await fetch('/api/trades', {\r\n          headers: {\r\n            'x-user-id': 'demo-user',\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          let errBody: unknown = null;\r\n          try { errBody = await response.json(); } catch (e) { errBody = await response.text(); }\r\n          console.error('Failed to fetch trades:', response.status, errBody);\r\n          setError('Failed to load trades data');\r\n          setTrades([]);\r\n          return;\r\n        }\r\n\r\n        const data = await response.json();\r\n        if (!Array.isArray(data)) {\r\n          console.warn('Unexpected trades payload in insights page', data);\r\n          setError('Invalid trades data format');\r\n          setTrades([]);\r\n          return;\r\n        }\r\n\r\n        setTrades(data);\r\n      } catch (error) {\r\n        console.error('Error fetching trades:', error);\r\n        setError('An error occurred while loading trades');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTrades();\r\n  }, [mounted]);\r\n\r\n  // Generate AI insights\r\n  useEffect(() => {\r\n    if (trades.length === 0) return;\r\n\r\n    const generatedInsights: Insight[] = [];\r\n\r\n    // Best performing pairs\r\n    const pairStats: { [key: string]: { wins: number; losses: number; pnl: number } } = {};\r\n    trades.forEach(trade => {\r\n      if (!pairStats[trade.pair]) {\r\n        pairStats[trade.pair] = { wins: 0, losses: 0, pnl: 0 };\r\n      }\r\n      if (trade.outcome === 'WIN') pairStats[trade.pair].wins++;\r\n      if (trade.outcome === 'LOSS') pairStats[trade.pair].losses++;\r\n      pairStats[trade.pair].pnl += trade.profitLoss || 0;\r\n    });\r\n\r\n    const bestPair = Object.entries(pairStats).sort((a, b) => b[1].wins - a[1].wins)[0];\r\n    if (bestPair) {\r\n      generatedInsights.push({\r\n        type: 'strength',\r\n        title: `${bestPair[0]} is your best pair`,\r\n        description: `You have a ${Math.round((bestPair[1].wins / (bestPair[1].wins + bestPair[1].losses)) * 100)}% win rate on ${bestPair[0]}. Consider trading it more often.`,\r\n        icon: FiTrendingUp,\r\n        color: 'text-green-600 dark:text-green-400',\r\n      });\r\n    }\r\n\r\n    // Emotional state analysis\r\n    const emotionalTrades = trades.filter(t => t.emotionalState);\r\n    if (emotionalTrades.length > 0) {\r\n      const emotionalStats: { [key: string]: { wins: number; losses: number } } = {};\r\n      emotionalTrades.forEach(trade => {\r\n        if (!emotionalStats[trade.emotionalState || '']) {\r\n          emotionalStats[trade.emotionalState || ''] = { wins: 0, losses: 0 };\r\n        }\r\n        if (trade.outcome === 'WIN') emotionalStats[trade.emotionalState || ''].wins++;\r\n        else emotionalStats[trade.emotionalState || ''].losses++;\r\n      });\r\n\r\n      const bestState = Object.entries(emotionalStats).sort((a, b) => b[1].wins - a[1].wins)[0];\r\n      if (bestState) {\r\n        generatedInsights.push({\r\n          type: 'pattern',\r\n          title: `You trade best when ${bestState[0]}`,\r\n          description: `${bestState[1].wins} wins when ${bestState[0]} vs ${bestState[1].losses} losses. Remember this state for future trades.`,\r\n          icon: FiZap,\r\n          color: 'text-blue-600 dark:text-blue-400',\r\n        });\r\n      }\r\n    }\r\n\r\n    // Win rate by direction\r\n    const longs = trades.filter(t => t.direction === 'LONG');\r\n    const shorts = trades.filter(t => t.direction === 'SHORT');\r\n    const longWinRate = longs.length > 0 ? (longs.filter(t => t.outcome === 'WIN').length / longs.length) * 100 : 0;\r\n    const shortWinRate = shorts.length > 0 ? (shorts.filter(t => t.outcome === 'WIN').length / shorts.length) * 100 : 0;\r\n\r\n    if (longWinRate > shortWinRate && longWinRate > 40) {\r\n      generatedInsights.push({\r\n        type: 'improvement',\r\n        title: 'You are better at LONG trades',\r\n        description: `Long win rate: ${Math.round(longWinRate)}% vs Short: ${Math.round(shortWinRate)}%. Focus more on long setups.`,\r\n        icon: FiTarget,\r\n        color: 'text-green-600 dark:text-green-400',\r\n      });\r\n    }\r\n\r\n    // Common mistakes warning\r\n    const allMistakes = trades\r\n      .filter(t => t.mistakes)\r\n      .flatMap(t => {\r\n        try {\r\n          return t.mistakes ? JSON.parse(t.mistakes) : [];\r\n        } catch {\r\n          return [];\r\n        }\r\n      });\r\n\r\n    if (allMistakes.length > 0) {\r\n      const mistakeCount: { [key: string]: number } = {};\r\n      allMistakes.forEach(m => {\r\n        mistakeCount[m] = (mistakeCount[m] || 0) + 1;\r\n      });\r\n\r\n      const topMistake = Object.entries(mistakeCount).sort((a, b) => b[1] - a[1])[0];\r\n      if (topMistake && topMistake[1] > 1) {\r\n        generatedInsights.push({\r\n          type: 'warning',\r\n          title: `Repeated mistake: ${topMistake[0]}`,\r\n          description: `You've made this mistake ${topMistake[1]} times. Create a checklist to prevent this.`,\r\n          icon: FiAlertCircle,\r\n          color: 'text-orange-600 dark:text-orange-400',\r\n        });\r\n      }\r\n    }\r\n\r\n    // Time-based analysis\r\n    const morningTrades = trades.filter(t => {\r\n      const hour = new Date(t.entryTime).getHours();\r\n      return hour >= 8 && hour < 12;\r\n    });\r\n\r\n    if (morningTrades.length > 5) {\r\n      const morningWins = morningTrades.filter(t => t.outcome === 'WIN').length;\r\n      const morningWinRate = (morningWins / morningTrades.length) * 100;\r\n      if (morningWinRate > 60) {\r\n        generatedInsights.push({\r\n          type: 'pattern',\r\n          title: 'You trade best in the morning',\r\n          description: `Morning (8am-12pm) win rate: ${Math.round(morningWinRate)}%. Schedule more trades during this time.`,\r\n          icon: FiTrendingUp,\r\n          color: 'text-yellow-600 dark:text-yellow-400',\r\n        });\r\n      }\r\n    }\r\n\r\n    setInsights(generatedInsights);\r\n  }, [trades]);\r\n\r\n  if (!mounted) {\r\n    return <div style={{ minHeight: '100vh', backgroundColor: 'var(--background)' }} />;\r\n  }\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', backgroundColor: 'var(--background)' }}>\r\n      <main style={{ maxWidth: '1000px', margin: '0 auto', padding: '32px 16px' }}>\r\n        {/* Header */}\r\n        <div style={{ marginBottom: '32px' }}>\r\n          <h1 style={{ fontSize: '28px', fontWeight: '700', color: 'var(--text-primary)', marginBottom: '8px' }}>\r\n            AI-Powered Insights\r\n          </h1>\r\n          <p style={{ fontSize: '14px', color: 'var(--text-secondary)' }}>\r\n            Get personalized trading improvements based on your data\r\n          </p>\r\n        </div>\r\n\r\n        {/* Error State */}\r\n        {error && (\r\n          <div\r\n            style={{\r\n              marginBottom: '24px',\r\n              padding: '16px',\r\n              backgroundColor: 'rgba(220, 38, 38, 0.1)',\r\n              border: '1px solid rgba(220, 38, 38, 0.3)',\r\n              borderRadius: '8px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px',\r\n              color: 'var(--loss-color)',\r\n            }}\r\n            role=\"alert\"\r\n          >\r\n            <FiAlertCircle size={20} />\r\n            <span style={{ fontSize: '14px' }}>{error}</span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Loading State */}\r\n        {isLoading ? (\r\n          <div style={{ textAlign: 'center', padding: '60px 20px', color: 'var(--text-secondary)' }}>\r\n            <div style={{ fontSize: '14px', marginBottom: '16px' }}>Analyzing your trading data...</div>\r\n            <div style={{\r\n              width: '40px',\r\n              height: '40px',\r\n              border: '2px solid var(--purple-base)',\r\n              borderTop: '2px solid transparent',\r\n              borderRadius: '50%',\r\n              animation: 'spin 1s linear infinite',\r\n              margin: '0 auto',\r\n            }} />\r\n          </div>\r\n        ) : insights.length > 0 ? (\r\n          <>\r\n            {/* Insights Grid */}\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\r\n              gap: '16px',\r\n              marginBottom: '32px',\r\n            }}>\r\n              {insights.map((insight, idx) => {\r\n                const Icon = insight.icon;\r\n                const getBgColor = () => {\r\n                  switch(insight.type) {\r\n                    case 'warning':\r\n                      return { bg: 'rgba(217, 119, 6, 0.1)', border: 'rgba(217, 119, 6, 0.3)' };\r\n                    case 'strength':\r\n                      return { bg: 'rgba(34, 197, 94, 0.1)', border: 'rgba(34, 197, 94, 0.3)' };\r\n                    case 'improvement':\r\n                      return { bg: 'rgba(59, 130, 246, 0.1)', border: 'rgba(59, 130, 246, 0.3)' };\r\n                    default:\r\n                      return { bg: 'rgba(139, 92, 246, 0.1)', border: 'rgba(139, 92, 246, 0.3)' };\r\n                  }\r\n                };\r\n\r\n                const colors = getBgColor();\r\n                const getIconColor = () => {\r\n                  switch(insight.type) {\r\n                    case 'warning': return '#d97706';\r\n                    case 'strength': return '#22c55e';\r\n                    case 'improvement': return '#3b82f6';\r\n                    default: return '#a855f7';\r\n                  }\r\n                };\r\n\r\n                return (\r\n                  <div\r\n                    key={idx}\r\n                    style={{\r\n                      backgroundColor: colors.bg,\r\n                      border: `1px solid ${colors.border}`,\r\n                      borderRadius: '12px',\r\n                      padding: '20px',\r\n                      display: 'flex',\r\n                      flexDirection: 'column',\r\n                      gap: '12px',\r\n                    }}\r\n                  >\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                      <div style={{\r\n                        backgroundColor: 'var(--card-bg)',\r\n                        padding: '8px',\r\n                        borderRadius: '8px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                      }}>\r\n                        <Icon size={20} style={{ color: getIconColor() }} />\r\n                      </div>\r\n                      <h3 style={{ fontSize: '15px', fontWeight: '600', color: 'var(--text-primary)', margin: 0 }}>\r\n                        {insight.title}\r\n                      </h3>\r\n                    </div>\r\n                    <p style={{ fontSize: '13px', color: 'var(--text-secondary)', margin: 0 }}>\r\n                      {insight.description}\r\n                    </p>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </>\r\n        ) : trades.length === 0 ? (\r\n          <div style={{\r\n            textAlign: 'center',\r\n            padding: '60px 20px',\r\n            backgroundColor: 'var(--card-bg)',\r\n            border: '1px solid var(--card-border)',\r\n            borderRadius: '12px',\r\n            color: 'var(--text-secondary)',\r\n          }}>\r\n            <p style={{ fontSize: '16px', marginBottom: '8px', margin: 0 }}>No trades available</p>\r\n            <p style={{ fontSize: '13px', margin: 0 }}>Add some trades to your journal to get AI-powered insights</p>\r\n          </div>\r\n        ) : (\r\n          <div style={{\r\n            textAlign: 'center',\r\n            padding: '60px 20px',\r\n            backgroundColor: 'var(--card-bg)',\r\n            border: '1px solid var(--card-border)',\r\n            borderRadius: '12px',\r\n            color: 'var(--text-secondary)',\r\n          }}>\r\n            <p style={{ fontSize: '16px', margin: 0 }}>Not enough data for insights yet</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Weekly Summary */}\r\n        {trades.length > 0 && insights.length > 0 && (\r\n          <div style={{\r\n            marginTop: '32px',\r\n            backgroundColor: 'var(--card-bg)',\r\n            border: '1px solid var(--card-border)',\r\n            borderRadius: '12px',\r\n            padding: '24px',\r\n          }}>\r\n            <h2 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '20px', margin: 0 }}>\r\n              Trading Summary\r\n            </h2>\r\n\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',\r\n              gap: '16px',\r\n            }}>\r\n              <div style={{ backgroundColor: 'var(--panel-muted)', padding: '16px', borderRadius: '8px' }}>\r\n                <p style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '8px', margin: 0 }}>Total Trades</p>\r\n                <p style={{ fontSize: '24px', fontWeight: '700', color: 'var(--text-primary)', margin: 0 }}>{trades.length}</p>\r\n              </div>\r\n              <div style={{ backgroundColor: 'var(--panel-muted)', padding: '16px', borderRadius: '8px' }}>\r\n                <p style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '8px', margin: 0 }}>Win Rate</p>\r\n                <p style={{ fontSize: '24px', fontWeight: '700', color: '#22c55e', margin: 0 }}>\r\n                  {trades.length > 0\r\n                    ? Math.round(((trades.filter(t => t.outcome === 'WIN').length / trades.length) * 100))\r\n                    : 0}%\r\n                </p>\r\n              </div>\r\n              <div style={{ backgroundColor: 'var(--panel-muted)', padding: '16px', borderRadius: '8px' }}>\r\n                <p style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '8px', margin: 0 }}>Total P&L</p>\r\n                <p style={{\r\n                  fontSize: '24px',\r\n                  fontWeight: '700',\r\n                  color: trades.reduce((sum, t) => sum + (t.profitLoss || 0), 0) >= 0 ? '#22c55e' : '#ef4444',\r\n                  margin: 0,\r\n                }}>\r\n                  {(trades.reduce((sum, t) => sum + (t.profitLoss || 0), 0) || 0).toFixed(2)}\r\n                </p>\r\n              </div>\r\n              <div style={{ backgroundColor: 'var(--panel-muted)', padding: '16px', borderRadius: '8px' }}>\r\n                <p style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '8px', margin: 0 }}>Avg Quality</p>\r\n                <p style={{ fontSize: '24px', fontWeight: '700', color: '#fbbf24', margin: 0 }}>\r\n                  {trades.filter(t => t.setupQuality).length > 0\r\n                    ? (\r\n                        trades\r\n                          .filter(t => t.setupQuality)\r\n                          .reduce((sum, t) => sum + (t.setupQuality || 0), 0) /\r\n                        trades.filter(t => t.setupQuality).length\r\n                      ).toFixed(1)\r\n                    : 'N/A'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n\r\n      <Toaster position=\"bottom-right\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}