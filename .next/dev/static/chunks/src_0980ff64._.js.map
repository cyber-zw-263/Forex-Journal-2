{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/VoiceRecorder.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport { FiMic, FiStopCircle, FiPlay, FiTrash2 } from 'react-icons/fi';\r\n\r\ninterface VoiceRecorderProps {\r\n  onRecordingSaved?: (audioUrl: string) => void;\r\n}\r\n\r\nexport default function VoiceRecorder({ onRecordingSaved }: VoiceRecorderProps) {\r\n  const mediaRecorder = useRef<MediaRecorder | null>(null);\r\n  const audioChunks = useRef<Blob[]>([]);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [recordings, setRecordings] = useState<Array<{\r\n    id: string;\r\n    url: string;\r\n    duration: number;\r\n    timestamp: Date;\r\n    uploaded?: boolean;\r\n  }>>([]);\r\n  \r\n  const [playingId, setPlayingId] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    let interval: NodeJS.Timeout;\r\n    if (isRecording) {\r\n      interval = setInterval(() => {\r\n        setRecordingTime(prev => prev + 1);\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isRecording]);\r\n\r\n  const startRecording = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      mediaRecorder.current = new MediaRecorder(stream);\r\n      audioChunks.current = [];\r\n\r\n      mediaRecorder.current.ondataavailable = (event) => {\r\n        audioChunks.current.push(event.data);\r\n      };\r\n\r\n      mediaRecorder.current.onstop = () => {\r\n        (async () => {\r\n          const audioBlob = new Blob(audioChunks.current, { type: 'audio/webm' });\r\n          const url = URL.createObjectURL(audioBlob);\r\n          const recording = {\r\n            id: Date.now().toString(),\r\n            url,\r\n            duration: recordingTime,\r\n            timestamp: new Date(),\r\n            uploaded: false,\r\n          };\r\n\r\n          // Optimistically add local recording\r\n          setRecordings(prev => [recording, ...prev]);\r\n          onRecordingSaved?.(url);\r\n\r\n          // Try uploading to server\r\n          try {\r\n            const fd = new FormData();\r\n            fd.append('file', audioBlob, `voice-${Date.now()}.webm`);\r\n\r\n            const res = await fetch('/api/voice-notes', {\r\n              method: 'POST',\r\n              body: fd,\r\n              headers: {\r\n                'x-user-id': 'demo-user',\r\n              },\r\n            });\r\n\r\n            if (res.ok) {\r\n              const data = await res.json();\r\n              // If API returns stored URL, replace local URL\r\n              if (data?.url) {\r\n                setRecordings(prev => prev.map(r => r.id === recording.id ? { ...r, url: data.url, uploaded: true } : r));\r\n              } else {\r\n                setRecordings(prev => prev.map(r => r.id === recording.id ? { ...r, uploaded: true } : r));\r\n              }\r\n              toast.success('Voice note uploaded');\r\n            } else {\r\n              toast('Saved locally (upload failed)', { icon: '⚠️' });\r\n            }\r\n          } catch (err) {\r\n            console.error('Voice upload failed', err);\r\n            toast('Saved locally (upload failed)', { icon: '⚠️' });\r\n          }\r\n        })();\r\n      };\r\n\r\n      mediaRecorder.current.start();\r\n      setIsRecording(true);\r\n      setRecordingTime(0);\r\n    } catch (error) {\r\n      toast.error('Unable to access microphone');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorder.current && isRecording) {\r\n      mediaRecorder.current.stop();\r\n      setIsRecording(false);\r\n      mediaRecorder.current.stream.getTracks().forEach(track => track.stop());\r\n    }\r\n  };\r\n\r\n  const deleteRecording = (id: string) => {\r\n    setRecordings(prev => prev.filter(r => r.id !== id));\r\n  };\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Recording Controls */}\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg p-6 border border-gray-200 dark:border-slate-700\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Voice Notes</h3>\r\n\r\n        {/* Recording Interface */}\r\n        <div className=\"flex items-center gap-4 mb-4 flex-wrap\">\r\n          {!isRecording ? (\r\n            <button\r\n              onClick={startRecording}\r\n              className=\"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors\"\r\n              aria-label=\"Start recording voice note\"\r\n            >\r\n              <FiMic className=\"w-5 h-5\" />\r\n              Start Recording\r\n            </button>\r\n          ) : (\r\n            <>\r\n              <button\r\n                onClick={stopRecording}\r\n                className=\"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors\"\r\n                aria-label=\"Stop recording\"\r\n                aria-live=\"polite\"\r\n              >\r\n                <FiStopCircle className=\"w-5 h-5\" />\r\n                Stop\r\n              </button>\r\n              <div className=\"text-lg font-bold text-red-600 dark:text-red-400\" aria-live=\"polite\">\r\n                Recording: {formatTime(recordingTime)}\r\n              </div>\r\n              <div className=\"flex-1 h-1 bg-red-300 dark:bg-red-900 rounded-full relative overflow-hidden min-w-[100px]\">\r\n                <div className=\"h-full bg-red-600 animate-pulse\" style={{width: '30%'}} />\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Recorded Clips */}\r\n        {recordings.length > 0 && (\r\n          <div className=\"space-y-3\">\r\n            <h4 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Recordings ({recordings.length})</h4>\r\n            {recordings.map(recording => (\r\n              <div\r\n                key={recording.id}\r\n                className=\"flex items-center justify-between bg-gray-50 dark:bg-slate-700 p-3 rounded-lg\"\r\n              >\r\n                <div className=\"flex items-center gap-3 flex-1\">\r\n                  <button\r\n                    onClick={() => setPlayingId(playingId === recording.id ? null : recording.id)}\r\n                    className=\"p-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors\"\r\n                    aria-label={playingId === recording.id ? 'Pause recording' : 'Play recording'}\r\n                  >\r\n                    <FiPlay className=\"w-4 h-4\" />\r\n                  </button>\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                      {recording.timestamp.toLocaleTimeString()}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                      Duration: {formatTime(recording.duration)}\r\n                      {recording.uploaded && <span className=\"ml-2\">✓ Uploaded</span>}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={() => deleteRecording(recording.id)}\r\n                  className=\"p-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors\"\r\n                  aria-label={`Delete recording from ${recording.timestamp.toLocaleTimeString()}`}\r\n                >\r\n                  <FiTrash2 className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {recordings.length === 0 && !isRecording && (\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 text-center py-6\">\r\n            No recordings yet. Start recording to add voice notes to your trades.\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Hidden Audio Player */}\r\n      {playingId && (\r\n        <audio\r\n          key={playingId}\r\n          src={recordings.find(r => r.id === playingId)?.url}\r\n          autoPlay\r\n          controls\r\n          className=\"w-full\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 378, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/ScreenshotUploader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport { FiUpload, FiX, FiDownload } from 'react-icons/fi';\r\n\r\ninterface ScreenshotUploaderProps {\r\n  onScreenshotAdded?: (dataUrl: string) => void;\r\n}\r\n\r\nexport default function ScreenshotUploader({ onScreenshotAdded }: ScreenshotUploaderProps) {\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [screenshots, setScreenshots] = useState<Array<{\r\n    id: string;\r\n    url: string;\r\n    caption: string;\r\n    timestamp: Date;\r\n  }>>([]);\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [editCaption, setEditCaption] = useState('');\r\n\r\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = e.currentTarget.files;\r\n    if (!files) return;\r\n\r\n    for (const file of Array.from(files)) {\r\n      try {\r\n        const reader = new FileReader();\r\n        reader.onload = (event) => {\r\n          const dataUrl = event.target?.result as string;\r\n          const screenshot = {\r\n            id: Date.now().toString() + Math.random(),\r\n            url: dataUrl,\r\n            caption: '',\r\n            timestamp: new Date(),\r\n          };\r\n          setScreenshots(prev => [screenshot, ...prev]);\r\n          onScreenshotAdded?.(dataUrl);\r\n          toast.success('Screenshot uploaded');\r\n        };\r\n        reader.readAsDataURL(file);\r\n      } catch (error) {\r\n        toast.error('Failed to upload screenshot');\r\n        console.error(error);\r\n      }\r\n    }\r\n\r\n    // Reset input\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const updateCaption = (id: string, newCaption: string) => {\r\n    setScreenshots(prev =>\r\n      prev.map(s => (s.id === id ? { ...s, caption: newCaption } : s))\r\n    );\r\n    setEditingId(null);\r\n  };\r\n\r\n  const deleteScreenshot = (id: string) => {\r\n    setScreenshots(prev => prev.filter(s => s.id !== id));\r\n  };\r\n\r\n  const downloadScreenshot = (url: string, timestamp: Date) => {\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `trade-setup-${timestamp.toISOString()}.png`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg p-6 border border-gray-200 dark:border-slate-700\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Trade Setup Screenshots</h3>\r\n\r\n        {/* Upload Area */}\r\n        <button\r\n          onClick={() => fileInputRef.current?.click()}\r\n          className=\"w-full border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors\"\r\n          aria-label=\"Upload screenshot by clicking or dragging files\"\r\n        >\r\n          <FiUpload className=\"w-8 h-8 mx-auto mb-2 text-gray-600 dark:text-gray-400\" />\r\n          <p className=\"text-sm font-medium text-gray-900 dark:text-white\">Click to upload or drag & drop</p>\r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400\">PNG, JPG, GIF up to 10MB</p>\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            multiple\r\n            accept=\"image/*\"\r\n            onChange={handleFileSelect}\r\n            className=\"hidden\"\r\n            aria-label=\"File input for screenshots\"\r\n          />\r\n        </button>\r\n\r\n        {/* Screenshots Grid */}\r\n        {screenshots.length > 0 && (\r\n          <div className=\"mt-6\">\r\n            <h4 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4\">Uploads ({screenshots.length})</h4>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n              {screenshots.map(screenshot => (\r\n                <div\r\n                  key={screenshot.id}\r\n                  className=\"relative group bg-gray-100 dark:bg-slate-700 rounded-lg overflow-hidden\"\r\n                >\r\n                  {/* Image */}\r\n                  <img\r\n                    src={screenshot.url}\r\n                    alt=\"Trade setup\"\r\n                    className=\"w-full h-40 object-cover\"\r\n                  />\r\n\r\n                  {/* Overlay */}\r\n                  <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-between p-2\">\r\n                    <button\r\n                      onClick={() => downloadScreenshot(screenshot.url, screenshot.timestamp)}\r\n                      className=\"p-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors\"\r\n                      title=\"Download\"\r\n                    >\r\n                      <FiDownload className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => deleteScreenshot(screenshot.id)}\r\n                      className=\"p-2 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors\"\r\n                      title=\"Delete\"\r\n                    >\r\n                      <FiX className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Caption */}\r\n                  <div className=\"p-3 bg-white dark:bg-slate-800 border-t border-gray-200 dark:border-slate-600\">\r\n                    {editingId === screenshot.id ? (\r\n                      <input\r\n                        autoFocus\r\n                        type=\"text\"\r\n                        value={editCaption}\r\n                        onChange={(e) => setEditCaption(e.target.value)}\r\n                        onBlur={() => updateCaption(screenshot.id, editCaption)}\r\n                        onKeyPress={(e) => {\r\n                          if (e.key === 'Enter') {\r\n                            updateCaption(screenshot.id, editCaption);\r\n                          }\r\n                        }}\r\n                        placeholder=\"Add caption...\"\r\n                        className=\"w-full px-2 py-1 border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-gray-900 dark:text-white text-xs focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                      />\r\n                    ) : (\r\n                      <p\r\n                        onClick={() => {\r\n                          setEditingId(screenshot.id);\r\n                          setEditCaption(screenshot.caption);\r\n                        }}\r\n                        className=\"text-xs text-gray-600 dark:text-gray-400 cursor-pointer hover:text-gray-900 dark:hover:text-white\"\r\n                      >\r\n                        {screenshot.caption || 'Click to add caption...'}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAUe,SAAS,mBAAmB,EAAE,iBAAiB,EAA2B;;IACvF,MAAM,eAAe,IAAA,uKAAM,EAAmB;IAC9C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAK1C,EAAE;IACN,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAgB;IAC1D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,MAAM,mBAAmB,OAAO;QAC9B,MAAM,QAAQ,EAAE,aAAa,CAAC,KAAK;QACnC,IAAI,CAAC,OAAO;QAEZ,KAAK,MAAM,QAAQ,MAAM,IAAI,CAAC,OAAQ;YACpC,IAAI;gBACF,MAAM,SAAS,IAAI;gBACnB,OAAO,MAAM,GAAG,CAAC;oBACf,MAAM,UAAU,MAAM,MAAM,EAAE;oBAC9B,MAAM,aAAa;wBACjB,IAAI,KAAK,GAAG,GAAG,QAAQ,KAAK,KAAK,MAAM;wBACvC,KAAK;wBACL,SAAS;wBACT,WAAW,IAAI;oBACjB;oBACA,eAAe,CAAA,OAAQ;4BAAC;+BAAe;yBAAK;oBAC5C,oBAAoB;oBACpB,qKAAK,CAAC,OAAO,CAAC;gBAChB;gBACA,OAAO,aAAa,CAAC;YACvB,EAAE,OAAO,OAAO;gBACd,qKAAK,CAAC,KAAK,CAAC;gBACZ,QAAQ,KAAK,CAAC;YAChB;QACF;QAEA,cAAc;QACd,IAAI,aAAa,OAAO,EAAE;YACxB,aAAa,OAAO,CAAC,KAAK,GAAG;QAC/B;IACF;IAEA,MAAM,gBAAgB,CAAC,IAAY;QACjC,eAAe,CAAA,OACb,KAAK,GAAG,CAAC,CAAA,IAAM,EAAE,EAAE,KAAK,KAAK;oBAAE,GAAG,CAAC;oBAAE,SAAS;gBAAW,IAAI;QAE/D,aAAa;IACf;IAEA,MAAM,mBAAmB,CAAC;QACxB,eAAe,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IACnD;IAEA,MAAM,qBAAqB,CAAC,KAAa;QACvC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG,CAAC,YAAY,EAAE,UAAU,WAAW,GAAG,IAAI,CAAC;QAC5D,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;IAC5B;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAuD;;;;;;8BAGrE,6LAAC;oBACC,SAAS,IAAM,aAAa,OAAO,EAAE;oBACrC,WAAU;oBACV,cAAW;;sCAEX,6LAAC,6JAAQ;4BAAC,WAAU;;;;;;sCACpB,6LAAC;4BAAE,WAAU;sCAAoD;;;;;;sCACjE,6LAAC;4BAAE,WAAU;sCAA2C;;;;;;sCACxD,6LAAC;4BACC,KAAK;4BACL,MAAK;4BACL,QAAQ;4BACR,QAAO;4BACP,UAAU;4BACV,WAAU;4BACV,cAAW;;;;;;;;;;;;gBAKd,YAAY,MAAM,GAAG,mBACpB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;;gCAA8D;gCAAU,YAAY,MAAM;gCAAC;;;;;;;sCACzG,6LAAC;4BAAI,WAAU;sCACZ,YAAY,GAAG,CAAC,CAAA,2BACf,6LAAC;oCAEC,WAAU;;sDAGV,6LAAC;4CACC,KAAK,WAAW,GAAG;4CACnB,KAAI;4CACJ,WAAU;;;;;;sDAIZ,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,SAAS,IAAM,mBAAmB,WAAW,GAAG,EAAE,WAAW,SAAS;oDACtE,WAAU;oDACV,OAAM;8DAEN,cAAA,6LAAC,+JAAU;wDAAC,WAAU;;;;;;;;;;;8DAExB,6LAAC;oDACC,SAAS,IAAM,iBAAiB,WAAW,EAAE;oDAC7C,WAAU;oDACV,OAAM;8DAEN,cAAA,6LAAC,wJAAG;wDAAC,WAAU;;;;;;;;;;;;;;;;;sDAKnB,6LAAC;4CAAI,WAAU;sDACZ,cAAc,WAAW,EAAE,iBAC1B,6LAAC;gDACC,SAAS;gDACT,MAAK;gDACL,OAAO;gDACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gDAC9C,QAAQ,IAAM,cAAc,WAAW,EAAE,EAAE;gDAC3C,YAAY,CAAC;oDACX,IAAI,EAAE,GAAG,KAAK,SAAS;wDACrB,cAAc,WAAW,EAAE,EAAE;oDAC/B;gDACF;gDACA,aAAY;gDACZ,WAAU;;;;;qEAGZ,6LAAC;gDACC,SAAS;oDACP,aAAa,WAAW,EAAE;oDAC1B,eAAe,WAAW,OAAO;gDACnC;gDACA,WAAU;0DAET,WAAW,OAAO,IAAI;;;;;;;;;;;;mCArDxB,WAAW,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEpC;GAhKwB;KAAA"}},
    {"offset": {"line": 654, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/app/review/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport VoiceRecorder from '@/components/VoiceRecorder';\r\nimport ScreenshotUploader from '@/components/ScreenshotUploader';\r\nimport { useTheme } from '@/context/ThemeContext';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function TradeReviewPage() {\r\n  const { theme, toggleTheme } = useTheme();\r\n  const [mounted] = useState(() => typeof window !== 'undefined');\r\n  const [selectedTradeId, setSelectedTradeId] = useState<string | null>(null);\r\n  const [trades, setTrades] = useState<any[]>([]);\r\n  const [reviewData, setReviewData] = useState({\r\n    whatLearned: '',\r\n    mistakes: [] as string[],\r\n    emotionalState: 'calm',\r\n    setupQuality: 3,\r\n  });\r\n  const [currentMistake, setCurrentMistake] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (!mounted) return;\r\n\r\n    const fetchTrades = async () => {\r\n      try {\r\n        const response = await fetch('/api/trades', {\r\n          headers: {\r\n            'x-user-id': 'demo-user',\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          let errBody: unknown = null;\r\n          try { errBody = await response.json(); } catch (e) { errBody = await response.text(); }\r\n          console.error('Failed to fetch trades:', response.status, errBody);\r\n          setTrades([]);\r\n          return;\r\n        }\r\n\r\n        const data = await response.json();\r\n        if (!Array.isArray(data)) {\r\n          console.warn('Unexpected trades payload in review page', data);\r\n          setTrades([]);\r\n          return;\r\n        }\r\n\r\n        setTrades(data);\r\n      } catch (error) {\r\n        console.error('Error fetching trades:', error);\r\n      }\r\n    };\r\n\r\n    fetchTrades();\r\n  }, [mounted]);\r\n\r\n  const selectedTrade = trades.find(t => t.id === selectedTradeId);\r\n\r\n  const mistakeOptions = [\r\n    'Overtraded',\r\n    'Broke rules',\r\n    'Wrong entry point',\r\n    'Hesitated on trade',\r\n    'Exited too early',\r\n    'Exited too late',\r\n    'Ignored analysis',\r\n    'Bad position sizing',\r\n    'Emotion-driven',\r\n  ];\r\n\r\n  const toggleMistake = (mistake: string) => {\r\n    setReviewData(prev => ({\r\n      ...prev,\r\n      mistakes: prev.mistakes.includes(mistake)\r\n        ? prev.mistakes.filter(m => m !== mistake)\r\n        : [...prev.mistakes, mistake],\r\n    }));\r\n  };\r\n\r\n  const saveReview = async () => {\r\n    if (!selectedTrade) return;\r\n\r\n    try {\r\n      const response = await fetch(`/api/trades/${selectedTrade.id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-user-id': 'demo-user',\r\n        },\r\n        body: JSON.stringify({\r\n          whatLearned: reviewData.whatLearned,\r\n          mistakes: JSON.stringify(reviewData.mistakes),\r\n          emotionalState: reviewData.emotionalState,\r\n          setupQuality: reviewData.setupQuality,\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        toast.success('Review saved');\r\n        setSelectedTradeId(null);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to save review');\r\n    }\r\n  };\r\n\r\n  if (!mounted) {\r\n    return <div style={{ minHeight: '100vh', backgroundColor: 'var(--background)' }} />;\r\n  }\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', backgroundColor: 'var(--background)' }}>\r\n      <main style={{ maxWidth: '1200px', margin: '0 auto', padding: '32px 16px' }}>\r\n        <div style={{ marginBottom: '32px' }}>\r\n          <h1 style={{ fontSize: '28px', fontWeight: '700', color: 'var(--text-primary)', marginBottom: '8px', margin: 0 }}>\r\n            Trade Reviews\r\n          </h1>\r\n          <p style={{ fontSize: '14px', color: 'var(--text-secondary)', margin: 0 }}>Deep dive into your trades and learn from them</p>\r\n        </div>\r\n\r\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '24px' }}>\r\n          {/* Trades List */}\r\n          <div style={{ backgroundColor: 'var(--card-bg)', border: '1px solid var(--card-border)', borderRadius: '12px', padding: '20px' }}>\r\n            <h2 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '16px', margin: 0 }}>Recent Trades</h2>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '8px', maxHeight: '500px', overflowY: 'auto' }}>\r\n              {trades.length > 0 ? (\r\n                trades.map(trade => (\r\n                  <button\r\n                    key={trade.id}\r\n                    onClick={() => {\r\n                      setSelectedTradeId(trade.id);\r\n                      setReviewData({\r\n                        whatLearned: trade.whatLearned || '',\r\n                        mistakes: trade.mistakes ? JSON.parse(trade.mistakes) : [],\r\n                        emotionalState: trade.emotionalState || 'calm',\r\n                        setupQuality: trade.setupQuality || 3,\r\n                      });\r\n                    }}\r\n                    style={{\r\n                      width: '100%',\r\n                      textAlign: 'left',\r\n                      padding: '12px',\r\n                      borderRadius: '8px',\r\n                      border: 'none',\r\n                      backgroundColor: selectedTradeId === trade.id ? 'var(--purple-base)' : 'var(--panel-muted)',\r\n                      color: selectedTradeId === trade.id ? 'white' : 'var(--text-primary)',\r\n                      cursor: 'pointer',\r\n                      transition: 'all 0.2s ease',\r\n                      fontSize: '13px',\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      if (selectedTradeId !== trade.id) {\r\n                        e.currentTarget.style.backgroundColor = 'var(--card-border)';\r\n                      }\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      if (selectedTradeId !== trade.id) {\r\n                        e.currentTarget.style.backgroundColor = 'var(--panel-muted)';\r\n                      }\r\n                    }}\r\n                  >\r\n                    <div style={{ fontWeight: '600', marginBottom: '4px' }}>{trade.pair}</div>\r\n                    <div style={{ fontSize: '11px', opacity: 0.75 }}>\r\n                      {new Date(trade.entryTime).toLocaleDateString()}\r\n                    </div>\r\n                  </button>\r\n                ))\r\n              ) : (\r\n                <p style={{ fontSize: '13px', color: 'var(--text-secondary)', textAlign: 'center', padding: '16px', margin: 0 }}>\r\n                  No trades yet\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Review Form */}\r\n          {selectedTrade ? (\r\n            <div style={{ gridColumn: 'auto / span 2', display: 'flex', flexDirection: 'column', gap: '24px' }}>\r\n              {/* Trade Summary */}\r\n              <div style={{ backgroundColor: 'var(--card-bg)', border: '1px solid var(--card-border)', borderRadius: '12px', padding: '20px' }}>\r\n                <h2 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '16px', margin: 0 }}>\r\n                  {selectedTrade.pair} - {selectedTrade.direction}\r\n                </h2>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '16px', fontSize: '13px' }}>\r\n                  <div>\r\n                    <p style={{ color: 'var(--text-secondary)', margin: 0, marginBottom: '4px' }}>Entry</p>\r\n                    <p style={{ fontWeight: '600', color: 'var(--text-primary)', margin: 0 }}>\r\n                      {selectedTrade.entryPrice.toFixed(5)}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p style={{ color: 'var(--text-secondary)', margin: 0, marginBottom: '4px' }}>Exit</p>\r\n                    <p style={{ fontWeight: '600', color: 'var(--text-primary)', margin: 0 }}>\r\n                      {selectedTrade.exitPrice?.toFixed(5) || 'Open'}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p style={{ color: 'var(--text-secondary)', margin: 0, marginBottom: '4px' }}>P&L</p>\r\n                    <p style={{ fontWeight: '600', color: selectedTrade.profitLoss >= 0 ? 'var(--win-color)' : 'var(--loss-color)', margin: 0 }}>\r\n                      {selectedTrade.profitLoss?.toFixed(2) || 'N/A'}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p style={{ color: 'var(--text-secondary)', margin: 0, marginBottom: '4px' }}>Outcome</p>\r\n                    <p style={{ fontWeight: '600', color: 'var(--text-primary)', margin: 0 }}>\r\n                      {selectedTrade.outcome || 'Open'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Review Fields */}\r\n              <div style={{ backgroundColor: 'var(--card-bg)', border: '1px solid var(--card-border)', borderRadius: '12px', padding: '20px' }}>\r\n                <h3 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '16px', margin: 0 }}>Review Details</h3>\r\n\r\n                {/* What I Learned */}\r\n                <div style={{ marginBottom: '16px' }}>\r\n                  <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '8px' }}>\r\n                    What I Learned\r\n                  </label>\r\n                  <textarea\r\n                    value={reviewData.whatLearned}\r\n                    onChange={(e) =>\r\n                      setReviewData(prev => ({ ...prev, whatLearned: e.target.value }))\r\n                    }\r\n                    placeholder=\"What did this trade teach you?\"\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '12px',\r\n                      border: '1px solid var(--card-border)',\r\n                      borderRadius: '6px',\r\n                      backgroundColor: 'var(--panel-muted)',\r\n                      color: 'var(--text-primary)',\r\n                      fontSize: '13px',\r\n                      outline: 'none',\r\n                      resize: 'vertical',\r\n                      minHeight: '80px',\r\n                      fontFamily: 'inherit',\r\n                    }}\r\n                    onFocus={(e) => { e.currentTarget.style.borderColor = 'var(--purple-base)'; }}\r\n                    onBlur={(e) => { e.currentTarget.style.borderColor = 'var(--card-border)'; }}\r\n                  />\r\n                </div>\r\n\r\n                {/* Emotional State */}\r\n                <div style={{ marginBottom: '16px' }}>\r\n                  <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '8px' }}>\r\n                    Emotional State\r\n                  </label>\r\n                  <select\r\n                    value={reviewData.emotionalState}\r\n                    onChange={(e) =>\r\n                      setReviewData(prev => ({ ...prev, emotionalState: e.target.value }))\r\n                    }\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '8px 12px',\r\n                      border: '1px solid var(--card-border)',\r\n                      borderRadius: '6px',\r\n                      backgroundColor: 'var(--panel-muted)',\r\n                      color: 'var(--text-primary)',\r\n                      fontSize: '13px',\r\n                      outline: 'none',\r\n                    }}\r\n                    onFocus={(e) => { e.currentTarget.style.borderColor = 'var(--purple-base)'; }}\r\n                    onBlur={(e) => { e.currentTarget.style.borderColor = 'var(--card-border)'; }}\r\n                  >\r\n                    <option>calm</option>\r\n                    <option>rushed</option>\r\n                    <option>frustrated</option>\r\n                    <option>confident</option>\r\n                    <option>fearful</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Setup Quality */}\r\n                <div style={{ marginBottom: '16px' }}>\r\n                  <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '8px' }}>\r\n                    Setup Quality Rating\r\n                  </label>\r\n                  <select\r\n                    value={reviewData.setupQuality}\r\n                    onChange={(e) =>\r\n                      setReviewData(prev => ({ ...prev, setupQuality: parseInt(e.target.value) }))\r\n                    }\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '8px 12px',\r\n                      border: '1px solid var(--card-border)',\r\n                      borderRadius: '6px',\r\n                      backgroundColor: 'var(--panel-muted)',\r\n                      color: 'var(--text-primary)',\r\n                      fontSize: '13px',\r\n                      outline: 'none',\r\n                    }}\r\n                    onFocus={(e) => { e.currentTarget.style.borderColor = 'var(--purple-base)'; }}\r\n                    onBlur={(e) => { e.currentTarget.style.borderColor = 'var(--card-border)'; }}\r\n                  >\r\n                    <option value=\"1\">⭐ Poor</option>\r\n                    <option value=\"2\">⭐⭐ Below Average</option>\r\n                    <option value=\"3\">⭐⭐⭐ Average</option>\r\n                    <option value=\"4\">⭐⭐⭐⭐ Good</option>\r\n                    <option value=\"5\">⭐⭐⭐⭐⭐ Excellent</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Mistakes */}\r\n                <div>\r\n                  <label style={{ display: 'block', fontSize: '13px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '12px' }}>\r\n                    Mistakes Made\r\n                  </label>\r\n                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '12px' }}>\r\n                    {mistakeOptions.map(mistake => (\r\n                      <label key={mistake} style={{ display: 'flex', alignItems: 'center', gap: '8px', cursor: 'pointer' }}>\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={reviewData.mistakes.includes(mistake)}\r\n                          onChange={() => toggleMistake(mistake)}\r\n                          style={{\r\n                            width: '16px',\r\n                            height: '16px',\r\n                            borderRadius: '4px',\r\n                            border: '1px solid var(--card-border)',\r\n                            cursor: 'pointer',\r\n                            accentColor: 'var(--purple-base)',\r\n                          }}\r\n                        />\r\n                        <span style={{ fontSize: '13px', color: 'var(--text-primary)' }}>{mistake}</span>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                onClick={saveReview}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '12px 16px',\r\n                  background: 'linear-gradient(135deg, var(--purple-base) 0%, var(--purple-dark) 100%)',\r\n                  color: 'white',\r\n                  fontWeight: '600',\r\n                  fontSize: '14px',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.transform = 'translateY(-1px)';\r\n                  e.currentTarget.style.boxShadow = '0 8px 16px rgba(168, 85, 247, 0.3)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.transform = 'translateY(0)';\r\n                  e.currentTarget.style.boxShadow = 'none';\r\n                }}\r\n              >\r\n                Save Review\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div style={{ gridColumn: 'auto / span 2', backgroundColor: 'var(--card-bg)', border: '1px solid var(--card-border)', borderRadius: '12px', padding: '48px 20px', textAlign: 'center' }}>\r\n              <p style={{ color: 'var(--text-secondary)', margin: 0, fontSize: '14px' }}>Select a trade to review</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Media Uploads */}\r\n        {selectedTrade && (\r\n          <div style={{ marginTop: '32px', display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '24px' }}>\r\n            <div style={{ backgroundColor: 'var(--card-bg)', border: '1px solid var(--card-border)', borderRadius: '12px', padding: '20px' }}>\r\n              <VoiceRecorder />\r\n            </div>\r\n            <div style={{ backgroundColor: 'var(--card-bg)', border: '1px solid var(--card-border)', borderRadius: '12px', padding: '20px' }}>\r\n              <ScreenshotUploader />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n\r\n      <Toaster position=\"bottom-right\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}