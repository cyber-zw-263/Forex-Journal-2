{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/OnboardingModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport dynamic from 'next/dynamic';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Modal = dynamic(() => import('./Modal'), { ssr: false });\r\n\r\nexport default function OnboardingModal() {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const dismissed = localStorage.getItem('onboardingDismissed');\r\n    if (!dismissed) setOpen(true);\r\n  }, []);\r\n\r\n  async function loadDemoData() {\r\n    try {\r\n      const res = await fetch('/data/demo-trades.json');\r\n      const demo = await res.json();\r\n      // Post each trade\r\n      for (const t of demo) {\r\n        await fetch('/api/trades', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json', 'x-user-id': 'demo-user' },\r\n          body: JSON.stringify(t),\r\n        });\r\n      }\r\n      toast.success('Demo data loaded');\r\n      localStorage.setItem('onboardingDismissed', '1');\r\n      setOpen(false);\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error('Failed to load demo data');\r\n    }\r\n  }\r\n\r\n  function dismiss() {\r\n    localStorage.setItem('onboardingDismissed', '1');\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n    <Modal open={open} onClose={dismiss} title=\"Welcome to Young Money\">\r\n      <p className=\"text-sm text-gray-300\">This app is a private trading journal. You can load a short demo dataset to explore features like analytics, heatmaps, and exports. No real trades are uploaded.</p>\r\n      <div className=\"mt-4 flex gap-2\">\r\n        <button className=\"btn-gradient px-3 py-2 rounded\" onClick={loadDemoData} aria-label=\"Load demo data\">Load demo data</button>\r\n        <button className=\"px-3 py-2 rounded border border-gray-700 text-gray-200\" onClick={dismiss} aria-label=\"Dismiss onboarding\">Dismiss</button>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;AAJA;;;;AAMA,MAAM,QAAQ,IAAA,6KAAO,EAAC;;;;;;IAA2B,KAAK;;KAAhD;AAES,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IAEjC,IAAA,0KAAS;qCAAC;YACR,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,CAAC,WAAW,QAAQ;QAC1B;oCAAG,EAAE;IAEL,eAAe;QACb,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,kBAAkB;YAClB,KAAK,MAAM,KAAK,KAAM;gBACpB,MAAM,MAAM,eAAe;oBACzB,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;wBAAoB,aAAa;oBAAY;oBACxE,MAAM,KAAK,SAAS,CAAC;gBACvB;YACF;YACA,qKAAK,CAAC,OAAO,CAAC;YACd,aAAa,OAAO,CAAC,uBAAuB;YAC5C,QAAQ;QACV,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,qKAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,SAAS;QACP,aAAa,OAAO,CAAC,uBAAuB;QAC5C,QAAQ;IACV;IAEA,qBACE,6LAAC;QAAM,MAAM;QAAM,SAAS;QAAS,OAAM;;0BACzC,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;0BACrC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAO,WAAU;wBAAiC,SAAS;wBAAc,cAAW;kCAAiB;;;;;;kCACtG,6LAAC;wBAAO,WAAU;wBAAyD,SAAS;wBAAS,cAAW;kCAAqB;;;;;;;;;;;;;;;;;;AAIrI;GA3CwB;MAAA"}}]
}