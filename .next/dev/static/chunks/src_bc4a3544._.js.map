{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/DashboardHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useTheme } from '@/context/ThemeContext';\r\nimport { FiSun, FiMoon } from 'react-icons/fi';\r\nimport Link from 'next/link';\r\n\r\ninterface DashboardHeaderProps {\r\n  onThemeToggle: () => void;\r\n  currentTheme: 'dark' | 'light';\r\n}\r\n\r\nexport default function DashboardHeader({ onThemeToggle, currentTheme }: DashboardHeaderProps) {\r\n  return (\r\n    <header className=\"sticky top-0 z-50 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700 shadow-sm\">\r\n      <div className=\"container mx-auto px-4 py-4 max-w-7xl\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <Link href=\"/\" className=\"flex items-center gap-3 hover:opacity-80 transition-opacity\">\r\n            <div className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent\">\r\n              ðŸ“Š\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Young Money</h1>\r\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">Trading Journal & Portfolio</p>\r\n            </div>\r\n          </Link>\r\n\r\n          <div className=\"flex items-center gap-4\">\r\n            <nav className=\"hidden md:flex gap-6\">\r\n              <Link href=\"/\" className=\"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\">\r\n                Dashboard\r\n              </Link>\r\n              <Link href=\"/analytics\" className=\"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\">\r\n                Analytics\r\n              </Link>\r\n              <Link href=\"/calendar\" className=\"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\">\r\n                Calendar\r\n              </Link>\r\n              <Link href=\"/planning\" className=\"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\">\r\n                Planning\r\n              </Link>\r\n              <Link href=\"/insights\" className=\"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\">\r\n                Insights\r\n              </Link>\r\n              <Link href=\"/review\" className=\"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\">\r\n                Review\r\n              </Link>\r\n            </nav>\r\n\r\n            <button\r\n              onClick={onThemeToggle}\r\n              className=\"p-2 rounded-lg bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors\"\r\n              aria-label=\"Toggle theme\"\r\n            >\r\n              {currentTheme === 'dark' ? (\r\n                <FiSun className=\"w-5 h-5\" />\r\n              ) : (\r\n                <FiMoon className=\"w-5 h-5\" />\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Navigation */}\r\n        <nav className=\"md:hidden flex gap-3 mt-4 flex-wrap\">\r\n          <Link href=\"/\" className=\"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded\">\r\n            Dashboard\r\n          </Link>\r\n          <Link href=\"/analytics\" className=\"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded\">\r\n            Analytics\r\n          </Link>\r\n          <Link href=\"/calendar\" className=\"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded\">\r\n            Calendar\r\n          </Link>\r\n          <Link href=\"/planning\" className=\"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded\">\r\n            Planning\r\n          </Link>\r\n          <Link href=\"/insights\" className=\"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded\">\r\n            Insights\r\n          </Link>\r\n          <Link href=\"/review\" className=\"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded\">\r\n            Review\r\n          </Link>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAWe,SAAS,gBAAgB,EAAE,aAAa,EAAE,YAAY,EAAwB;IAC3F,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,0KAAI;4BAAC,MAAK;4BAAI,WAAU;;8CACvB,6LAAC;oCAAI,WAAU;8CAA8F;;;;;;8CAG7G,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;sDAAmD;;;;;;sDACjE,6LAAC;4CAAE,WAAU;sDAA2C;;;;;;;;;;;;;;;;;;sCAI5D,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,0KAAI;4CAAC,MAAK;4CAAI,WAAU;sDAAsH;;;;;;sDAG/I,6LAAC,0KAAI;4CAAC,MAAK;4CAAa,WAAU;sDAAsH;;;;;;sDAGxJ,6LAAC,0KAAI;4CAAC,MAAK;4CAAY,WAAU;sDAAsH;;;;;;sDAGvJ,6LAAC,0KAAI;4CAAC,MAAK;4CAAY,WAAU;sDAAsH;;;;;;sDAGvJ,6LAAC,0KAAI;4CAAC,MAAK;4CAAY,WAAU;sDAAsH;;;;;;sDAGvJ,6LAAC,0KAAI;4CAAC,MAAK;4CAAU,WAAU;sDAAsH;;;;;;;;;;;;8CAKvJ,6LAAC;oCACC,SAAS;oCACT,WAAU;oCACV,cAAW;8CAEV,iBAAiB,uBAChB,6LAAC,0JAAK;wCAAC,WAAU;;;;;6DAEjB,6LAAC,2JAAM;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;8BAO1B,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,0KAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAoJ;;;;;;sCAG7K,6LAAC,0KAAI;4BAAC,MAAK;4BAAa,WAAU;sCAAoJ;;;;;;sCAGtL,6LAAC,0KAAI;4BAAC,MAAK;4BAAY,WAAU;sCAAoJ;;;;;;sCAGrL,6LAAC,0KAAI;4BAAC,MAAK;4BAAY,WAAU;sCAAoJ;;;;;;sCAGrL,6LAAC,0KAAI;4BAAC,MAAK;4BAAY,WAAU;sCAAoJ;;;;;;sCAGrL,6LAAC,0KAAI;4BAAC,MAAK;4BAAU,WAAU;sCAAoJ;;;;;;;;;;;;;;;;;;;;;;;AAO7L;KA3EwB"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/AnimatedCard.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { motion, type HTMLMotionProps } from 'framer-motion';\n\ntype Props = HTMLMotionProps<'div'> & {\n  children: React.ReactNode;\n};\n\nexport default function AnimatedCard({ children, className = '', ...props }: Props) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 8, scale: 0.995 }}\n      whileInView={{ opacity: 1, y: 0, scale: 1 }}\n      whileHover={{ y: -4 }}\n      whileTap={{ scale: 0.995 }}\n      viewport={{ once: true, amount: 0.15 }}\n      transition={{ type: 'spring', stiffness: 260, damping: 22 }}\n      className={`card ${className}`}\n      {...props}\n    >\n      {children}\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASe,SAAS,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,GAAG,OAAc;IAChF,qBACE,6LAAC,uMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;YAAG,OAAO;QAAM;QAC1C,aAAa;YAAE,SAAS;YAAG,GAAG;YAAG,OAAO;QAAE;QAC1C,YAAY;YAAE,GAAG,CAAC;QAAE;QACpB,UAAU;YAAE,OAAO;QAAM;QACzB,UAAU;YAAE,MAAM;YAAM,QAAQ;QAAK;QACrC,YAAY;YAAE,MAAM;YAAU,WAAW;YAAK,SAAS;QAAG;QAC1D,WAAW,CAAC,KAAK,EAAE,WAAW;QAC7B,GAAG,KAAK;kBAER;;;;;;AAGP;KAfwB"}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/PreTradeChecklist.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiCheck, FiX, FiAlertCircle, FiTarget, FiTrendingUp, FiShield, FiHeart } from 'react-icons/fi';\nimport AnimatedCard from '@/components/AnimatedCard';\nimport toast from 'react-hot-toast';\n\ninterface ChecklistItem {\n  id: string;\n  label: string;\n  description: string;\n  icon: React.ComponentType<{ className?: string }>;\n  required: boolean;\n  category: 'setup' | 'risk' | 'emotional' | 'market';\n}\n\ninterface PreTradeChecklistProps {\n  tradeId?: string;\n  onChecklistComplete?: (completedItems: string[]) => void;\n  onChecklistChange?: (completedItems: string[], isComplete: boolean) => void;\n  className?: string;\n}\n\nconst checklistItems: ChecklistItem[] = [\n  {\n    id: 'htf_bias',\n    label: 'Higher Timeframe Bias',\n    description: 'Market bias on higher timeframe aligns with trade direction',\n    icon: FiTrendingUp,\n    required: true,\n    category: 'market'\n  },\n  {\n    id: 'poi_identified',\n    label: 'Points of Interest',\n    description: 'Key levels, support/resistance, and POI identified',\n    icon: FiTarget,\n    required: true,\n    category: 'setup'\n  },\n  {\n    id: 'entry_rules',\n    label: 'Entry Rules Met',\n    description: 'All strategy entry criteria satisfied',\n    icon: FiCheck,\n    required: true,\n    category: 'setup'\n  },\n  {\n    id: 'session_respect',\n    label: 'Session Respect',\n    description: 'Trading within appropriate session time',\n    icon: FiTarget,\n    required: false,\n    category: 'market'\n  },\n  {\n    id: 'risk_rules',\n    label: 'Risk Rules',\n    description: 'Position size and risk limits respected',\n    icon: FiShield,\n    required: true,\n    category: 'risk'\n  },\n  {\n    id: 'emotional_state',\n    label: 'Emotional State',\n    description: 'Calm, focused, and disciplined mindset',\n    icon: FiHeart,\n    required: true,\n    category: 'emotional'\n  }\n];\n\nconst categoryColors = {\n  setup: 'bg-blue-500',\n  risk: 'bg-red-500',\n  emotional: 'bg-purple-500',\n  market: 'bg-green-500'\n};\n\nconst categoryLabels = {\n  setup: 'Setup',\n  risk: 'Risk',\n  emotional: 'Emotional',\n  market: 'Market'\n};\n\nexport default function PreTradeChecklist({\n  tradeId,\n  onChecklistComplete,\n  onChecklistChange,\n  className = ''\n}: PreTradeChecklistProps) {\n  const [completedItems, setCompletedItems] = useState<Set<string>>(new Set());\n  const [isLoading, setIsLoading] = useState(false);\n  const [savedState, setSavedState] = useState<Set<string>>(new Set());\n\n  // Load saved checklist state if tradeId provided\n  useEffect(() => {\n    if (tradeId) {\n      loadChecklistState();\n    }\n  }, [tradeId]);\n\n  const loadChecklistState = async () => {\n    if (!tradeId) return;\n\n    try {\n      const response = await fetch(`/api/trades/${tradeId}/checklist`, {\n        headers: {\n          'x-user-id': 'demo-user',\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        const completedItems = Array.isArray(data.completedItems) ? data.completedItems : [];\n        const saved = new Set(completedItems.filter((item: any) => typeof item === 'string') as string[]);\n        setCompletedItems(saved);\n        setSavedState(saved);\n      }\n    } catch (error) {\n      console.error('Failed to load checklist state:', error);\n    }\n  };\n\n  const saveChecklistState = async (items: Set<string>) => {\n    if (!tradeId) return;\n\n    setIsLoading(true);\n    try {\n      const response = await fetch(`/api/trades/${tradeId}/checklist`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-user-id': 'demo-user',\n        },\n        body: JSON.stringify({\n          completedItems: Array.from(items)\n        }),\n      });\n\n      if (response.ok) {\n        setSavedState(new Set(items));\n        toast.success('Checklist saved');\n      } else {\n        toast.error('Failed to save checklist');\n      }\n    } catch (error) {\n      console.error('Failed to save checklist:', error);\n      toast.error('Failed to save checklist');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const toggleItem = (itemId: string) => {\n    const newCompleted = new Set(completedItems);\n    if (newCompleted.has(itemId)) {\n      newCompleted.delete(itemId);\n    } else {\n      newCompleted.add(itemId);\n    }\n\n    setCompletedItems(newCompleted);\n\n    // Auto-save if tradeId provided\n    if (tradeId) {\n      saveChecklistState(newCompleted);\n    }\n\n    // Notify parent components\n    const requiredItems = checklistItems.filter(item => item.required).map(item => item.id);\n    const isComplete = requiredItems.every(id => newCompleted.has(id));\n\n    onChecklistChange?.(Array.from(newCompleted), isComplete);\n\n    if (isComplete && !completedItems.has(itemId)) {\n      onChecklistComplete?.(Array.from(newCompleted));\n    }\n  };\n\n  const requiredItems = checklistItems.filter(item => item.required);\n  const isComplete = requiredItems.every(item => completedItems.has(item.id));\n  const completionPercentage = Math.round((completedItems.size / checklistItems.length) * 100);\n\n  const itemsByCategory = checklistItems.reduce((acc, item) => {\n    if (!acc[item.category]) {\n      acc[item.category] = [];\n    }\n    acc[item.category].push(item);\n    return acc;\n  }, {} as Record<string, ChecklistItem[]>);\n\n  return (\n    <AnimatedCard className={`p-6 ${className}`}>\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            Pre-Trade Checklist\n          </h3>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n            Complete all required items before entering the trade\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"text-right\">\n            <div className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              {completionPercentage}%\n            </div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n              Complete\n            </div>\n          </div>\n          {isComplete ? (\n            <FiCheck className=\"w-8 h-8 text-green-500\" />\n          ) : (\n            <FiAlertCircle className=\"w-8 h-8 text-yellow-500\" />\n          )}\n        </div>\n      </div>\n\n      {/* Progress Bar */}\n      <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-6\">\n        <motion.div\n          className=\"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full\"\n          initial={{ width: 0 }}\n          animate={{ width: `${completionPercentage}%` }}\n          transition={{ duration: 0.5 }}\n        />\n      </div>\n\n      {/* Checklist Items by Category */}\n      <div className=\"space-y-6\">\n        {Object.entries(itemsByCategory).map(([category, items]) => (\n          <div key={category}>\n            <div className=\"flex items-center mb-3\">\n              <div className={`w-3 h-3 rounded-full ${categoryColors[category as keyof typeof categoryColors]} mr-2`} />\n              <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide\">\n                {categoryLabels[category as keyof typeof categoryLabels]}\n              </h4>\n            </div>\n\n            <div className=\"space-y-3 ml-5\">\n              {items.map((item) => {\n                const Icon = item.icon;\n                const isCompleted = completedItems.has(item.id);\n                const isRequired = item.required;\n\n                return (\n                  <motion.div\n                    key={item.id}\n                    className={`flex items-start space-x-3 p-3 rounded-lg border-2 transition-all cursor-pointer ${\n                      isCompleted\n                        ? 'border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20'\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                    }`}\n                    onClick={() => toggleItem(item.id)}\n                    whileHover={{ scale: 1.02 }}\n                    whileTap={{ scale: 0.98 }}\n                  >\n                    <div className={`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center border-2 ${\n                      isCompleted\n                        ? 'bg-green-500 border-green-500 text-white'\n                        : 'border-gray-300 dark:border-gray-600'\n                    }`}>\n                      {isCompleted ? (\n                        <FiCheck className=\"w-4 h-4\" />\n                      ) : (\n                        <div className=\"w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-600\" />\n                      )}\n                    </div>\n\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center space-x-2\">\n                        <Icon className={`w-4 h-4 ${isCompleted ? 'text-green-600' : 'text-gray-400'}`} />\n                        <span className={`text-sm font-medium ${\n                          isCompleted ? 'text-green-800 dark:text-green-200' : 'text-gray-900 dark:text-white'\n                        }`}>\n                          {item.label}\n                          {isRequired && <span className=\"text-red-500 ml-1\">*</span>}\n                        </span>\n                      </div>\n                      <p className={`text-xs mt-1 ${\n                        isCompleted ? 'text-green-700 dark:text-green-300' : 'text-gray-600 dark:text-gray-400'\n                      }`}>\n                        {item.description}\n                      </p>\n                    </div>\n                  </motion.div>\n                );\n              })}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Completion Status */}\n      <div className=\"mt-6 p-4 rounded-lg bg-gray-50 dark:bg-gray-800\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            {isComplete ? (\n              <>\n                <FiCheck className=\"w-5 h-5 text-green-500\" />\n                <span className=\"text-sm font-medium text-green-700 dark:text-green-300\">\n                  All required items completed!\n                </span>\n              </>\n            ) : (\n              <>\n                <FiAlertCircle className=\"w-5 h-5 text-yellow-500\" />\n                <span className=\"text-sm font-medium text-yellow-700 dark:text-yellow-300\">\n                  {requiredItems.length - requiredItems.filter(item => completedItems.has(item.id)).length} required items remaining\n                </span>\n              </>\n            )}\n          </div>\n\n          {isLoading && (\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\n              <span className=\"text-xs text-gray-500\">Saving...</span>\n            </div>\n          )}\n        </div>\n      </div>\n    </AnimatedCard>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 829, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/Modal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\nexport default function Modal({ open, onClose, title, children }: { open: boolean; onClose: () => void; title?: string; children: React.ReactNode }) {\r\n  if (!open) return null;\r\n\r\n  // Close on Escape\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Escape') onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\" onKeyDown={handleKeyDown} role=\"presentation\">\r\n      <div className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\" onClick={onClose} aria-hidden=\"true\"></div>\r\n      <div role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-title\" className=\"relative bg-slate-900 rounded-lg p-6 w-full max-w-2xl card-glass z-10\">\r\n        {title && <h3 id=\"modal-title\" className=\"text-lg font-bold mb-2\">{title}</h3>}\r\n        <div>{children}</div>\r\n        <div className=\"mt-4 flex justify-end\">\r\n          <button className=\"btn-gradient px-4 py-2 rounded\" onClick={onClose} aria-label=\"Close dialog\" autoFocus>Close</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAIe,SAAS,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAqF;IACjJ,IAAI,CAAC,MAAM,OAAO;IAElB,kBAAkB;IAClB,MAAM,gBAAgB,CAAC;QACrB,IAAI,EAAE,GAAG,KAAK,UAAU;IAC1B;IAEA,qBACE,6LAAC;QAAI,WAAU;QAAsD,WAAW;QAAe,MAAK;;0BAClG,6LAAC;gBAAI,WAAU;gBAAgD,SAAS;gBAAS,eAAY;;;;;;0BAC7F,6LAAC;gBAAI,MAAK;gBAAS,cAAW;gBAAO,mBAAgB;gBAAc,WAAU;;oBAC1E,uBAAS,6LAAC;wBAAG,IAAG;wBAAc,WAAU;kCAA0B;;;;;;kCACnE,6LAAC;kCAAK;;;;;;kCACN,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAO,WAAU;4BAAiC,SAAS;4BAAS,cAAW;4BAAe,SAAS;sCAAC;;;;;;;;;;;;;;;;;;;;;;;AAKnH;KApBwB"}},
    {"offset": {"line": 919, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/TradeUpdateModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiX, FiPlus, FiSave, FiClock } from 'react-icons/fi';\nimport Modal from '@/components/Modal';\nimport AnimatedCard from '@/components/AnimatedCard';\nimport toast from 'react-hot-toast';\n\ninterface TradeUpdate {\n  id: string;\n  action: string;\n  reason?: string;\n  emotionalState?: string;\n  behavior?: string[];\n  notes?: string;\n  timestamp: string;\n}\n\ninterface TradeUpdateModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  tradeId: string;\n  onUpdateAdded?: (update: TradeUpdate) => void;\n  existingUpdates?: TradeUpdate[];\n}\n\nconst actionOptions = [\n  { value: 'none', label: 'No Action', description: 'Monitoring the trade' },\n  { value: 'sl_moved', label: 'Stop Loss Moved', description: 'Adjusted stop loss level' },\n  { value: 'tp_adjusted', label: 'Take Profit Adjusted', description: 'Modified profit target' },\n  { value: 'partial_close', label: 'Partial Close', description: 'Closed portion of position' },\n  { value: 'manual_close', label: 'Manual Close', description: 'Closed entire position manually' }\n];\n\nconst reasonOptions = [\n  { value: 'followed_plan', label: 'Followed Plan', description: 'Executed according to strategy' },\n  { value: 'market_structure', label: 'Market Structure', description: 'Responding to price action' },\n  { value: 'emotional', label: 'Emotional Response', description: 'Reacted based on emotions' },\n  { value: 'fear', label: 'Fear', description: 'Fear-driven decision' },\n  { value: 'greed', label: 'Greed', description: 'Greed-driven decision' },\n  { value: 'uncertainty', label: 'Uncertainty', description: 'Uncertain market conditions' },\n  { value: 'distraction', label: 'Distraction', description: 'Lost focus or distracted' }\n];\n\nconst emotionalStates = [\n  { value: 'calm', label: 'Calm', color: 'bg-green-100 text-green-800' },\n  { value: 'confident', label: 'Confident', color: 'bg-blue-100 text-blue-800' },\n  { value: 'anxious', label: 'Anxious', color: 'bg-yellow-100 text-yellow-800' },\n  { value: 'hesitant', label: 'Hesitant', color: 'bg-orange-100 text-orange-800' },\n  { value: 'overconfident', label: 'Overconfident', color: 'bg-purple-100 text-purple-800' },\n  { value: 'fearful', label: 'Fearful', color: 'bg-red-100 text-red-800' },\n  { value: 'impulsive', label: 'Impulsive', color: 'bg-pink-100 text-pink-800' },\n  { value: 'detached', label: 'Detached', color: 'bg-gray-100 text-gray-800' }\n];\n\nconst behaviorOptions = [\n  { value: 'disciplined', label: 'Disciplined', description: 'Following rules consistently' },\n  { value: 'patient', label: 'Patient', description: 'Waiting for proper setup' },\n  { value: 'focused', label: 'Focused', description: 'Maintaining attention' },\n  { value: 'impulsive', label: 'Impulsive', description: 'Acting without thinking' },\n  { value: 'fearful', label: 'Fearful', description: 'Avoiding necessary actions' },\n  { value: 'greedy', label: 'Greedy', description: 'Taking excessive risk' },\n  { value: 'distracted', label: 'Distracted', description: 'Not fully engaged' },\n  { value: 'overconfident', label: 'Overconfident', description: 'Taking unnecessary risks' }\n];\n\nexport default function TradeUpdateModal({\n  isOpen,\n  onClose,\n  tradeId,\n  onUpdateAdded,\n  existingUpdates = []\n}: TradeUpdateModalProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [update, setUpdate] = useState<TradeUpdate>({\n    id: '',\n    action: 'none',\n    reason: '',\n    emotionalState: '',\n    behavior: [],\n    notes: '',\n    timestamp: new Date().toISOString()\n  });\n\n  const resetForm = () => {\n    setUpdate({\n      id: '',\n      action: 'none',\n      reason: '',\n      emotionalState: '',\n      behavior: [],\n      notes: '',\n      timestamp: new Date().toISOString()\n    });\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!update.action) {\n      toast.error('Please select an action');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const response = await fetch(`/api/trades/${tradeId}/updates`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-user-id': 'demo-user',\n        },\n        body: JSON.stringify({\n          action: update.action,\n          reason: update.reason || null,\n          emotionalState: update.emotionalState || null,\n          behavior: update.behavior && update.behavior.length > 0 ? update.behavior : null,\n          notes: update.notes || null\n        }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || 'Failed to add update');\n      }\n\n      const newUpdate = await response.json();\n      toast.success('Trade update added successfully');\n\n      onUpdateAdded?.(newUpdate);\n      handleClose();\n    } catch (error) {\n      console.error('Error adding trade update:', error);\n      toast.error(error instanceof Error ? error.message : 'Failed to add trade update');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const toggleBehavior = (behaviorValue: string) => {\n    setUpdate(prev => ({\n      ...prev,\n      behavior: prev.behavior?.includes(behaviorValue)\n        ? prev.behavior.filter(b => b !== behaviorValue)\n        : [...(prev.behavior || []), behaviorValue]\n    }));\n  };\n\n  return (\n    <Modal open={isOpen} onClose={handleClose}>\n      <motion.div\n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n        exit={{ opacity: 0, scale: 0.95 }}\n        style={{\n          background: 'var(--background)',\n          borderRadius: '12px',\n          boxShadow: 'var(--shadow-lg)',\n          maxWidth: '800px',\n          width: '100%',\n          margin: '0 16px',\n          maxHeight: '90vh',\n          overflowY: 'auto'\n        }}\n      >\n        {/* Header */}\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          padding: '24px',\n          borderBottom: '1px solid var(--border)'\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n            <div style={{\n              width: '40px',\n              height: '40px',\n              background: 'var(--accent-bg)',\n              borderRadius: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}>\n              <FiClock style={{ width: '20px', height: '20px', color: 'var(--accent-color)' }} />\n            </div>\n            <div>\n              <h2 style={{\n                fontSize: '20px',\n                fontWeight: '600',\n                color: 'var(--text-primary)',\n                margin: '0'\n              }}>\n                Add Trade Update\n              </h2>\n              <p style={{\n                fontSize: '14px',\n                color: 'var(--text-secondary)',\n                margin: '4px 0 0 0'\n              }}>\n                Record changes and observations during the trade\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={handleClose}\n            style={{\n              padding: '8px',\n              background: 'transparent',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              color: 'var(--text-secondary)',\n              transition: 'background 0.2s'\n            }}\n            onMouseEnter={(e) => e.currentTarget.style.background = 'var(--hover-bg)'}\n            onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}\n          >\n            <FiX style={{ width: '20px', height: '20px' }} />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} style={{ padding: '24px', display: 'flex', flexDirection: 'column', gap: '24px' }}>\n          {/* Action Selection */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '14px',\n              fontWeight: '500',\n              color: 'var(--text-primary)',\n              marginBottom: '12px'\n            }}>\n              What action did you take?\n            </label>\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr', gap: '12px' }}>\n              {actionOptions.map((action) => (\n                <label\n                  key={action.value}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'flex-start',\n                    gap: '12px',\n                    padding: '16px',\n                    borderRadius: '8px',\n                    border: update.action === action.value ? '2px solid var(--accent-color)' : '2px solid var(--border)',\n                    background: update.action === action.value ? 'var(--accent-bg)' : 'var(--card-bg)',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s'\n                  }}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"action\"\n                    value={action.value}\n                    checked={update.action === action.value}\n                    onChange={(e) => setUpdate(prev => ({ ...prev, action: e.target.value }))}\n                    style={{ marginTop: '2px' }}\n                  />\n                  <div style={{ flex: 1 }}>\n                    <div style={{\n                      fontWeight: '500',\n                      color: 'var(--text-primary)',\n                      marginBottom: '4px'\n                    }}>\n                      {action.label}\n                    </div>\n                    <div style={{\n                      fontSize: '14px',\n                      color: 'var(--text-secondary)'\n                    }}>\n                      {action.description}\n                    </div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Reason Selection */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '14px',\n              fontWeight: '500',\n              color: 'var(--text-primary)',\n              marginBottom: '12px'\n            }}>\n              Why did you take this action?\n            </label>\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '12px' }}>\n              {reasonOptions.map((reason) => (\n                <label\n                  key={reason.value}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'flex-start',\n                    gap: '8px',\n                    padding: '16px',\n                    borderRadius: '8px',\n                    border: update.reason === reason.value ? '2px solid var(--accent-color)' : '2px solid var(--border)',\n                    background: update.reason === reason.value ? 'var(--accent-bg)' : 'var(--card-bg)',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s'\n                  }}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"reason\"\n                    value={reason.value}\n                    checked={update.reason === reason.value}\n                    onChange={(e) => setUpdate(prev => ({ ...prev, reason: e.target.value }))}\n                    style={{ marginTop: '2px' }}\n                  />\n                  <div style={{ fontSize: '12px' }}>\n                    <div style={{\n                      fontWeight: '500',\n                      color: 'var(--text-primary)'\n                    }}>\n                      {reason.label}\n                    </div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Emotional State */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '14px',\n              fontWeight: '500',\n              color: 'var(--text-primary)',\n              marginBottom: '12px'\n            }}>\n              How were you feeling?\n            </label>\n            <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>\n              {emotionalStates.map((state) => (\n                <button\n                  key={state.value}\n                  type=\"button\"\n                  onClick={() => setUpdate(prev => ({\n                    ...prev,\n                    emotionalState: prev.emotionalState === state.value ? '' : state.value\n                  }))}\n                  style={{\n                    padding: '8px 16px',\n                    borderRadius: '20px',\n                    fontSize: '14px',\n                    fontWeight: '500',\n                    border: 'none',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s',\n                    background: update.emotionalState === state.value ? state.color : 'var(--card-bg)',\n                    color: update.emotionalState === state.value ? 'white' : 'var(--text-primary)',\n                    boxShadow: update.emotionalState === state.value ? '0 0 0 2px var(--accent-color)' : 'none'\n                  }}\n                >\n                  {state.label}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Behavior Flags */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '14px',\n              fontWeight: '500',\n              color: 'var(--text-primary)',\n              marginBottom: '12px'\n            }}>\n              How did you behave during this update?\n            </label>\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '12px' }}>\n              {behaviorOptions.map((behavior) => (\n                <label\n                  key={behavior.value}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'flex-start',\n                    gap: '8px',\n                    padding: '16px',\n                    borderRadius: '8px',\n                    border: update.behavior?.includes(behavior.value) ? '2px solid var(--success-color)' : '2px solid var(--border)',\n                    background: update.behavior?.includes(behavior.value) ? 'var(--success-bg)' : 'var(--card-bg)',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s'\n                  }}\n                >\n                  <input\n                    type=\"checkbox\"\n                    checked={update.behavior?.includes(behavior.value) || false}\n                    onChange={() => toggleBehavior(behavior.value)}\n                    style={{ marginTop: '2px' }}\n                  />\n                  <div style={{ fontSize: '12px', flex: 1 }}>\n                    <div style={{\n                      fontWeight: '500',\n                      color: 'var(--text-primary)',\n                      marginBottom: '4px'\n                    }}>\n                      {behavior.label}\n                    </div>\n                    <div style={{\n                      color: 'var(--text-secondary)',\n                      lineHeight: '1.4'\n                    }}>\n                      {behavior.description}\n                    </div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Notes */}\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '14px',\n              fontWeight: '500',\n              color: 'var(--text-primary)',\n              marginBottom: '8px'\n            }}>\n              Additional Notes\n            </label>\n            <textarea\n              value={update.notes}\n              onChange={(e) => setUpdate(prev => ({ ...prev, notes: e.target.value }))}\n              placeholder=\"Any additional observations or thoughts...\"\n              rows={3}\n              style={{\n                width: '100%',\n                padding: '12px',\n                border: '1px solid var(--border)',\n                borderRadius: '8px',\n                background: 'var(--card-bg)',\n                color: 'var(--text-primary)',\n                fontSize: '14px',\n                resize: 'vertical',\n                outline: 'none',\n                transition: 'border-color 0.2s'\n              }}\n              onFocus={(e) => e.currentTarget.style.borderColor = 'var(--accent-color)'}\n              onBlur={(e) => e.currentTarget.style.borderColor = 'var(--border)'}\n            />\n          </div>\n\n          {/* Submit Button */}\n          <div style={{\n            display: 'flex',\n            justifyContent: 'flex-end',\n            gap: '12px',\n            paddingTop: '16px',\n            borderTop: '1px solid var(--border)'\n          }}>\n            <button\n              type=\"button\"\n              onClick={handleClose}\n              style={{\n                padding: '8px 16px',\n                background: 'transparent',\n                border: 'none',\n                borderRadius: '6px',\n                color: 'var(--text-secondary)',\n                cursor: 'pointer',\n                fontSize: '14px',\n                transition: 'background 0.2s'\n              }}\n              onMouseEnter={(e) => e.currentTarget.style.background = 'var(--hover-bg)'}\n              onMouseLeave={(e) => e.currentTarget.style.background = 'transparent'}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={isSubmitting}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                padding: '8px 24px',\n                background: isSubmitting ? 'var(--disabled-bg)' : 'var(--accent-color)',\n                border: 'none',\n                borderRadius: '6px',\n                color: 'white',\n                cursor: isSubmitting ? 'not-allowed' : 'pointer',\n                fontSize: '14px',\n                fontWeight: '500',\n                transition: 'background 0.2s'\n              }}\n              onMouseEnter={(e) => {\n                if (!isSubmitting) e.currentTarget.style.background = 'var(--accent-hover)';\n              }}\n              onMouseLeave={(e) => {\n                if (!isSubmitting) e.currentTarget.style.background = 'var(--accent-color)';\n              }}\n            >\n              {isSubmitting ? (\n                <>\n                  <div style={{\n                    width: '16px',\n                    height: '16px',\n                    border: '2px solid transparent',\n                    borderTop: '2px solid white',\n                    borderRadius: '50%',\n                    animation: 'spin 1s linear infinite'\n                  }} />\n                  <span>Saving...</span>\n                </>\n              ) : (\n                <>\n                  <FiSave style={{ width: '16px', height: '16px' }} />\n                  <span>Add Update</span>\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n      </motion.div>\n    </Modal>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1844, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/TradeUpdatesList.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiClock, FiTrendingUp, FiTrendingDown, FiMinus, FiX, FiEdit3, FiPlus } from 'react-icons/fi';\nimport AnimatedCard from '@/components/AnimatedCard';\nimport TradeUpdateModal from '@/components/TradeUpdateModal';\n\ninterface TradeUpdate {\n  id: string;\n  action: string;\n  reason?: string;\n  emotionalState?: string;\n  behavior?: string[];\n  notes?: string;\n  timestamp: string;\n}\n\ninterface TradeUpdatesListProps {\n  tradeId: string;\n  className?: string;\n}\n\nconst actionIcons = {\n  none: FiMinus,\n  sl_moved: FiTrendingDown,\n  tp_adjusted: FiTrendingUp,\n  partial_close: FiPlus,\n  manual_close: FiX\n};\n\nconst actionColors = {\n  none: 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200',\n  sl_moved: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200',\n  tp_adjusted: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200',\n  partial_close: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200',\n  manual_close: 'bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200'\n};\n\nconst emotionalStateColors = {\n  calm: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200',\n  confident: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200',\n  anxious: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200',\n  hesitant: 'bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200',\n  overconfident: 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200',\n  fearful: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200',\n  impulsive: 'bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200',\n  detached: 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200'\n};\n\nconst reasonLabels = {\n  followed_plan: 'Followed Plan',\n  market_structure: 'Market Structure',\n  emotional: 'Emotional',\n  fear: 'Fear',\n  greed: 'Greed',\n  uncertainty: 'Uncertainty',\n  distraction: 'Distraction'\n};\n\nexport default function TradeUpdatesList({ tradeId, className = '' }: TradeUpdatesListProps) {\n  const [updates, setUpdates] = useState<TradeUpdate[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n\n  useEffect(() => {\n    loadUpdates();\n  }, [tradeId]);\n\n  const loadUpdates = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      const response = await fetch(`/api/trades/${tradeId}/updates`, {\n        headers: {\n          'x-user-id': 'demo-user',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to load trade updates');\n      }\n\n      const data = await response.json();\n      setUpdates(data);\n    } catch (error) {\n      console.error('Error loading trade updates:', error);\n      setError(error instanceof Error ? error.message : 'Failed to load updates');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleUpdateAdded = (newUpdate: TradeUpdate) => {\n    setUpdates(prev => [...prev, newUpdate].sort((a, b) =>\n      new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime()\n    ));\n  };\n\n  const formatTimestamp = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffMins = Math.floor(diffMs / (1000 * 60));\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n\n    if (diffMins < 1) return 'Just now';\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    if (diffDays < 7) return `${diffDays}d ago`;\n\n    return date.toLocaleDateString();\n  };\n\n  if (isLoading) {\n    return (\n      <AnimatedCard className={`p-6 ${className}`}>\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n          <span className=\"ml-3 text-gray-600 dark:text-gray-400\">Loading updates...</span>\n        </div>\n      </AnimatedCard>\n    );\n  }\n\n  if (error) {\n    return (\n      <AnimatedCard className={`p-6 ${className}`}>\n        <div className=\"text-center py-8\">\n          <div className=\"text-red-500 mb-2\">Failed to load trade updates</div>\n          <button\n            onClick={loadUpdates}\n            className=\"text-blue-600 hover:text-blue-700 underline\"\n          >\n            Try again\n          </button>\n        </div>\n      </AnimatedCard>\n    );\n  }\n\n  return (\n    <>\n      <AnimatedCard className={`p-6 ${className}`}>\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center\">\n              <FiClock className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                Trade Updates\n              </h3>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                {updates.length} update{updates.length !== 1 ? 's' : ''} recorded\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={() => setShowUpdateModal(true)}\n            className=\"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\n          >\n            <FiEdit3 className=\"w-4 h-4\" />\n            <span>Add Update</span>\n          </button>\n        </div>\n\n        {updates.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <FiClock className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n            <h4 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\n              No updates yet\n            </h4>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n              Record changes and observations as the trade progresses\n            </p>\n            <button\n              onClick={() => setShowUpdateModal(true)}\n              className=\"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\n            >\n              <FiPlus className=\"w-4 h-4\" />\n              <span>Add First Update</span>\n            </button>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {updates.map((update, index) => {\n              const ActionIcon = actionIcons[update.action as keyof typeof actionIcons] || FiMinus;\n\n              return (\n                <motion.div\n                  key={update.id}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className=\"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors\"\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex items-start space-x-4 flex-1\">\n                      {/* Action Badge */}\n                      <div className={`flex-shrink-0 px-3 py-1 rounded-full text-xs font-medium ${actionColors[update.action as keyof typeof actionColors] || actionColors.none}`}>\n                        <ActionIcon className=\"w-3 h-3 inline mr-1\" />\n                        {update.action.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\n                      </div>\n\n                      {/* Update Content */}\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center space-x-2 mb-2\">\n                          <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n                            {formatTimestamp(update.timestamp)}\n                          </span>\n                          {update.reason && (\n                            <span className=\"text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded\">\n                              {reasonLabels[update.reason as keyof typeof reasonLabels] || update.reason}\n                            </span>\n                          )}\n                        </div>\n\n                        {/* Emotional State */}\n                        {update.emotionalState && (\n                          <div className=\"mb-2\">\n                            <span className={`inline-block px-2 py-1 rounded-full text-xs font-medium ${emotionalStateColors[update.emotionalState as keyof typeof emotionalStateColors] || 'bg-gray-100 text-gray-800'}`}>\n                              Feeling: {update.emotionalState.replace(/\\b\\w/g, l => l.toUpperCase())}\n                            </span>\n                          </div>\n                        )}\n\n                        {/* Behavior Flags */}\n                        {update.behavior && update.behavior.length > 0 && (\n                          <div className=\"mb-2\">\n                            <div className=\"flex flex-wrap gap-1\">\n                              {update.behavior.map((behavior) => (\n                                <span\n                                  key={behavior}\n                                  className=\"inline-block px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded text-xs\"\n                                >\n                                  {behavior.replace(/\\b\\w/g, l => l.toUpperCase())}\n                                </span>\n                              ))}\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Notes */}\n                        {update.notes && (\n                          <div className=\"text-sm text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg\">\n                            {update.notes}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </motion.div>\n              );\n            })}\n          </div>\n        )}\n      </AnimatedCard>\n\n      <TradeUpdateModal\n        isOpen={showUpdateModal}\n        onClose={() => setShowUpdateModal(false)}\n        tradeId={tradeId}\n        onUpdateAdded={handleUpdateAdded}\n        existingUpdates={updates}\n      />\n    </>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2335, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/PostTradeReflection.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiCheck, FiX, FiSave, FiTarget, FiHeart, FiTrendingUp, FiBookOpen } from 'react-icons/fi';\nimport AnimatedCard from '@/components/AnimatedCard';\nimport toast from 'react-hot-toast';\n\ninterface PostTradeReflectionProps {\n  tradeId: string;\n  onReflectionComplete?: (reflection: any) => void;\n  className?: string;\n}\n\nconst executionQualityOptions = [\n  { value: 'yes', label: 'Yes', description: 'Fully followed the plan' },\n  { value: 'mostly', label: 'Mostly', description: 'Minor deviations only' },\n  { value: 'no', label: 'No', description: 'Significant deviations' }\n];\n\nconst emotionalStates = [\n  { value: 'calm', label: 'Calm', color: 'bg-green-100 text-green-800' },\n  { value: 'confident', label: 'Confident', color: 'bg-blue-100 text-blue-800' },\n  { value: 'anxious', label: 'Anxious', color: 'bg-yellow-100 text-yellow-800' },\n  { value: 'hesitant', label: 'Hesitant', color: 'bg-orange-100 text-orange-800' },\n  { value: 'overconfident', label: 'Overconfident', color: 'bg-purple-100 text-purple-800' },\n  { value: 'fearful', label: 'Fearful', color: 'bg-red-100 text-red-800' },\n  { value: 'impulsive', label: 'Impulsive', color: 'bg-pink-100 text-pink-800' },\n  { value: 'detached', label: 'Detached', color: 'bg-gray-100 text-gray-800' }\n];\n\nconst behavioralOutcomes = [\n  { value: 'disciplined', label: 'Disciplined', description: 'Followed all rules' },\n  { value: 'patient', label: 'Patient', description: 'Waited for proper setup' },\n  { value: 'focused', label: 'Focused', description: 'Maintained attention' },\n  { value: 'impulsive', label: 'Impulsive', description: 'Acted without thinking' },\n  { value: 'fearful', label: 'Fearful', description: 'Avoided necessary actions' },\n  { value: 'greedy', label: 'Greedy', description: 'Took excessive risk' },\n  { value: 'distracted', label: 'Distracted', description: 'Lost focus' },\n  { value: 'overconfident', label: 'Overconfident', description: 'Took unnecessary risks' }\n];\n\nexport default function PostTradeReflection({\n  tradeId,\n  onReflectionComplete,\n  className = ''\n}: PostTradeReflectionProps) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [reflection, setReflection] = useState({\n    followedPlan: '',\n    rulesRespected: '',\n    emotionalSummary: [] as string[],\n    behavioralOutcomes: [] as string[],\n    whatWentRight: '',\n    whatWentWrong: '',\n    lessonLearned: '',\n    ruleToReinforce: ''\n  });\n\n  useEffect(() => {\n    loadExistingReflection();\n  }, [tradeId]);\n\n  const loadExistingReflection = async () => {\n    try {\n      setIsLoading(true);\n      const response = await fetch(`/api/trades/${tradeId}/reflection`, {\n        headers: {\n          'x-user-id': 'demo-user',\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setReflection({\n          followedPlan: data.followedPlan || '',\n          rulesRespected: data.rulesRespected || '',\n          emotionalSummary: data.emotionalSummary ? JSON.parse(data.emotionalSummary) : [],\n          behavioralOutcomes: data.behavioralOutcomes ? JSON.parse(data.behavioralOutcomes) : [],\n          whatWentRight: data.whatWentRight || '',\n          whatWentWrong: data.whatWentWrong || '',\n          lessonLearned: data.lessonLearned || '',\n          ruleToReinforce: data.ruleToReinforce || ''\n        });\n      }\n    } catch (error) {\n      console.error('Failed to load reflection:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Basic validation\n    if (!reflection.followedPlan || !reflection.rulesRespected) {\n      toast.error('Please complete the execution quality assessment');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const response = await fetch(`/api/trades/${tradeId}/reflection`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-user-id': 'demo-user',\n        },\n        body: JSON.stringify({\n          followedPlan: reflection.followedPlan,\n          rulesRespected: reflection.rulesRespected,\n          emotionalSummary: reflection.emotionalSummary,\n          behavioralOutcomes: reflection.behavioralOutcomes,\n          whatWentRight: reflection.whatWentRight,\n          whatWentWrong: reflection.whatWentWrong,\n          lessonLearned: reflection.lessonLearned,\n          ruleToReinforce: reflection.ruleToReinforce\n        }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || 'Failed to save reflection');\n      }\n\n      const savedReflection = await response.json();\n      toast.success('Reflection saved successfully');\n\n      onReflectionComplete?.(savedReflection);\n    } catch (error) {\n      console.error('Error saving reflection:', error);\n      toast.error(error instanceof Error ? error.message : 'Failed to save reflection');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const toggleEmotionalState = (state: string) => {\n    setReflection(prev => ({\n      ...prev,\n      emotionalSummary: prev.emotionalSummary.includes(state)\n        ? prev.emotionalSummary.filter(s => s !== state)\n        : [...prev.emotionalSummary, state]\n    }));\n  };\n\n  const toggleBehavioralOutcome = (outcome: string) => {\n    setReflection(prev => ({\n      ...prev,\n      behavioralOutcomes: prev.behavioralOutcomes.includes(outcome)\n        ? prev.behavioralOutcomes.filter(o => o !== outcome)\n        : [...prev.behavioralOutcomes, outcome]\n    }));\n  };\n\n  if (isLoading) {\n    return (\n      <AnimatedCard className={`p-6 ${className}`}>\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n          <span className=\"ml-3 text-gray-600 dark:text-gray-400\">Loading reflection...</span>\n        </div>\n      </AnimatedCard>\n    );\n  }\n\n  return (\n    <AnimatedCard className={`p-6 ${className}`}>\n      <div className=\"flex items-center space-x-3 mb-6\">\n        <div className=\"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center\">\n          <FiBookOpen className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n        </div>\n        <div>\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            Post-Trade Reflection\n          </h3>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n            Analyze what happened and learn from the experience\n          </p>\n        </div>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Execution Quality Assessment */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n              Did you follow your trading plan?\n            </label>\n            <div className=\"space-y-2\">\n              {executionQualityOptions.map((option) => (\n                <label\n                  key={option.value}\n                  className={`flex items-center space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${\n                    reflection.followedPlan === option.value\n                      ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                      : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                  }`}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"followedPlan\"\n                    value={option.value}\n                    checked={reflection.followedPlan === option.value}\n                    onChange={(e) => setReflection(prev => ({ ...prev, followedPlan: e.target.value }))}\n                    className=\"text-blue-600\"\n                  />\n                  <div>\n                    <div className=\"font-medium text-gray-900 dark:text-white\">{option.label}</div>\n                    <div className=\"text-sm text-gray-600 dark:text-gray-400\">{option.description}</div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n              Did you respect your trading rules?\n            </label>\n            <div className=\"space-y-2\">\n              {executionQualityOptions.map((option) => (\n                <label\n                  key={`rules-${option.value}`}\n                  className={`flex items-center space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${\n                    reflection.rulesRespected === option.value\n                      ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                      : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                  }`}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"rulesRespected\"\n                    value={option.value}\n                    checked={reflection.rulesRespected === option.value}\n                    onChange={(e) => setReflection(prev => ({ ...prev, rulesRespected: e.target.value }))}\n                    className=\"text-blue-600\"\n                  />\n                  <div>\n                    <div className=\"font-medium text-gray-900 dark:text-white\">{option.label}</div>\n                    <div className=\"text-sm text-gray-600 dark:text-gray-400\">{option.description}</div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Emotional Summary */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n            How did you feel during and after the trade?\n          </label>\n          <div className=\"flex flex-wrap gap-2\">\n            {emotionalStates.map((state) => (\n              <button\n                key={state.value}\n                type=\"button\"\n                onClick={() => toggleEmotionalState(state.value)}\n                className={`px-3 py-2 rounded-full text-sm font-medium transition-all ${\n                  reflection.emotionalSummary.includes(state.value)\n                    ? state.color + ' ring-2 ring-offset-2 ring-blue-500'\n                    : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'\n                }`}\n              >\n                {state.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Behavioral Outcomes */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n            How did you behave during this trade?\n          </label>\n          <div className=\"grid grid-cols-2 gap-3\">\n            {behavioralOutcomes.map((outcome) => (\n              <label\n                key={outcome.value}\n                className={`flex items-start space-x-2 p-3 rounded-lg border cursor-pointer transition-all ${\n                  reflection.behavioralOutcomes.includes(outcome.value)\n                    ? 'border-green-500 bg-green-50 dark:bg-green-900/20'\n                    : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                }`}\n              >\n                <input\n                  type=\"checkbox\"\n                  checked={reflection.behavioralOutcomes.includes(outcome.value)}\n                  onChange={() => toggleBehavioralOutcome(outcome.value)}\n                  className=\"mt-0.5\"\n                />\n                <div className=\"text-xs\">\n                  <div className=\"font-medium text-gray-900 dark:text-white\">\n                    {outcome.label}\n                  </div>\n                  <div className=\"text-gray-600 dark:text-gray-400\">\n                    {outcome.description}\n                  </div>\n                </div>\n              </label>\n            ))}\n          </div>\n        </div>\n\n        {/* What Went Right/Wrong */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              What went right?\n            </label>\n            <textarea\n              value={reflection.whatWentRight}\n              onChange={(e) => setReflection(prev => ({ ...prev, whatWentRight: e.target.value }))}\n              placeholder=\"What did you do well in this trade?\"\n              rows={4}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              What went wrong?\n            </label>\n            <textarea\n              value={reflection.whatWentWrong}\n              onChange={(e) => setReflection(prev => ({ ...prev, whatWentWrong: e.target.value }))}\n              placeholder=\"What could you have done better?\"\n              rows={4}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            />\n          </div>\n        </div>\n\n        {/* Lessons Learned */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Key lesson learned\n            </label>\n            <textarea\n              value={reflection.lessonLearned}\n              onChange={(e) => setReflection(prev => ({ ...prev, lessonLearned: e.target.value }))}\n              placeholder=\"What's the most important takeaway from this trade?\"\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Rule to reinforce\n            </label>\n            <textarea\n              value={reflection.ruleToReinforce}\n              onChange={(e) => setReflection(prev => ({ ...prev, ruleToReinforce: e.target.value }))}\n              placeholder=\"Which trading rule should you focus on reinforcing?\"\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            />\n          </div>\n        </div>\n\n        {/* Submit Button */}\n        <div className=\"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700\">\n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className=\"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg transition-colors\"\n          >\n            {isSubmitting ? (\n              <>\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                <span>Saving...</span>\n              </>\n            ) : (\n              <>\n                <FiSave className=\"w-4 h-4\" />\n                <span>Save Reflection</span>\n              </>\n            )}\n          </button>\n        </div>\n      </form>\n    </AnimatedCard>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3109, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/VoiceRecorder.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport { FiMic, FiStopCircle, FiPlay, FiTrash2 } from 'react-icons/fi';\r\n\r\ninterface VoiceRecorderProps {\r\n  onRecordingSaved?: (audioUrl: string) => void;\r\n}\r\n\r\nexport default function VoiceRecorder({ onRecordingSaved }: VoiceRecorderProps) {\r\n  const mediaRecorder = useRef<MediaRecorder | null>(null);\r\n  const audioChunks = useRef<Blob[]>([]);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [recordings, setRecordings] = useState<Array<{\r\n    id: string;\r\n    url: string;\r\n    duration: number;\r\n    timestamp: Date;\r\n    uploaded?: boolean;\r\n  }>>([]);\r\n  \r\n  const [playingId, setPlayingId] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    let interval: NodeJS.Timeout;\r\n    if (isRecording) {\r\n      interval = setInterval(() => {\r\n        setRecordingTime(prev => prev + 1);\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isRecording]);\r\n\r\n  const startRecording = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      mediaRecorder.current = new MediaRecorder(stream);\r\n      audioChunks.current = [];\r\n\r\n      mediaRecorder.current.ondataavailable = (event) => {\r\n        audioChunks.current.push(event.data);\r\n      };\r\n\r\n      mediaRecorder.current.onstop = () => {\r\n        (async () => {\r\n          const audioBlob = new Blob(audioChunks.current, { type: 'audio/webm' });\r\n          const url = URL.createObjectURL(audioBlob);\r\n          const recording = {\r\n            id: Date.now().toString(),\r\n            url,\r\n            duration: recordingTime,\r\n            timestamp: new Date(),\r\n            uploaded: false,\r\n          };\r\n\r\n          // Optimistically add local recording\r\n          setRecordings(prev => [recording, ...prev]);\r\n          onRecordingSaved?.(url);\r\n\r\n          // Try uploading to server\r\n          try {\r\n            const fd = new FormData();\r\n            fd.append('file', audioBlob, `voice-${Date.now()}.webm`);\r\n\r\n            const res = await fetch('/api/voice-notes', {\r\n              method: 'POST',\r\n              body: fd,\r\n              headers: {\r\n                'x-user-id': 'demo-user',\r\n              },\r\n            });\r\n\r\n            if (res.ok) {\r\n              const data = await res.json();\r\n              // If API returns stored URL, replace local URL\r\n              if (data?.url) {\r\n                setRecordings(prev => prev.map(r => r.id === recording.id ? { ...r, url: data.url, uploaded: true } : r));\r\n              } else {\r\n                setRecordings(prev => prev.map(r => r.id === recording.id ? { ...r, uploaded: true } : r));\r\n              }\r\n              toast.success('Voice note uploaded');\r\n            } else {\r\n              toast('Saved locally (upload failed)', { icon: 'âš ï¸' });\r\n            }\r\n          } catch (err) {\r\n            console.error('Voice upload failed', err);\r\n            toast('Saved locally (upload failed)', { icon: 'âš ï¸' });\r\n          }\r\n        })();\r\n      };\r\n\r\n      mediaRecorder.current.start();\r\n      setIsRecording(true);\r\n      setRecordingTime(0);\r\n    } catch (error) {\r\n      toast.error('Unable to access microphone');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorder.current && isRecording) {\r\n      mediaRecorder.current.stop();\r\n      setIsRecording(false);\r\n      mediaRecorder.current.stream.getTracks().forEach(track => track.stop());\r\n    }\r\n  };\r\n\r\n  const deleteRecording = (id: string) => {\r\n    setRecordings(prev => prev.filter(r => r.id !== id));\r\n  };\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Recording Controls */}\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg p-6 border border-gray-200 dark:border-slate-700\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Voice Notes</h3>\r\n\r\n        {/* Recording Interface */}\r\n        <div className=\"flex items-center gap-4 mb-4 flex-wrap\">\r\n          {!isRecording ? (\r\n            <button\r\n              onClick={startRecording}\r\n              className=\"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors\"\r\n              aria-label=\"Start recording voice note\"\r\n            >\r\n              <FiMic className=\"w-5 h-5\" />\r\n              Start Recording\r\n            </button>\r\n          ) : (\r\n            <>\r\n              <button\r\n                onClick={stopRecording}\r\n                className=\"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors\"\r\n                aria-label=\"Stop recording\"\r\n                aria-live=\"polite\"\r\n              >\r\n                <FiStopCircle className=\"w-5 h-5\" />\r\n                Stop\r\n              </button>\r\n              <div className=\"text-lg font-bold text-red-600 dark:text-red-400\" aria-live=\"polite\">\r\n                Recording: {formatTime(recordingTime)}\r\n              </div>\r\n              <div className=\"flex-1 h-1 bg-red-300 dark:bg-red-900 rounded-full relative overflow-hidden min-w-[100px]\">\r\n                <div className=\"h-full bg-red-600 animate-pulse\" style={{width: '30%'}} />\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Recorded Clips */}\r\n        {recordings.length > 0 && (\r\n          <div className=\"space-y-3\">\r\n            <h4 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Recordings ({recordings.length})</h4>\r\n            {recordings.map(recording => (\r\n              <div\r\n                key={recording.id}\r\n                className=\"flex items-center justify-between bg-gray-50 dark:bg-slate-700 p-3 rounded-lg\"\r\n              >\r\n                <div className=\"flex items-center gap-3 flex-1\">\r\n                  <button\r\n                    onClick={() => setPlayingId(playingId === recording.id ? null : recording.id)}\r\n                    className=\"p-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors\"\r\n                    aria-label={playingId === recording.id ? 'Pause recording' : 'Play recording'}\r\n                  >\r\n                    <FiPlay className=\"w-4 h-4\" />\r\n                  </button>\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                      {recording.timestamp.toLocaleTimeString()}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                      Duration: {formatTime(recording.duration)}\r\n                      {recording.uploaded && <span className=\"ml-2\">âœ“ Uploaded</span>}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={() => deleteRecording(recording.id)}\r\n                  className=\"p-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors\"\r\n                  aria-label={`Delete recording from ${recording.timestamp.toLocaleTimeString()}`}\r\n                >\r\n                  <FiTrash2 className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {recordings.length === 0 && !isRecording && (\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 text-center py-6\">\r\n            No recordings yet. Start recording to add voice notes to your trades.\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Hidden Audio Player */}\r\n      {playingId && (\r\n        <audio\r\n          key={playingId}\r\n          src={recordings.find(r => r.id === playingId)?.url}\r\n          autoPlay\r\n          controls\r\n          className=\"w-full\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3483, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/components/ScreenshotUploader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport { FiUpload, FiX, FiDownload } from 'react-icons/fi';\r\n\r\ninterface ScreenshotUploaderProps {\r\n  onScreenshotAdded?: (dataUrl: string) => void;\r\n}\r\n\r\nexport default function ScreenshotUploader({ onScreenshotAdded }: ScreenshotUploaderProps) {\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [screenshots, setScreenshots] = useState<Array<{\r\n    id: string;\r\n    url: string;\r\n    caption: string;\r\n    timestamp: Date;\r\n  }>>([]);\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [editCaption, setEditCaption] = useState('');\r\n\r\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = e.currentTarget.files;\r\n    if (!files) return;\r\n\r\n    for (const file of Array.from(files)) {\r\n      try {\r\n        const reader = new FileReader();\r\n        reader.onload = (event) => {\r\n          const dataUrl = event.target?.result as string;\r\n          const screenshot = {\r\n            id: Date.now().toString() + Math.random(),\r\n            url: dataUrl,\r\n            caption: '',\r\n            timestamp: new Date(),\r\n          };\r\n          setScreenshots(prev => [screenshot, ...prev]);\r\n          onScreenshotAdded?.(dataUrl);\r\n          toast.success('Screenshot uploaded');\r\n        };\r\n        reader.readAsDataURL(file);\r\n      } catch (error) {\r\n        toast.error('Failed to upload screenshot');\r\n        console.error(error);\r\n      }\r\n    }\r\n\r\n    // Reset input\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const updateCaption = (id: string, newCaption: string) => {\r\n    setScreenshots(prev =>\r\n      prev.map(s => (s.id === id ? { ...s, caption: newCaption } : s))\r\n    );\r\n    setEditingId(null);\r\n  };\r\n\r\n  const deleteScreenshot = (id: string) => {\r\n    setScreenshots(prev => prev.filter(s => s.id !== id));\r\n  };\r\n\r\n  const downloadScreenshot = (url: string, timestamp: Date) => {\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `trade-setup-${timestamp.toISOString()}.png`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg p-6 border border-gray-200 dark:border-slate-700\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Trade Setup Screenshots</h3>\r\n\r\n        {/* Upload Area */}\r\n        <button\r\n          onClick={() => fileInputRef.current?.click()}\r\n          className=\"w-full border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors\"\r\n          aria-label=\"Upload screenshot by clicking or dragging files\"\r\n        >\r\n          <FiUpload className=\"w-8 h-8 mx-auto mb-2 text-gray-600 dark:text-gray-400\" />\r\n          <p className=\"text-sm font-medium text-gray-900 dark:text-white\">Click to upload or drag & drop</p>\r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400\">PNG, JPG, GIF up to 10MB</p>\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            multiple\r\n            accept=\"image/*\"\r\n            onChange={handleFileSelect}\r\n            className=\"hidden\"\r\n            aria-label=\"File input for screenshots\"\r\n          />\r\n        </button>\r\n\r\n        {/* Screenshots Grid */}\r\n        {screenshots.length > 0 && (\r\n          <div className=\"mt-6\">\r\n            <h4 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4\">Uploads ({screenshots.length})</h4>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n              {screenshots.map(screenshot => (\r\n                <div\r\n                  key={screenshot.id}\r\n                  className=\"relative group bg-gray-100 dark:bg-slate-700 rounded-lg overflow-hidden\"\r\n                >\r\n                  {/* Image */}\r\n                  <img\r\n                    src={screenshot.url}\r\n                    alt=\"Trade setup\"\r\n                    className=\"w-full h-40 object-cover\"\r\n                  />\r\n\r\n                  {/* Overlay */}\r\n                  <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-between p-2\">\r\n                    <button\r\n                      onClick={() => downloadScreenshot(screenshot.url, screenshot.timestamp)}\r\n                      className=\"p-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors\"\r\n                      title=\"Download\"\r\n                    >\r\n                      <FiDownload className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => deleteScreenshot(screenshot.id)}\r\n                      className=\"p-2 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors\"\r\n                      title=\"Delete\"\r\n                    >\r\n                      <FiX className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Caption */}\r\n                  <div className=\"p-3 bg-white dark:bg-slate-800 border-t border-gray-200 dark:border-slate-600\">\r\n                    {editingId === screenshot.id ? (\r\n                      <input\r\n                        autoFocus\r\n                        type=\"text\"\r\n                        value={editCaption}\r\n                        onChange={(e) => setEditCaption(e.target.value)}\r\n                        onBlur={() => updateCaption(screenshot.id, editCaption)}\r\n                        onKeyPress={(e) => {\r\n                          if (e.key === 'Enter') {\r\n                            updateCaption(screenshot.id, editCaption);\r\n                          }\r\n                        }}\r\n                        placeholder=\"Add caption...\"\r\n                        className=\"w-full px-2 py-1 border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-gray-900 dark:text-white text-xs focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                      />\r\n                    ) : (\r\n                      <p\r\n                        onClick={() => {\r\n                          setEditingId(screenshot.id);\r\n                          setEditCaption(screenshot.caption);\r\n                        }}\r\n                        className=\"text-xs text-gray-600 dark:text-gray-400 cursor-pointer hover:text-gray-900 dark:hover:text-white\"\r\n                      >\r\n                        {screenshot.caption || 'Click to add caption...'}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAUe,SAAS,mBAAmB,EAAE,iBAAiB,EAA2B;;IACvF,MAAM,eAAe,IAAA,uKAAM,EAAmB;IAC9C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAK1C,EAAE;IACN,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAgB;IAC1D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,MAAM,mBAAmB,OAAO;QAC9B,MAAM,QAAQ,EAAE,aAAa,CAAC,KAAK;QACnC,IAAI,CAAC,OAAO;QAEZ,KAAK,MAAM,QAAQ,MAAM,IAAI,CAAC,OAAQ;YACpC,IAAI;gBACF,MAAM,SAAS,IAAI;gBACnB,OAAO,MAAM,GAAG,CAAC;oBACf,MAAM,UAAU,MAAM,MAAM,EAAE;oBAC9B,MAAM,aAAa;wBACjB,IAAI,KAAK,GAAG,GAAG,QAAQ,KAAK,KAAK,MAAM;wBACvC,KAAK;wBACL,SAAS;wBACT,WAAW,IAAI;oBACjB;oBACA,eAAe,CAAA,OAAQ;4BAAC;+BAAe;yBAAK;oBAC5C,oBAAoB;oBACpB,qKAAK,CAAC,OAAO,CAAC;gBAChB;gBACA,OAAO,aAAa,CAAC;YACvB,EAAE,OAAO,OAAO;gBACd,qKAAK,CAAC,KAAK,CAAC;gBACZ,QAAQ,KAAK,CAAC;YAChB;QACF;QAEA,cAAc;QACd,IAAI,aAAa,OAAO,EAAE;YACxB,aAAa,OAAO,CAAC,KAAK,GAAG;QAC/B;IACF;IAEA,MAAM,gBAAgB,CAAC,IAAY;QACjC,eAAe,CAAA,OACb,KAAK,GAAG,CAAC,CAAA,IAAM,EAAE,EAAE,KAAK,KAAK;oBAAE,GAAG,CAAC;oBAAE,SAAS;gBAAW,IAAI;QAE/D,aAAa;IACf;IAEA,MAAM,mBAAmB,CAAC;QACxB,eAAe,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IACnD;IAEA,MAAM,qBAAqB,CAAC,KAAa;QACvC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG,CAAC,YAAY,EAAE,UAAU,WAAW,GAAG,IAAI,CAAC;QAC5D,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;IAC5B;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAuD;;;;;;8BAGrE,6LAAC;oBACC,SAAS,IAAM,aAAa,OAAO,EAAE;oBACrC,WAAU;oBACV,cAAW;;sCAEX,6LAAC,6JAAQ;4BAAC,WAAU;;;;;;sCACpB,6LAAC;4BAAE,WAAU;sCAAoD;;;;;;sCACjE,6LAAC;4BAAE,WAAU;sCAA2C;;;;;;sCACxD,6LAAC;4BACC,KAAK;4BACL,MAAK;4BACL,QAAQ;4BACR,QAAO;4BACP,UAAU;4BACV,WAAU;4BACV,cAAW;;;;;;;;;;;;gBAKd,YAAY,MAAM,GAAG,mBACpB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;;gCAA8D;gCAAU,YAAY,MAAM;gCAAC;;;;;;;sCACzG,6LAAC;4BAAI,WAAU;sCACZ,YAAY,GAAG,CAAC,CAAA,2BACf,6LAAC;oCAEC,WAAU;;sDAGV,6LAAC;4CACC,KAAK,WAAW,GAAG;4CACnB,KAAI;4CACJ,WAAU;;;;;;sDAIZ,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,SAAS,IAAM,mBAAmB,WAAW,GAAG,EAAE,WAAW,SAAS;oDACtE,WAAU;oDACV,OAAM;8DAEN,cAAA,6LAAC,+JAAU;wDAAC,WAAU;;;;;;;;;;;8DAExB,6LAAC;oDACC,SAAS,IAAM,iBAAiB,WAAW,EAAE;oDAC7C,WAAU;oDACV,OAAM;8DAEN,cAAA,6LAAC,wJAAG;wDAAC,WAAU;;;;;;;;;;;;;;;;;sDAKnB,6LAAC;4CAAI,WAAU;sDACZ,cAAc,WAAW,EAAE,iBAC1B,6LAAC;gDACC,SAAS;gDACT,MAAK;gDACL,OAAO;gDACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gDAC9C,QAAQ,IAAM,cAAc,WAAW,EAAE,EAAE;gDAC3C,YAAY,CAAC;oDACX,IAAI,EAAE,GAAG,KAAK,SAAS;wDACrB,cAAc,WAAW,EAAE,EAAE;oDAC/B;gDACF;gDACA,aAAY;gDACZ,WAAU;;;;;qEAGZ,6LAAC;gDACC,SAAS;oDACP,aAAa,WAAW,EAAE;oDAC1B,eAAe,WAAW,OAAO;gDACnC;gDACA,WAAU;0DAET,WAAW,OAAO,IAAI;;;;;;;;;;;;mCArDxB,WAAW,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEpC;GAhKwB;KAAA"}},
    {"offset": {"line": 3759, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Forex-Journal-2/src/app/review/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { FiBookOpen, FiCheckCircle, FiClock, FiTrendingUp } from 'react-icons/fi';\r\nimport DashboardHeader from '@/components/DashboardHeader';\r\nimport AnimatedCard from '@/components/AnimatedCard';\r\nimport PreTradeChecklist from '@/components/PreTradeChecklist';\r\nimport TradeUpdatesList from '@/components/TradeUpdatesList';\r\nimport PostTradeReflection from '@/components/PostTradeReflection';\r\nimport VoiceRecorder from '@/components/VoiceRecorder';\r\nimport ScreenshotUploader from '@/components/ScreenshotUploader';\r\nimport { useTheme } from '@/context/ThemeContext';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport toast from 'react-hot-toast';\r\n\r\ninterface Trade {\r\n  id: string;\r\n  pair: string;\r\n  direction: string;\r\n  entryPrice: number;\r\n  exitPrice?: number;\r\n  entryTime: string;\r\n  exitTime?: string;\r\n  outcome?: string;\r\n  profitLoss?: number;\r\n  emotionalState?: string;\r\n  strategy?: string;\r\n  status: string;\r\n}\r\n\r\nexport default function TradeReviewPage() {\r\n  const { theme, toggleTheme } = useTheme();\r\n  const [mounted] = useState(() => typeof window !== 'undefined');\r\n  const [selectedTradeId, setSelectedTradeId] = useState<string | null>(null);\r\n  const [trades, setTrades] = useState<Trade[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState<'checklist' | 'updates' | 'reflection' | 'media'>('checklist');\r\n\r\n  useEffect(() => {\r\n    if (!mounted) return;\r\n    loadTrades();\r\n  }, [mounted]);\r\n\r\n  const loadTrades = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await fetch('/api/trades', {\r\n        headers: {\r\n          'x-user-id': 'demo-user',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to load trades');\r\n      }\r\n\r\n      const data = await response.json();\r\n      setTrades(data);\r\n    } catch (error) {\r\n      console.error('Error loading trades:', error);\r\n      toast.error('Failed to load trades');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const selectedTrade = trades.find(t => t.id === selectedTradeId);\r\n\r\n  const tabs = [\r\n    { id: 'checklist' as const, label: 'Pre-Trade Checklist', icon: FiCheckCircle },\r\n    { id: 'updates' as const, label: 'Trade Updates', icon: FiClock },\r\n    { id: 'reflection' as const, label: 'Post-Trade Reflection', icon: FiBookOpen },\r\n    { id: 'media' as const, label: 'Media & Notes', icon: FiTrendingUp }\r\n  ];\r\n\r\n  if (!mounted) {\r\n    return <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\" />;\r\n  }\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', backgroundColor: 'var(--background)' }}>\r\n      <DashboardHeader onThemeToggle={toggleTheme} currentTheme={theme} />\r\n\r\n      <main style={{ maxWidth: '1200px', margin: '0 auto', padding: '32px 16px' }}>\r\n        {/* Header Section */}\r\n        <div style={{ marginBottom: '32px' }}>\r\n          <h1 style={{ fontSize: '32px', fontWeight: '700', color: 'var(--text-primary)', marginBottom: '8px' }}>\r\n            Trade Lifecycle Review\r\n          </h1>\r\n          <p style={{ fontSize: '16px', color: 'var(--text-secondary)', margin: 0 }}>\r\n            Complete pre-trade preparation, track in-trade decisions, and reflect on outcomes\r\n          </p>\r\n        </div>\r\n\r\n        {/* Tab Navigation */}\r\n        <div style={{ marginBottom: '24px' }}>\r\n          <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n            {tabs.map((tab) => {\r\n              const Icon = tab.icon;\r\n              return (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id)}\r\n                  style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px',\r\n                    padding: '12px 16px',\r\n                    borderRadius: '8px',\r\n                    border: 'none',\r\n                    backgroundColor: activeTab === tab.id ? 'var(--purple-base)' : 'transparent',\r\n                    color: activeTab === tab.id ? 'white' : 'var(--text-secondary)',\r\n                    cursor: 'pointer',\r\n                    fontWeight: '600',\r\n                    fontSize: '14px',\r\n                    transition: 'all 0.2s ease',\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    if (activeTab !== tab.id) {\r\n                      e.currentTarget.style.backgroundColor = 'var(--panel-muted)';\r\n                    }\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    if (activeTab !== tab.id) {\r\n                      e.currentTarget.style.backgroundColor = 'transparent';\r\n                    }\r\n                  }}\r\n                >\r\n                  <Icon size={16} />\r\n                  <span>{tab.label}</span>\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content Area */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '24px' }}>\r\n          {/* Trades List Sidebar */}\r\n          <div style={{ backgroundColor: 'var(--card-bg)', border: '1px solid var(--card-border)', borderRadius: '12px', padding: '20px' }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '16px' }}>\r\n              <h2 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', margin: 0 }}>\r\n                Recent Trades\r\n              </h2>\r\n              <div style={{ fontSize: '12px', color: 'var(--text-secondary)' }}>\r\n                {trades.length} total\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ maxHeight: '400px', overflowY: 'auto' }}>\r\n              {isLoading ? (\r\n                <div style={{ display: 'flex', justifyContent: 'center', padding: '32px' }}>\r\n                  <div style={{\r\n                    width: '24px',\r\n                    height: '24px',\r\n                    border: '2px solid var(--card-border)',\r\n                    borderTop: '2px solid var(--purple-base)',\r\n                    borderRadius: '50%',\r\n                    animation: 'spin 1s linear infinite'\r\n                  }}></div>\r\n                </div>\r\n              ) : trades.length > 0 ? (\r\n                <div style={{ display: 'grid', gap: '8px' }}>\r\n                  {trades.map((trade) => (\r\n                    <button\r\n                      key={trade.id}\r\n                      onClick={() => setSelectedTradeId(trade.id)}\r\n                      style={{\r\n                        width: '100%',\r\n                        textAlign: 'left',\r\n                        padding: '12px',\r\n                        borderRadius: '8px',\r\n                        border: selectedTradeId === trade.id ? '2px solid var(--purple-base)' : '1px solid var(--card-border)',\r\n                        backgroundColor: selectedTradeId === trade.id ? 'var(--panel-muted)' : 'var(--card-bg)',\r\n                        cursor: 'pointer',\r\n                        transition: 'all 0.2s ease',\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        if (selectedTradeId !== trade.id) {\r\n                          e.currentTarget.style.backgroundColor = 'var(--panel-muted)';\r\n                        }\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        if (selectedTradeId !== trade.id) {\r\n                          e.currentTarget.style.backgroundColor = selectedTradeId === trade.id ? 'var(--panel-muted)' : 'var(--card-bg)';\r\n                        }\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: '14px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '4px' }}>\r\n                        {trade.pair} {trade.direction}\r\n                      </div>\r\n                      <div style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '4px' }}>\r\n                        {new Date(trade.entryTime).toLocaleDateString()}\r\n                      </div>\r\n                      <div style={{\r\n                        fontSize: '12px',\r\n                        fontWeight: '600',\r\n                        color: trade.outcome === 'WIN' ? '#10b981' : trade.outcome === 'LOSS' ? '#ef4444' : 'var(--text-secondary)'\r\n                      }}>\r\n                        {trade.outcome || 'Open'}\r\n                      </div>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div style={{ textAlign: 'center', padding: '32px' }}>\r\n                  <div style={{ fontSize: '48px', marginBottom: '16px' }}>ðŸ“Š</div>\r\n                  <h3 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '8px' }}>\r\n                    No Trades Yet\r\n                  </h3>\r\n                  <p style={{ fontSize: '14px', color: 'var(--text-secondary)' }}>\r\n                    Start trading to begin reviewing your performance\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main Content Area */}\r\n          <div style={{ backgroundColor: 'var(--card-bg)', border: '1px solid var(--card-border)', borderRadius: '12px', padding: '20px' }}>\r\n            {selectedTrade ? (\r\n              <div style={{ display: 'grid', gap: '20px' }}>\r\n                {/* Trade Summary */}\r\n                <div>\r\n                  <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '16px' }}>\r\n                    <h2 style={{ fontSize: '18px', fontWeight: '600', color: 'var(--text-primary)', margin: 0 }}>\r\n                      {selectedTrade.pair} - {selectedTrade.direction}\r\n                    </h2>\r\n                    <span style={{\r\n                      padding: '4px 12px',\r\n                      borderRadius: '20px',\r\n                      fontSize: '12px',\r\n                      fontWeight: '600',\r\n                      backgroundColor: selectedTrade.status === 'closed' ? '#dcfce7' : selectedTrade.status === 'open' ? '#dbeafe' : 'var(--panel-muted)',\r\n                      color: selectedTrade.status === 'closed' ? '#166534' : selectedTrade.status === 'open' ? '#1e40af' : 'var(--text-secondary)',\r\n                    }}>\r\n                      {selectedTrade.status}\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: '16px' }}>\r\n                    <div style={{ padding: '12px', backgroundColor: 'var(--panel-muted)', borderRadius: '6px' }}>\r\n                      <div style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '4px' }}>Entry Price</div>\r\n                      <div style={{ fontSize: '14px', fontWeight: '600', color: 'var(--text-primary)' }}>\r\n                        {selectedTrade.entryPrice.toFixed(5)}\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ padding: '12px', backgroundColor: 'var(--panel-muted)', borderRadius: '6px' }}>\r\n                      <div style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '4px' }}>Exit Price</div>\r\n                      <div style={{ fontSize: '14px', fontWeight: '600', color: 'var(--text-primary)' }}>\r\n                        {selectedTrade.exitPrice?.toFixed(5) || 'Open'}\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ padding: '12px', backgroundColor: 'var(--panel-muted)', borderRadius: '6px' }}>\r\n                      <div style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '4px' }}>P&L</div>\r\n                      <div style={{\r\n                        fontSize: '14px',\r\n                        fontWeight: '600',\r\n                        color: (selectedTrade.profitLoss || 0) >= 0 ? '#10b981' : '#ef4444'\r\n                      }}>\r\n                        {selectedTrade.profitLoss?.toFixed(2) || 'N/A'}\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ padding: '12px', backgroundColor: 'var(--panel-muted)', borderRadius: '6px' }}>\r\n                      <div style={{ fontSize: '12px', color: 'var(--text-secondary)', marginBottom: '4px' }}>Outcome</div>\r\n                      <div style={{ fontSize: '14px', fontWeight: '600', color: 'var(--text-primary)' }}>\r\n                        {selectedTrade.outcome || 'Open'}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Tab Content */}\r\n                <div style={{ minHeight: '400px' }}>\r\n                  {activeTab === 'checklist' && (\r\n                    <PreTradeChecklist\r\n                      tradeId={selectedTrade.id}\r\n                      onChecklistComplete={(completedItems) => {\r\n                        toast.success('Pre-trade checklist completed!');\r\n                      }}\r\n                    />\r\n                  )}\r\n\r\n                  {activeTab === 'updates' && (\r\n                    <TradeUpdatesList tradeId={selectedTrade.id} />\r\n                  )}\r\n\r\n                  {activeTab === 'reflection' && (\r\n                    <PostTradeReflection\r\n                      tradeId={selectedTrade.id}\r\n                      onReflectionComplete={(reflection) => {\r\n                        toast.success('Post-trade reflection saved!');\r\n                      }}\r\n                    />\r\n                  )}\r\n\r\n                  {activeTab === 'media' && (\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '16px' }}>\r\n                      <div style={{ backgroundColor: 'var(--panel-muted)', borderRadius: '8px', padding: '16px' }}>\r\n                        <h3 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '12px' }}>\r\n                          Voice Notes\r\n                        </h3>\r\n                        <VoiceRecorder />\r\n                      </div>\r\n\r\n                      <div style={{ backgroundColor: 'var(--panel-muted)', borderRadius: '8px', padding: '16px' }}>\r\n                        <h3 style={{ fontSize: '16px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '12px' }}>\r\n                          Screenshots\r\n                        </h3>\r\n                        <ScreenshotUploader />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div style={{ textAlign: 'center', padding: '64px 32px' }}>\r\n                <div style={{ fontSize: '64px', marginBottom: '24px' }}>ðŸ“ˆ</div>\r\n                <h3 style={{ fontSize: '20px', fontWeight: '600', color: 'var(--text-primary)', marginBottom: '12px' }}>\r\n                  Select a Trade to Review\r\n                </h3>\r\n                <p style={{ fontSize: '16px', color: 'var(--text-secondary)', marginBottom: '24px' }}>\r\n                  Choose a trade from the sidebar to access the complete lifecycle review\r\n                </p>\r\n                <button\r\n                  onClick={() => setSelectedTradeId(trades[0]?.id || null)}\r\n                  disabled={trades.length === 0}\r\n                  style={{\r\n                    padding: '12px 24px',\r\n                    background: 'linear-gradient(135deg, var(--purple-base) 0%, var(--purple-dark) 100%)',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '8px',\r\n                    cursor: trades.length > 0 ? 'pointer' : 'not-allowed',\r\n                    fontWeight: '600',\r\n                    fontSize: '14px',\r\n                    opacity: trades.length > 0 ? 1 : 0.5,\r\n                  }}\r\n                >\r\n                  Select First Trade\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      <Toaster position=\"bottom-right\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}