(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29096,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(46932),s=e.i(92199),i=e.i(88653),l=e.i(55613),d=e.i(5766);let n=["conservative","moderate","aggressive"],o=["low","medium","high"];function c({strategyId:e,onClose:i,onSuccess:c}){let[g,x]=(0,t.useState)({name:"",entryLogic:"",confirmationStyle:"moderate",riskStyle:"medium",notes:""}),[m,y]=(0,t.useState)(!1),h=async r=>{if(r.preventDefault(),!g.name.trim()||!g.entryLogic.trim())return void d.default.error("Name and entry logic are required");y(!0);try{let r=await fetch(`/api/strategies/${e}/entry-models`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g.name.trim(),entryLogic:g.entryLogic.trim(),confirmationStyle:g.confirmationStyle,riskStyle:g.riskStyle,notes:g.notes.trim()||void 0})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to create entry model")}c()}catch(e){console.error("Error creating entry model:",e),d.default.error(e instanceof Error?e.message:"Failed to create entry model")}finally{y(!1)}};return(0,r.jsx)(l.default,{open:!0,onClose:i,children:(0,r.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg flex items-center justify-center",children:(0,r.jsx)(s.FiTarget,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create Entry Model"})]}),(0,r.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,r.jsx)(s.FiX,{className:"w-5 h-5 text-gray-500"})})]}),(0,r.jsxs)("form",{onSubmit:h,className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Model Name *"}),(0,r.jsx)("input",{type:"text",value:g.name,onChange:e=>x(r=>({...r,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Breakout Entry with Volume Confirmation",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Entry Logic *"}),(0,r.jsx)("textarea",{value:g.entryLogic,onChange:e=>x(r=>({...r,entryLogic:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:4,placeholder:"Describe the specific conditions and logic for entering trades...",required:!0}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Be specific about price action, indicators, volume requirements, etc."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Confirmation Style"}),(0,r.jsx)("div",{className:"flex gap-3",children:n.map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"confirmationStyle",value:e,checked:g.confirmationStyle===e,onChange:e=>x(r=>({...r,confirmationStyle:e.target.value})),className:"sr-only"}),(0,r.jsx)("span",{className:`px-4 py-2 rounded-lg border cursor-pointer transition-all capitalize ${g.confirmationStyle===e?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-blue-400"}`,children:e})]},e))}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Conservative: Multiple confirmations required",(0,r.jsx)("br",{}),"Moderate: Standard confirmation signals",(0,r.jsx)("br",{}),"Aggressive: Quick entries with minimal confirmation"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Risk Style"}),(0,r.jsx)("div",{className:"flex gap-3",children:o.map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"riskStyle",value:e,checked:g.riskStyle===e,onChange:e=>x(r=>({...r,riskStyle:e.target.value})),className:"sr-only"}),(0,r.jsx)("span",{className:`px-4 py-2 rounded-lg border cursor-pointer transition-all capitalize ${g.riskStyle===e?"bg-orange-600 text-white border-orange-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-orange-400"}`,children:e})]},e))}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Low: Conservative position sizing",(0,r.jsx)("br",{}),"Medium: Balanced risk-reward approach",(0,r.jsx)("br",{}),"High: Aggressive position sizing for higher potential returns"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Additional Notes"}),(0,r.jsx)("textarea",{value:g.notes,onChange:e=>x(r=>({...r,notes:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3,placeholder:"Any additional notes or considerations..."})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",disabled:m,children:"Cancel"}),(0,r.jsxs)(a.motion.button,{type:"submit",disabled:m,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:[(0,r.jsx)(s.FiSave,{className:"w-4 h-4"}),m?"Creating...":"Create Model"]})]})]})]})})}function g({strategyId:e,onUpdate:i}){let[l,n]=(0,t.useState)([]),[o,g]=(0,t.useState)(!0),[x,m]=(0,t.useState)(!1),y=async()=>{try{let r=await fetch(`/api/strategies/${e}/entry-models`);if(!r.ok)throw Error("Failed to fetch entry models");let t=await r.json();n(t)}catch(e){console.error("Error fetching entry models:",e),d.default.error("Failed to load entry models")}finally{g(!1)}};(0,t.useEffect)(()=>{y()},[e]);let h=async r=>{if(confirm("Are you sure you want to delete this entry model?"))try{if(!(await fetch(`/api/strategies/${e}/entry-models/${r}`,{method:"DELETE"})).ok)throw Error("Failed to delete entry model");n(e=>e.filter(e=>e.id!==r)),d.default.success("Entry model deleted successfully")}catch(e){console.error("Error deleting entry model:",e),d.default.error("Failed to delete entry model")}};return o?(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg"},t))})}):(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Entry Models"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Define how you enter trades within this strategy"})]}),(0,r.jsxs)(a.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg",children:[(0,r.jsx)(s.FiPlus,{className:"w-4 h-4"}),"Add Model"]})]}),0===l.length?(0,r.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(s.FiTarget,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No entry models yet"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create your first entry model to define how you enter trades."}),(0,r.jsx)(a.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg",children:"Create First Model"})]}):(0,r.jsx)("div",{className:"space-y-4",children:l.map((e,t)=>(0,r.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(e=>{switch(e.toLowerCase()){case"conservative":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"moderate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"aggressive":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(e.confirmationStyle)}`,children:e.confirmationStyle}),(0,r.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(e=>{switch(e.toLowerCase()){case"low":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"medium":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(e.riskStyle)}`,children:[e.riskStyle," Risk"]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Entry Logic"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg",children:e.entryLogic})]}),e.notes&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.notes})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,r.jsx)("button",{onClick:()=>{},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit model",children:(0,r.jsx)(s.FiEdit3,{className:"w-4 h-4 text-gray-500"})}),(0,r.jsx)("button",{onClick:()=>h(e.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete model",children:(0,r.jsx)(s.FiTrash2,{className:"w-4 h-4 text-red-500"})})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("span",{children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(s.FiShield,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:e.confirmationStyle})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(s.FiTrendingUp,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:e.riskStyle})]})]})]})]},e.id))}),x&&(0,r.jsx)(c,{strategyId:e,onClose:()=>m(!1),onSuccess:()=>{m(!1),y(),d.default.success("Entry model created successfully")}})]})}let x=["1m","5m","15m","30m","1h","4h","Daily","Weekly"];function m({strategyId:e,onClose:i,onSuccess:n}){let[o,c]=(0,t.useState)({name:"",description:""}),[g,m]=(0,t.useState)([{timeframe:"Daily",description:"Trend direction and key levels"},{timeframe:"4h",description:"Entry timing and momentum"},{timeframe:"1h",description:"Precise entry and stop placement"}]),[y,h]=(0,t.useState)(!1),u=(e,r,t)=>{m(a=>a.map((a,s)=>s===e?{...a,[r]:t}:a))},p=(e,r)=>{let t="up"===r?e-1:e+1;t<0||t>=g.length||m(r=>{let a=[...r];return[a[e],a[t]]=[a[t],a[e]],a})},b=async r=>{if(r.preventDefault(),!o.name.trim())return void d.default.error("Sequence name is required");if(0===g.length)return void d.default.error("At least one timeframe step is required");if(g.some(e=>!e.timeframe.trim()))return void d.default.error("All timeframe steps must have a timeframe selected");h(!0);try{let r=await fetch(`/api/strategies/${e}/sequences`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.name.trim(),description:o.description.trim()||void 0,steps:g.map((e,r)=>({timeframe:e.timeframe.trim(),orderIndex:r,description:e.description.trim()||void 0}))})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to create sequence")}n()}catch(e){console.error("Error creating sequence:",e),d.default.error(e instanceof Error?e.message:"Failed to create sequence")}finally{h(!1)}};return(0,r.jsx)(l.default,{open:!0,onClose:i,children:(0,r.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-600 to-orange-700 rounded-lg flex items-center justify-center",children:(0,r.jsx)(s.FiSettings,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create Timeframe Sequence"})]}),(0,r.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,r.jsx)(s.FiX,{className:"w-5 h-5 text-gray-500"})})]}),(0,r.jsxs)("form",{onSubmit:b,className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sequence Name *"}),(0,r.jsx)("input",{type:"text",value:o.name,onChange:e=>c(r=>({...r,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., London Breakout Analysis Sequence",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:o.description,onChange:e=>c(r=>({...r,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3,placeholder:"Describe the purpose and methodology of this sequence..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Analysis Steps *"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{m(e=>[...e,{timeframe:"1h",description:""}])},className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/50 transition-colors text-sm",children:[(0,r.jsx)(s.FiPlus,{className:"w-3 h-3"}),"Add Step"]})]}),(0,r.jsx)("div",{className:"space-y-3",children:g.map((e,t)=>(0,r.jsxs)(a.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex items-center gap-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)("span",{className:"flex items-center justify-center w-8 h-8 bg-orange-600 text-white text-sm font-bold rounded-full",children:t+1})}),(0,r.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Timeframe"}),(0,r.jsx)("select",{value:e.timeframe,onChange:e=>u(t,"timeframe",e.target.value),className:"w-full px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded text-sm focus:ring-1 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-600 text-gray-900 dark:text-white",children:x.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Description"}),(0,r.jsx)("input",{type:"text",value:e.description,onChange:e=>u(t,"description",e.target.value),className:"w-full px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded text-sm focus:ring-1 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-600 text-gray-900 dark:text-white",placeholder:"What to analyze at this timeframe"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>p(t,"up"),disabled:0===t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Move up",children:"↑"}),(0,r.jsx)("button",{type:"button",onClick:()=>p(t,"down"),disabled:t===g.length-1,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Move down",children:"↓"}),(0,r.jsx)("button",{type:"button",onClick:()=>{m(e=>e.filter((e,r)=>r!==t))},disabled:1===g.length,className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove step",children:(0,r.jsx)(s.FiTrash2,{className:"w-3 h-3"})})]})]},t))}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Define the order of timeframes you analyze, from highest to lowest timeframe. Start with broader context and move to precise entry timing."})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",disabled:y,children:"Cancel"}),(0,r.jsxs)(a.motion.button,{type:"submit",disabled:y,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:[(0,r.jsx)(s.FiSave,{className:"w-4 h-4"}),y?"Creating...":"Create Sequence"]})]})]})]})})}function y({strategyId:e,onUpdate:i}){let[l,n]=(0,t.useState)([]),[o,c]=(0,t.useState)(!0),[g,x]=(0,t.useState)(!1),y=async()=>{try{let r=await fetch(`/api/strategies/${e}/sequences`);if(!r.ok)throw Error("Failed to fetch sequences");let t=await r.json();n(t)}catch(e){console.error("Error fetching sequences:",e),d.default.error("Failed to load sequences")}finally{c(!1)}};(0,t.useEffect)(()=>{y()},[e]);let h=async r=>{if(confirm("Are you sure you want to delete this sequence? This will also delete all associated steps."))try{if(!(await fetch(`/api/strategies/${e}/sequences/${r}`,{method:"DELETE"})).ok)throw Error("Failed to delete sequence");n(e=>e.filter(e=>e.id!==r)),d.default.success("Sequence deleted successfully")}catch(e){console.error("Error deleting sequence:",e),d.default.error("Failed to delete sequence")}};return o?(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"h-40 bg-gray-200 rounded-lg"},t))})}):(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Timeframe Sequences"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Define the order of timeframes you analyze for trade entries"})]}),(0,r.jsxs)(a.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg",children:[(0,r.jsx)(s.FiPlus,{className:"w-4 h-4"}),"Add Sequence"]})]}),0===l.length?(0,r.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(s.FiSettings,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No sequences yet"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create timeframe sequences to structure your multi-timeframe analysis."}),(0,r.jsx)(a.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(!0),className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg",children:"Create First Sequence"})]}):(0,r.jsx)("div",{className:"space-y-6",children:l.map((e,t)=>(0,r.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name}),(0,r.jsxs)("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400 text-xs font-medium rounded",children:[e.steps.length," steps"]})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:e.description})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,r.jsx)("button",{onClick:()=>{},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit sequence",children:(0,r.jsx)(s.FiEdit3,{className:"w-4 h-4 text-gray-500"})}),(0,r.jsx)("button",{onClick:()=>h(e.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete sequence",children:(0,r.jsx)(s.FiTrash2,{className:"w-4 h-4 text-red-500"})})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[(0,r.jsx)(s.FiClock,{className:"w-4 h-4"}),"Analysis Sequence"]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:e.steps.sort((e,r)=>e.orderIndex-r.orderIndex).map((e,t)=>{let a;return(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg px-3 py-2",children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-orange-600 text-white text-xs font-bold rounded-full",children:t+1}),(0,r.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${(a=e.timeframe.toLowerCase()).includes("1m")||a.includes("5m")?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":a.includes("15m")||a.includes("30m")||a.includes("1h")?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":a.includes("4h")||a.includes("daily")?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:e.timeframe}),e.description&&(0,r.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400 max-w-32 truncate",children:e.description})]},e.id)})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("span",{children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(s.FiTrendingUp,{className:"w-3 h-3"}),(0,r.jsxs)("span",{children:[e.steps.length," timeframes"]})]})]})]},e.id))}),g&&(0,r.jsx)(m,{strategyId:e,onClose:()=>x(!1),onSuccess:()=>{x(!1),y(),d.default.success("Sequence created successfully")}})]})}let h=["entry","exit","risk","discipline"],u=["low","medium","high","critical"];function p({strategyId:e,onClose:i,onSuccess:n}){let[o,c]=(0,t.useState)({name:"",description:"",category:"entry",severity:"medium",isActive:!0}),[g,x]=(0,t.useState)(!1),m=async r=>{if(r.preventDefault(),!o.name.trim()||!o.description.trim())return void d.default.error("Name and description are required");x(!0);try{let r=await fetch(`/api/strategies/${e}/rules`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.name.trim(),description:o.description.trim(),category:o.category,severity:o.severity,isActive:o.isActive})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to create rule")}n()}catch(e){console.error("Error creating rule:",e),d.default.error(e instanceof Error?e.message:"Failed to create rule")}finally{x(!1)}};return(0,r.jsx)(l.default,{open:!0,onClose:i,children:(0,r.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-red-600 to-red-700 rounded-lg flex items-center justify-center",children:(0,r.jsx)(s.FiBookOpen,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create Strategy Rule"})]}),(0,r.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,r.jsx)(s.FiX,{className:"w-5 h-5 text-gray-500"})})]}),(0,r.jsxs)("form",{onSubmit:m,className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rule Name *"}),(0,r.jsx)("input",{type:"text",value:o.name,onChange:e=>c(r=>({...r,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Never risk more than 2% per trade",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rule Description *"}),(0,r.jsx)("textarea",{value:o.description,onChange:e=>c(r=>({...r,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:4,placeholder:"Describe the rule in detail and explain why it's important...",required:!0}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Be specific about what the rule requires and the consequences of breaking it."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Category"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:h.map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"category",value:e,checked:o.category===e,onChange:e=>c(r=>({...r,category:e.target.value})),className:"sr-only"}),(0,r.jsxs)("span",{className:`flex-1 px-4 py-3 rounded-lg border cursor-pointer transition-all ${o.category===e?"bg-red-600 text-white border-red-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-red-400"}`,children:[(0,r.jsx)("div",{className:"font-medium capitalize",children:e}),(0,r.jsx)("div",{className:"text-xs opacity-80 mt-1",children:(e=>{switch(e){case"entry":return"Rules for when and how to enter trades";case"exit":return"Rules for when and how to exit trades";case"risk":return"Rules for position sizing and risk management";case"discipline":return"Rules for maintaining trading discipline";default:return""}})(e)})]})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Severity Level"}),(0,r.jsx)("div",{className:"space-y-2",children:u.map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"severity",value:e,checked:o.severity===e,onChange:e=>c(r=>({...r,severity:e.target.value})),className:"sr-only"}),(0,r.jsx)("span",{className:`flex-1 px-4 py-3 rounded-lg border cursor-pointer transition-all ${o.severity===e?"bg-red-600 text-white border-red-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-red-400"}`,children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium capitalize",children:e}),(0,r.jsx)("div",{className:"text-xs opacity-80 mt-1",children:(e=>{switch(e){case"low":return"Minor rule, occasional violations acceptable";case"medium":return"Important rule, violations should be rare";case"high":return"Critical rule, strict adherence required";case"critical":return"Essential rule, never break under any circumstances";default:return""}})(e)})]}),(0,r.jsx)("div",{className:`w-3 h-3 rounded-full ${"critical"===e?"bg-red-400":"high"===e?"bg-orange-400":"medium"===e?"bg-yellow-400":"bg-green-400"}`})]})})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.isActive,onChange:e=>c(r=>({...r,isActive:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600 text-red-600 focus:ring-red-500"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Rule is active and should be enforced"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6",children:"Inactive rules are kept for reference but won't trigger violations."})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",disabled:g,children:"Cancel"}),(0,r.jsxs)(a.motion.button,{type:"submit",disabled:g,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:[(0,r.jsx)(s.FiSave,{className:"w-4 h-4"}),g?"Creating...":"Create Rule"]})]})]})]})})}function b({strategyId:e,onUpdate:i}){let[l,n]=(0,t.useState)([]),[o,c]=(0,t.useState)(!0),[g,x]=(0,t.useState)(!1),m=async()=>{try{let r=await fetch(`/api/strategies/${e}/rules`);if(!r.ok)throw Error("Failed to fetch rules");let t=await r.json();n(t)}catch(e){console.error("Error fetching rules:",e),d.default.error("Failed to load rules")}finally{c(!1)}};(0,t.useEffect)(()=>{m()},[e]);let y=async r=>{if(confirm("Are you sure you want to delete this rule?"))try{if(!(await fetch(`/api/strategies/${e}/rules/${r}`,{method:"DELETE"})).ok)throw Error("Failed to delete rule");n(e=>e.filter(e=>e.id!==r)),d.default.success("Rule deleted successfully")}catch(e){console.error("Error deleting rule:",e),d.default.error("Failed to delete rule")}};return o?(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg"},t))})}):(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Strategy Rules"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Define rules to maintain discipline and consistency in your trading"})]}),(0,r.jsxs)(a.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg",children:[(0,r.jsx)(s.FiPlus,{className:"w-4 h-4"}),"Add Rule"]})]}),0===l.length?(0,r.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(s.FiBookOpen,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No rules yet"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create rules to maintain discipline and consistency in your trading strategy."}),(0,r.jsx)(a.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(!0),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg",children:"Create First Rule"})]}):(0,r.jsx)("div",{className:"space-y-4",children:l.map((e,t)=>(0,r.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(e=>{switch(e.toLowerCase()){case"entry":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"exit":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"risk":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"discipline":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(e.category)}`,children:e.category}),(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(e=>{switch(e.toLowerCase()){case"critical":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(e.severity)}`,children:e.severity}),e.isActive?(0,r.jsxs)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,r.jsx)(s.FiCheckCircle,{className:"w-3 h-3"}),"Active"]}):(0,r.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-400 text-xs font-medium rounded-full",children:"Inactive"})]})]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg",children:e.description})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,r.jsx)("button",{onClick:()=>{},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit rule",children:(0,r.jsx)(s.FiEdit3,{className:"w-4 h-4 text-gray-500"})}),(0,r.jsx)("button",{onClick:()=>y(e.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete rule",children:(0,r.jsx)(s.FiTrash2,{className:"w-4 h-4 text-red-500"})})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("span",{children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(s.FiAlertTriangle,{className:"w-3 h-3"}),(0,r.jsxs)("span",{children:[e.severity," priority"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(s.FiBookOpen,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:e.category})]})]})]})]},e.id))}),g&&(0,r.jsx)(p,{strategyId:e,onClose:()=>x(!1),onSuccess:()=>{x(!1),m(),d.default.success("Rule created successfully")}})]})}let f=["bull","bear","mixed"],j=["London","New York","Tokyo","Sydney","Asian","European","American"],k=[{id:"overview",label:"Overview",icon:s.FiTarget},{id:"entry-models",label:"Entry Models",icon:s.FiTarget},{id:"sequences",label:"Sequences",icon:s.FiSettings},{id:"rules",label:"Rules",icon:s.FiBookOpen}];function v({strategy:e,onClose:n,onUpdate:o}){let[c,x]=(0,t.useState)("overview"),[m,h]=(0,t.useState)(e),[u,p]=(0,t.useState)(!1),[v,N]=(0,t.useState)({name:e.name,description:e.description||"",marketType:e.marketType,preferredSessions:e.preferredSessions||[],riskPhilosophy:e.riskPhilosophy||""}),[w,S]=(0,t.useState)(!1),C=async()=>{S(!0);try{let e=await fetch(`/api/strategies/${m.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v.name.trim(),description:v.description.trim()||void 0,marketType:v.marketType,preferredSessions:v.preferredSessions.length>0?v.preferredSessions:void 0,riskPhilosophy:v.riskPhilosophy.trim()||void 0})});if(!e.ok){let r=await e.json();throw Error(r.error||"Failed to update strategy")}let r=await e.json();h(r),p(!1),o(),d.default.success("Strategy updated successfully")}catch(e){console.error("Error updating strategy:",e),d.default.error(e instanceof Error?e.message:"Failed to update strategy")}finally{S(!1)}},F=e=>{h(e),o()};return(0,r.jsx)(l.default,{open:!0,onClose:n,children:(0,r.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg flex items-center justify-center",children:(0,r.jsx)(s.FiTarget,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[u?(0,r.jsx)("input",{type:"text",value:v.name,onChange:e=>N(r=>({...r,name:e.target.value})),className:"text-xl font-semibold bg-transparent border-b border-gray-300 dark:border-gray-600 focus:border-purple-500 outline-none text-gray-900 dark:text-white",autoFocus:!0}):(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:m.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Created ",new Date(m.createdAt).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{p(!1),N({name:m.name,description:m.description||"",marketType:m.marketType,preferredSessions:m.preferredSessions||[],riskPhilosophy:m.riskPhilosophy||""})},className:"px-3 py-1.5 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),(0,r.jsxs)(a.motion.button,{onClick:C,disabled:w,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-1.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 disabled:opacity-50 transition-all duration-200",children:[(0,r.jsx)(s.FiSave,{className:"w-4 h-4"}),w?"Saving...":"Save"]})]}):(0,r.jsx)("button",{onClick:()=>p(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,r.jsx)(s.FiEdit3,{className:"w-5 h-5 text-gray-500"})}),(0,r.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,r.jsx)(s.FiX,{className:"w-5 h-5 text-gray-500"})})]})]}),(0,r.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:k.map(e=>{let t=e.icon;return(0,r.jsxs)("button",{onClick:()=>x(e.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium transition-colors ${c===e.id?"text-purple-600 dark:text-purple-400 border-b-2 border-purple-600 dark:border-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,r.jsx)(t,{className:"w-4 h-4"}),e.label]},e.id)})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,r.jsxs)(i.AnimatePresence,{mode:"wait",children:["overview"===c&&(0,r.jsxs)(a.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),u?(0,r.jsx)("textarea",{value:v.description,onChange:e=>N(r=>({...r,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3}):(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:m.description||"No description provided"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Market Type"}),u?(0,r.jsx)("div",{className:"flex gap-2",children:f.map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"marketType",value:e,checked:v.marketType===e,onChange:e=>N(r=>({...r,marketType:e.target.value})),className:"sr-only"}),(0,r.jsx)("span",{className:`px-3 py-1 rounded-lg border cursor-pointer transition-all text-sm ${v.marketType===e?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-purple-400"}`,children:e.charAt(0).toUpperCase()+e.slice(1)})]},e))}):(0,r.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"bull"===m.marketType?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bear"===m.marketType?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:m.marketType.toUpperCase()})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Preferred Trading Sessions"}),u?(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:j.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:v.preferredSessions.includes(e),onChange:()=>{N(r=>({...r,preferredSessions:r.preferredSessions.includes(e)?r.preferredSessions.filter(r=>r!==e):[...r.preferredSessions,e]}))},className:"rounded border-gray-300 dark:border-gray-600 text-purple-600 focus:ring-purple-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e})]},e))}):(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:m.preferredSessions&&m.preferredSessions.length>0?m.preferredSessions.map(e=>(0,r.jsx)("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-sm text-gray-700 dark:text-gray-300 rounded-lg",children:e},e)):(0,r.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"No preferred sessions set"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Risk Philosophy"}),u?(0,r.jsx)("textarea",{value:v.riskPhilosophy,onChange:e=>N(r=>({...r,riskPhilosophy:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3}):(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:m.riskPhilosophy||"No risk philosophy defined"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-1",children:m.entryModels.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Entry Models"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400 mb-1",children:m.timeframeSequences.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sequences"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mb-1",children:m.rules.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rules"})]})]})]},"overview"),"entry-models"===c&&(0,r.jsx)(a.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,r.jsx)(g,{strategyId:m.id,onUpdate:F})},"entry-models"),"sequences"===c&&(0,r.jsx)(a.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,r.jsx)(y,{strategyId:m.id,onUpdate:F})},"sequences"),"rules"===c&&(0,r.jsx)(a.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,r.jsx)(b,{strategyId:m.id,onUpdate:F})},"rules")]})})]})})}function N({strategy:e,onDelete:i,onUpdate:l}){let[n,o]=(0,t.useState)(!1),[c,g]=(0,t.useState)(!1),x=async()=>{if(confirm("Are you sure you want to delete this strategy? This action cannot be undone."))try{if(!(await fetch(`/api/strategies/${e.id}`,{method:"DELETE"})).ok)throw Error("Failed to delete strategy");i(e.id)}catch(e){console.error("Error deleting strategy:",e),d.default.error("Failed to delete strategy")}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.motion.div,{whileHover:{y:-2},className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>o(!0),children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:e.name}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),g(!c)},className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,r.jsx)(s.FiMoreVertical,{className:"w-4 h-4 text-gray-500"})}),c&&(0,r.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"absolute right-0 top-8 w-32 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-lg z-10",children:[(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),o(!0),g(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-t-lg flex items-center gap-2",children:[(0,r.jsx)(s.FiEdit3,{className:"w-3 h-3"}),"Edit"]}),(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),x(),g(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg flex items-center gap-2",children:[(0,r.jsx)(s.FiTrash2,{className:"w-3 h-3"}),"Delete"]})]})]})]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(e=>{switch(e.toLowerCase()){case"bull":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"bear":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"mixed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(e.marketType)}`,children:e.marketType.toUpperCase()})}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg mx-auto mb-1",children:(0,r.jsx)(s.FiTarget,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Models"}),(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.entryModels.length})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg mx-auto mb-1",children:(0,r.jsx)(s.FiSettings,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Sequences"}),(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.timeframeSequences.length})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg mx-auto mb-1",children:(0,r.jsx)(s.FiBookOpen,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Rules"}),(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.rules.length})]})]}),e.preferredSessions&&e.preferredSessions.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Preferred Sessions:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:e.preferredSessions.map(e=>(0,r.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-xs text-gray-700 dark:text-gray-300 rounded",children:e},e))})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("span",{children:["Created ",new Date(e.createdAt).toLocaleDateString()]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(s.FiTrendingUp,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:"Active"})]})]})]}),n&&(0,r.jsx)(v,{strategy:e,onClose:()=>o(!1),onUpdate:l})]})}let w=["bull","bear","mixed"],S=["London","New York","Tokyo","Sydney","Asian","European","American"];function C({onClose:e,onSuccess:i}){let[n,o]=(0,t.useState)({name:"",description:"",marketType:"mixed",preferredSessions:[],riskPhilosophy:""}),[c,g]=(0,t.useState)(!1),x=async e=>{if(e.preventDefault(),!n.name.trim())return void d.default.error("Strategy name is required");g(!0);try{let e=await fetch("/api/strategies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.name.trim(),description:n.description.trim()||void 0,marketType:n.marketType,preferredSessions:n.preferredSessions.length>0?n.preferredSessions:void 0,riskPhilosophy:n.riskPhilosophy.trim()||void 0})});if(!e.ok){let r=await e.json();throw Error(r.error||"Failed to create strategy")}i()}catch(e){console.error("Error creating strategy:",e),d.default.error(e instanceof Error?e.message:"Failed to create strategy")}finally{g(!1)}};return(0,r.jsx)(l.default,{open:!0,onClose:e,children:(0,r.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create New Strategy"}),(0,r.jsx)("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,r.jsx)(s.FiX,{className:"w-5 h-5 text-gray-500"})})]}),(0,r.jsxs)("form",{onSubmit:x,className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Strategy Name *"}),(0,r.jsx)("input",{type:"text",value:n.name,onChange:e=>o(r=>({...r,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., London Breakout Strategy",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:n.description,onChange:e=>o(r=>({...r,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3,placeholder:"Describe your strategy approach and methodology..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Market Type"}),(0,r.jsx)("div",{className:"flex gap-3",children:w.map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"marketType",value:e,checked:n.marketType===e,onChange:e=>o(r=>({...r,marketType:e.target.value})),className:"sr-only"}),(0,r.jsx)("span",{className:`px-4 py-2 rounded-lg border cursor-pointer transition-all ${n.marketType===e?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:border-purple-400"}`,children:e.charAt(0).toUpperCase()+e.slice(1)})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Preferred Trading Sessions"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:S.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:n.preferredSessions.includes(e),onChange:()=>{o(r=>({...r,preferredSessions:r.preferredSessions.includes(e)?r.preferredSessions.filter(r=>r!==e):[...r.preferredSessions,e]}))},className:"rounded border-gray-300 dark:border-gray-600 text-purple-600 focus:ring-purple-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Risk Philosophy"}),(0,r.jsx)("textarea",{value:n.riskPhilosophy,onChange:e=>o(r=>({...r,riskPhilosophy:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:3,placeholder:"Describe your risk management approach..."})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",disabled:c,children:"Cancel"}),(0,r.jsxs)(a.motion.button,{type:"submit",disabled:c,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg",children:[(0,r.jsx)(s.FiSave,{className:"w-4 h-4"}),c?"Creating...":"Create Strategy"]})]})]})]})})}function F(){let[e,i]=(0,t.useState)([]),[l,n]=(0,t.useState)(!0),[o,c]=(0,t.useState)(!1),g=async()=>{try{let e=await fetch("/api/strategies");if(!e.ok)throw Error("Failed to fetch strategies");let r=await e.json();i(r)}catch(e){console.error("Error fetching strategies:",e),d.default.error("Failed to load strategies")}finally{n(!1)}};(0,t.useEffect)(()=>{g()},[]);let x=e=>{i(r=>r.filter(r=>r.id!==e)),d.default.success("Strategy deleted successfully")};return l?(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,r.jsx)("div",{className:"h-64 bg-gray-200 rounded-lg"},t))})]})}):(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Trading Strategies"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your trading strategies, entry models, and rules"})]}),(0,r.jsxs)(a.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg",children:[(0,r.jsx)(s.FiPlus,{className:"w-4 h-4"}),"New Strategy"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,r.jsx)(s.FiTarget,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Strategies"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length})]})]})}),(0,r.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,r.jsx)(s.FiTrendingUp,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Models"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.reduce((e,r)=>e+r.entryModels.length,0)})]})]})}),(0,r.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:(0,r.jsx)(s.FiSettings,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sequences"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.reduce((e,r)=>e+r.timeframeSequences.length,0)})]})]})}),(0,r.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,r.jsx)(s.FiBookOpen,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rules"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.reduce((e,r)=>e+r.rules.length,0)})]})]})})]}),0===e.length?(0,r.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(s.FiTarget,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No strategies yet"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create your first trading strategy to get started with structured trading."}),(0,r.jsx)(a.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg",children:"Create Your First Strategy"})]}):(0,r.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e,t)=>(0,r.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,r.jsx)(N,{strategy:e,onDelete:x,onUpdate:g})},e.id))}),o&&(0,r.jsx)(C,{onClose:()=>c(!1),onSuccess:()=>{c(!1),g(),d.default.success("Strategy created successfully")}})]})}e.s(["default",()=>F],29096)}]);