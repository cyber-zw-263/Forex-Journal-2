(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68577,53276,e=>{"use strict";var t=e.i(43476),a=e.i(92199),s=e.i(22016);function r({onThemeToggle:e,currentTheme:r}){return(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700 shadow-sm",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-4 max-w-7xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(s.default,{href:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[(0,t.jsx)("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"ðŸ“Š"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Young Money"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Trading Journal & Portfolio"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("nav",{className:"hidden md:flex gap-6",children:[(0,t.jsx)(s.default,{href:"/",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Dashboard"}),(0,t.jsx)(s.default,{href:"/analytics",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Analytics"}),(0,t.jsx)(s.default,{href:"/calendar",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Calendar"}),(0,t.jsx)(s.default,{href:"/planning",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Planning"}),(0,t.jsx)(s.default,{href:"/insights",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Insights"}),(0,t.jsx)(s.default,{href:"/review",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Review"})]}),(0,t.jsx)("button",{onClick:e,className:"p-2 rounded-lg bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors","aria-label":"Toggle theme",children:"dark"===r?(0,t.jsx)(a.FiSun,{className:"w-5 h-5"}):(0,t.jsx)(a.FiMoon,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("nav",{className:"md:hidden flex gap-3 mt-4 flex-wrap",children:[(0,t.jsx)(s.default,{href:"/",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Dashboard"}),(0,t.jsx)(s.default,{href:"/analytics",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Analytics"}),(0,t.jsx)(s.default,{href:"/calendar",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Calendar"}),(0,t.jsx)(s.default,{href:"/planning",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Planning"}),(0,t.jsx)(s.default,{href:"/insights",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Insights"}),(0,t.jsx)(s.default,{href:"/review",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Review"})]})]})})}e.s(["default",()=>r],68577);var l=e.i(46932);function n({children:e,className:a="",...s}){return(0,t.jsx)(l.motion.div,{initial:{opacity:0,y:8,scale:.995},whileInView:{opacity:1,y:0,scale:1},whileHover:{y:-4},whileTap:{scale:.995},viewport:{once:!0,amount:.15},transition:{type:"spring",stiffness:260,damping:22},className:`card ${a}`,...s,children:e})}e.s(["default",()=>n],53276)},30430,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(92199),r=e.i(68577),l=e.i(53276),n=e.i(46932);let i=({entries:e,className:a=""})=>{let r=e.reduce((e,t)=>(t.mentalState&&(e[t.mentalState]=(e[t.mentalState]||0)+1),e),{}),i=e.filter(e=>void 0!==e.confidence),d=i.length>0?i.reduce((e,t)=>e+(t.confidence||0),0)/i.length:0,c=e.filter(e=>{let t=new Date(e.date),a=new Date;return a.setDate(a.getDate()-7),t>=a}).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),o=e.reduce((e,t)=>(t.focus&&(e[t.focus]=(e[t.focus]||0)+1),e),{}),x=e=>{switch(e.toLowerCase()){case"excellent":case"great":case"good":return(0,t.jsx)(s.FiSmile,{className:"w-5 h-5 text-green-500"});case"okay":case"neutral":return(0,t.jsx)(s.FiMeh,{className:"w-5 h-5 text-yellow-500"});case"poor":case"bad":case"terrible":return(0,t.jsx)(s.FiFrown,{className:"w-5 h-5 text-red-500"});default:return(0,t.jsx)(s.FiMeh,{className:"w-5 h-5 text-gray-500"})}};return(0,t.jsxs)(l.default,{className:`p-6 ${a}`,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,t.jsx)(s.FiTrendingUp,{className:"w-5 h-5 text-blue-500"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Mental State Tracker"})]}),c.length>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current State"}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[x(c[0].mentalState||"neutral"),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:`font-medium ${(e=>{switch(e.toLowerCase()){case"excellent":case"great":case"good":return"text-green-600 dark:text-green-400";case"okay":case"neutral":return"text-yellow-600 dark:text-yellow-400";case"poor":case"bad":case"terrible":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}})(c[0].mentalState||"neutral")}`,children:c[0].mentalState||"Not recorded"}),(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(c[0].date).toLocaleDateString()})]})]})]}),d>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Average Confidence"}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,t.jsx)(n.motion.div,{initial:{width:0},animate:{width:`${d/10*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-blue-500 h-3 rounded-full"})}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[3rem]",children:[d.toFixed(1),"/10"]})]})]}),Object.keys(r).length>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Mental State Distribution"}),(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(r).sort(([,e],[,t])=>t-e).map(([a,s])=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[x(a),(0,t.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize",children:a})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${s/e.length*100}%`}})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[2rem]",children:s})]})]},a))})]}),Object.keys(o).length>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Focus Levels"}),(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(o).sort(([,e],[,t])=>t-e).map(([a,r])=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e.toLowerCase()){case"high":return(0,t.jsx)(s.FiTarget,{className:"w-4 h-4 text-green-500"});case"medium":return(0,t.jsx)(s.FiTarget,{className:"w-4 h-4 text-yellow-500"});case"low":return(0,t.jsx)(s.FiTarget,{className:"w-4 h-4 text-red-500"});default:return(0,t.jsx)(s.FiTarget,{className:"w-4 h-4 text-gray-500"})}})(a),(0,t.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize",children:[a," Focus"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${r/e.length*100}%`}})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[2rem]",children:r})]})]},a))})]}),c.length>=3&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Recent Trend (7 days)"}),(0,t.jsx)("div",{className:"flex items-center space-x-1",children:c.slice(0,7).map((e,a)=>(0,t.jsxs)(n.motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1*a},className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short"})}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:e.mentalState?x(e.mentalState):(0,t.jsx)(s.FiMeh,{className:"w-4 h-4 text-gray-400"})}),e.confidence&&(0,t.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:e.confidence})]},e.id))})]}),0===e.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(s.FiTrendingUp,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Start journaling to see your mental state trends"})]})]})};var d=e.i(5766);let c=({date:e,existingEntry:r,onSave:n,onCancel:i})=>{let[c,o]=(0,a.useState)(r?.mentalState||""),[x,m]=(0,a.useState)(r?.focus||""),[g,h]=(0,a.useState)(r?.confidence||5),[u,y]=(0,a.useState)(r?.externalStressors||[]),[b,f]=(0,a.useState)(r?.phase||""),[j,p]=(0,a.useState)(r?.phaseNotes||""),[v,N]=(0,a.useState)(!1),k=[{value:"excellent",label:"Excellent",icon:s.FiSmile,color:"text-green-500"},{value:"good",label:"Good",icon:s.FiSmile,color:"text-green-400"},{value:"okay",label:"Okay",icon:s.FiMeh,color:"text-yellow-500"},{value:"poor",label:"Poor",icon:s.FiFrown,color:"text-orange-500"},{value:"terrible",label:"Terrible",icon:s.FiFrown,color:"text-red-500"}],w=[{value:"high",label:"High Focus",icon:s.FiTarget,color:"text-green-500"},{value:"medium",label:"Medium Focus",icon:s.FiTarget,color:"text-yellow-500"},{value:"low",label:"Low Focus",icon:s.FiTarget,color:"text-red-500"}],S=[{value:"learning",label:"Learning Phase",description:"Building foundational knowledge and skills",template:"Today I focused on learning...\n\nKey lessons learned:\n- \n- \n\nChallenges faced:\n- \n- \n\nTomorrow's learning goals:\n- \n- "},{value:"discipline",label:"Discipline Phase",description:"Developing consistent trading habits and rules",template:"Today's discipline focus:\n\nRules followed:\n- \n- \n\nRules broken:\n- \n- \n\nWhy I broke them:\n\nHow to prevent this:\n- \n- "},{value:"consistency",label:"Consistency Phase",description:"Maintaining steady performance and routines",template:"Consistency check:\n\nDaily routine adherence:\n- Morning prep: \n- Trading hours: \n- Review time: \n\nPerformance consistency:\n- Win rate: \n- Risk management: \n\nAreas for improvement:\n- \n- "},{value:"optimization",label:"Optimization Phase",description:"Refining strategies and maximizing performance",template:"Optimization focus:\n\nStrategy testing:\n- What I tested: \n- Results: \n- Insights: \n\nPerformance metrics:\n- Profit factor: \n- Win rate: \n- Average R:R: \n\nNext optimization steps:\n- \n- "}],T=async()=>{if(!c||!b)return void d.default.error("Please fill in mental state and trading phase");N(!0);try{let t=r?`/api/journal/${r.id}`:"/api/journal",a=r?"PUT":"POST",s=await fetch(t,{method:a,headers:{"Content-Type":"application/json","x-user-id":"demo-user"},body:JSON.stringify({date:e,mentalState:c,focus:x,confidence:g,externalStressors:u,phase:b,phaseNotes:j})});if(!s.ok)throw Error("Failed to save journal entry");let l=await s.json();n(l)}catch(e){console.error("Error saving journal entry:",e),d.default.error("Failed to save journal entry")}finally{N(!1)}};return(0,t.jsxs)(l.default,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[r?"Edit":"Create"," Journal Entry"]}),(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"How are you feeling today?"}),(0,t.jsx)("div",{className:"grid grid-cols-5 gap-2",children:k.map(e=>{let a=e.icon;return(0,t.jsxs)("button",{onClick:()=>o(e.value),className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all ${c===e.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[(0,t.jsx)(a,{className:`w-6 h-6 mb-1 ${e.color}`}),(0,t.jsx)("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:e.label})]},e.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Focus Level"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:w.map(e=>{let a=e.icon;return(0,t.jsxs)("button",{onClick:()=>m(e.value),className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all ${x===e.value?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[(0,t.jsx)(a,{className:`w-6 h-6 mb-1 ${e.color}`}),(0,t.jsx)("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:e.label})]},e.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Confidence Level (1-10)"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("input",{type:"range",min:"1",max:"10",value:g,onChange:e=>h(Number(e.target.value)),className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(s.FiTrendingUp,{className:"w-4 h-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-lg font-semibold text-gray-900 dark:text-white min-w-[2rem]",children:g})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"External Stressors (select all that apply)"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["Work stress","Family issues","Health concerns","Market volatility","Financial pressure","Sleep deprivation","Personal problems","Time pressure"].map(e=>(0,t.jsx)("button",{onClick:()=>{y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`p-2 text-left rounded-lg border transition-all ${u.includes(e)?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 text-gray-700 dark:text-gray-300"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Current Trading Phase"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:S.map(e=>(0,t.jsxs)("button",{onClick:()=>{var t;let a;f(e.value),t=e.value,(a=S.find(e=>e.value===t))&&!j&&p(a.template)},className:`p-4 rounded-lg border-2 text-left transition-all ${b===e.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[(0,t.jsx)("div",{className:"font-medium text-gray-900 dark:text-white mb-1",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Phase Notes & Reflections"}),(0,t.jsx)("textarea",{value:j,onChange:e=>p(e.target.value),placeholder:"Write your thoughts, reflections, and notes about your trading day...",rows:8,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("button",{onClick:i,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:T,disabled:v,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:[v?(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,t.jsx)(s.FiSave,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:v?"Saving...":"Save Entry"})]})]})]})]})},o=({entries:e})=>{let r=(0,a.useMemo)(()=>{if(0===e.length)return null;let t=[...e].sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),a=t.slice(-14).map(e=>({date:e.date,state:e.mentalState,score:function(e){switch(e?.toLowerCase()){case"excellent":return 5;case"good":return 4;case"okay":default:return 3;case"poor":return 2;case"terrible":return 1}}(e.mentalState)})),s=t.filter(e=>void 0!==e.confidence).slice(-14).map(e=>({date:e.date,confidence:e.confidence||0})),r=e.reduce((e,t)=>(t.phase&&(e[t.phase]=(e[t.phase]||0)+1),e),{}),l=e.reduce((e,t)=>(t.externalStressors&&t.externalStressors.forEach(t=>{e[t]=(e[t]||0)+1}),e),{});return{mentalStateTrend:a,confidenceTrend:s,phaseDistribution:r,stressorCounts:l,focusPerformance:e.reduce((e,t)=>(t.focus&&t.confidence&&(e[t.focus]||(e[t.focus]=[]),e[t.focus].push(t.confidence)),e),{}),avgConfidence:e.filter(e=>void 0!==e.confidence).reduce((e,t)=>e+(t.confidence||0),0)/e.filter(e=>void 0!==e.confidence).length||0,weeklyPatterns:e.reduce((e,t)=>{let a=new Date(t.date).toLocaleDateString("en-US",{weekday:"long"});return e[a]||(e[a]=[]),t.confidence&&e[a].push(t.confidence),e},{}),totalEntries:e.length,streak:function(e){let t=0,a=new Date;a.setHours(0,0,0,0);for(let s=0;s<365;s++){let r=new Date(a);if(r.setDate(a.getDate()-s),e.some(e=>new Date(e.date).toDateString()===r.toDateString()))t++;else break}return t}(t)}},[e]);return r&&0!==e.length?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(l.default,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(s.FiCalendar,{className:"w-8 h-8 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.totalEntries}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Entries"})]})]})}),(0,t.jsx)(l.default,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(s.FiTarget,{className:"w-8 h-8 text-green-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.streak}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Day Streak"})]})]})}),(0,t.jsx)(l.default,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(s.FiTrendingUp,{className:"w-8 h-8 text-purple-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.avgConfidence.toFixed(1)}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Confidence"})]})]})}),(0,t.jsx)(l.default,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(s.FiZap,{className:"w-8 h-8 text-yellow-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Object.keys(r.phaseDistribution).length}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phases Tracked"})]})]})})]}),(0,t.jsxs)(l.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Mental State Trend (Last 14 Days)"}),(0,t.jsx)("div",{className:"flex items-end space-x-2 h-32",children:r.mentalStateTrend.map((e,a)=>(0,t.jsx)(n.motion.div,{initial:{height:0},animate:{height:`${e.score/5*100}%`},transition:{delay:.05*a},className:"flex-1 bg-gradient-to-t from-blue-500 to-blue-400 rounded-t flex flex-col items-center justify-end pb-2",children:(0,t.jsx)("div",{className:"text-xs text-white font-medium transform -rotate-45 whitespace-nowrap",children:e.state?.slice(0,3)})},e.date))}),(0,t.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("span",{children:"14 days ago"}),(0,t.jsx)("span",{children:"Today"})]})]}),(0,t.jsxs)(l.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Confidence Trend (Last 14 Days)"}),(0,t.jsx)("div",{className:"flex items-end space-x-2 h-32",children:r.confidenceTrend.map((e,a)=>(0,t.jsx)(n.motion.div,{initial:{height:0},animate:{height:`${e.confidence/10*100}%`},transition:{delay:.05*a},className:"flex-1 bg-gradient-to-t from-green-500 to-green-400 rounded-t flex flex-col items-center justify-end pb-2",children:(0,t.jsx)("div",{className:"text-xs text-white font-medium",children:e.confidence})},e.date))}),(0,t.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("span",{children:"14 days ago"}),(0,t.jsx)("span",{children:"Today"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(l.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Phase Distribution"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(r.phaseDistribution).sort(([,e],[,t])=>t-e).map(([e,a])=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:e.replace("-"," ")}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${a/r.totalEntries*100}%`}})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[2rem]",children:a})]})]},e))})]}),(0,t.jsxs)(l.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Focus vs Average Confidence"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(r.focusPerformance).map(([e,a])=>{let s=a.reduce((e,t)=>e+t,0)/a.length;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:[e," Focus"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${s/10*100}%`}})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[2rem]",children:s.toFixed(1)})]})]},e)})})]})]}),(0,t.jsxs)(l.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Weekly Confidence Patterns"}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-4",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(e=>{let a=r.weeklyPatterns[e]||[],s=a.length>0?a.reduce((e,t)=>e+t,0)/a.length:0;return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e.slice(0,3)}),(0,t.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-16 flex items-end justify-center",children:(0,t.jsx)(n.motion.div,{initial:{height:0},animate:{height:`${s>0?s/10*100:5}%`},className:"w-6 bg-purple-500 rounded-t"})}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:s>0?s.toFixed(1):"-"})]},e)})})]}),Object.keys(r.stressorCounts).length>0&&(0,t.jsxs)(l.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Common External Stressors"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(r.stressorCounts).sort(([,e],[,t])=>t-e).slice(0,8).map(([e,a])=>(0,t.jsxs)("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:a}),(0,t.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e})]},e))})]})]}):(0,t.jsxs)(l.default,{className:"p-8 text-center",children:[(0,t.jsx)(s.FiBarChart,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Analytics Available"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Start journaling to see your trading psychology patterns and insights"})]})};var x=e.i(9876);function m(){let{theme:e,toggleTheme:n}=(0,x.useTheme)(),[m]=(0,a.useState)(()=>!0),[g,h]=(0,a.useState)("entries"),[u,y]=(0,a.useState)(new Date().toISOString().split("T")[0]),[b,f]=(0,a.useState)([]),[j,p]=(0,a.useState)(!0),[v,N]=(0,a.useState)(!1),[k,w]=(0,a.useState)(null),[S,T]=(0,a.useState)(""),[F,C]=(0,a.useState)("");(0,a.useEffect)(()=>{m&&D()},[m]);let D=async()=>{try{p(!0);let e=await fetch("/api/journal",{headers:{"x-user-id":"demo-user"}});if(!e.ok)throw Error("Failed to load journal entries");let t=await e.json();f(t)}catch(e){console.error("Error loading journal entries:",e),d.default.error("Failed to load journal entries")}finally{p(!1)}},P=async e=>{if(confirm("Are you sure you want to delete this journal entry?"))try{if(!(await fetch(`/api/journal/${e}`,{method:"DELETE",headers:{"x-user-id":"demo-user"}})).ok)throw Error("Failed to delete entry");f(t=>t.filter(t=>t.id!==e)),d.default.success("Journal entry deleted")}catch(e){console.error("Error deleting journal entry:",e),d.default.error("Failed to delete journal entry")}},E=b.filter(e=>{let t=!S||e.phaseNotes?.toLowerCase().includes(S.toLowerCase())||e.mentalState?.toLowerCase().includes(S.toLowerCase()),a=!F||e.phase===F;return t&&a}),L=b.find(e=>e.date===u),O=[{id:"entries",label:"Daily Entries",icon:s.FiBookOpen},{id:"analytics",label:"Analytics",icon:s.FiTrendingUp}];return m?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,t.jsx)(r.default,{onThemeToggle:n,currentTheme:e}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Trading Journal"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Track your mental state, trading phases, and personal growth journey"})]}),(0,t.jsx)(l.default,{className:"p-1 mb-6",children:(0,t.jsx)("div",{className:"flex space-x-1",children:O.map(e=>{let a=e.icon;return(0,t.jsxs)("button",{onClick:()=>h(e.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${g===e.id?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[(0,t.jsx)(a,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:e.label})]},e.id)})})}),"entries"===g&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-1",children:[(0,t.jsxs)(l.default,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Date"}),(0,t.jsx)("button",{onClick:()=>{y(new Date().toISOString().split("T")[0]),w(null),N(!1)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Today"})]}),(0,t.jsx)("input",{type:"date",value:u,onChange:e=>{y(e.target.value),w(null),N(!1)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,t.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Entries"}),(0,t.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:b.length})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This Month"}),(0,t.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:b.filter(e=>new Date(e.date).getMonth()===new Date().getMonth()).length})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Streak"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:"7 days"})]})]})]}),(0,t.jsx)(i,{entries:b,className:"mt-6"})]}),(0,t.jsxs)("div",{className:"lg:col-span-2",children:[(0,t.jsx)(l.default,{className:"p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(s.FiSearch,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,t.jsx)("input",{type:"text",placeholder:"Search entries...",value:S,onChange:e=>T(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,t.jsxs)("select",{value:F,onChange:e=>C(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,t.jsx)("option",{value:"",children:"All Phases"}),(0,t.jsx)("option",{value:"learning",children:"Learning"}),(0,t.jsx)("option",{value:"discipline",children:"Discipline"}),(0,t.jsx)("option",{value:"consistency",children:"Consistency"}),(0,t.jsx)("option",{value:"optimization",children:"Optimization"})]})]})}),L||v?(0,t.jsx)(c,{date:u,existingEntry:k||L,onSave:e=>{k?(f(t=>t.map(t=>t.id===e.id?e:t)),w(null)):f(t=>[e,...t]),N(!1),d.default.success("Journal entry saved")},onCancel:()=>{N(!1),w(null)}}):(0,t.jsxs)(l.default,{className:"p-8 text-center",children:[(0,t.jsx)(s.FiBookOpen,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:["No Entry for ",new Date(u).toLocaleDateString()]}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start your daily reflection to track your trading journey"}),(0,t.jsxs)("button",{onClick:()=>N(!0),className:"inline-flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(s.FiPlus,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Create Entry"})]})]}),(0,t.jsxs)(l.default,{className:"p-6 mt-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Recent Entries (",E.length,")"]}),(0,t.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:j?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})}):E.length>0?E.slice(0,10).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",onClick:()=>{w(e),y(e.date),N(!0)},children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:new Date(e.date).toLocaleDateString()}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.phase&&`${e.phase} â€¢ `,e.mentalState&&`Feeling: ${e.mentalState}`]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[e.confidence&&(0,t.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.confidence,"/10"]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),P(e.id)},className:"text-red-500 hover:text-red-700 p-1",children:"Ã—"})]})]},e.id)):(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No entries found"})})]})]})]}),"analytics"===g&&(0,t.jsx)(o,{entries:b})]}),(0,t.jsx)(d.Toaster,{position:"bottom-right"})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900"})}e.s(["default",()=>m],30430)}]);