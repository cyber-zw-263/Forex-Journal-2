(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68577,53276,e=>{"use strict";var t=e.i(43476),r=e.i(92199),a=e.i(22016);function n({onThemeToggle:e,currentTheme:n}){return(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700 shadow-sm",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-4 max-w-7xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(a.default,{href:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[(0,t.jsx)("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"ðŸ“Š"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Young Money"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Trading Journal & Portfolio"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("nav",{className:"hidden md:flex gap-6",children:[(0,t.jsx)(a.default,{href:"/",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Dashboard"}),(0,t.jsx)(a.default,{href:"/analytics",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Analytics"}),(0,t.jsx)(a.default,{href:"/calendar",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Calendar"}),(0,t.jsx)(a.default,{href:"/planning",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Planning"}),(0,t.jsx)(a.default,{href:"/insights",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Insights"}),(0,t.jsx)(a.default,{href:"/review",className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Review"})]}),(0,t.jsx)("button",{onClick:e,className:"p-2 rounded-lg bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors","aria-label":"Toggle theme",children:"dark"===n?(0,t.jsx)(r.FiSun,{className:"w-5 h-5"}):(0,t.jsx)(r.FiMoon,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("nav",{className:"md:hidden flex gap-3 mt-4 flex-wrap",children:[(0,t.jsx)(a.default,{href:"/",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Dashboard"}),(0,t.jsx)(a.default,{href:"/analytics",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Analytics"}),(0,t.jsx)(a.default,{href:"/calendar",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Calendar"}),(0,t.jsx)(a.default,{href:"/planning",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Planning"}),(0,t.jsx)(a.default,{href:"/insights",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Insights"}),(0,t.jsx)(a.default,{href:"/review",className:"text-xs font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 bg-gray-100 dark:bg-slate-800 px-3 py-1 rounded",children:"Review"})]})]})})}e.s(["default",()=>n],68577);var s=e.i(46932);function i({children:e,className:r="",...a}){return(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:8,scale:.995},whileInView:{opacity:1,y:0,scale:1},whileHover:{y:-4},whileTap:{scale:.995},viewport:{once:!0,amount:.15},transition:{type:"spring",stiffness:260,damping:22},className:`card ${r}`,...a,children:e})}e.s(["default",()=>i],53276)},30430,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(92199),n=e.i(68577),s=e.i(5766);let i=({date:e,existingEntry:n,onSave:i,onCancel:l})=>{let[o,d]=(0,r.useState)(n?.mentalState||""),[c,x]=(0,r.useState)(n?.focus||""),[p,g]=(0,r.useState)(n?.confidence||5),[u,h]=(0,r.useState)(n?.externalStressors||[]),[m,y]=(0,r.useState)(n?.phase||""),[f,v]=(0,r.useState)(n?.phaseNotes||""),[b,j]=(0,r.useState)(!1),k=[{value:"excellent",label:"Excellent",icon:a.FiSmile,color:"text-green-500"},{value:"good",label:"Good",icon:a.FiSmile,color:"text-green-400"},{value:"okay",label:"Okay",icon:a.FiMeh,color:"text-yellow-500"},{value:"poor",label:"Poor",icon:a.FiFrown,color:"text-orange-500"},{value:"terrible",label:"Terrible",icon:a.FiFrown,color:"text-red-500"}],w=[{value:"high",label:"High Focus",icon:a.FiTarget,color:"text-green-500"},{value:"medium",label:"Medium Focus",icon:a.FiTarget,color:"text-yellow-500"},{value:"low",label:"Low Focus",icon:a.FiTarget,color:"text-red-500"}],N=[{value:"learning",label:"Learning Phase",description:"Building foundational knowledge and skills",template:"Today I focused on learning...\n\nKey lessons learned:\n- \n- \n\nChallenges faced:\n- \n- \n\nTomorrow's learning goals:\n- \n- "},{value:"discipline",label:"Discipline Phase",description:"Developing consistent trading habits and rules",template:"Today's discipline focus:\n\nRules followed:\n- \n- \n\nRules broken:\n- \n- \n\nWhy I broke them:\n\nHow to prevent this:\n- \n- "},{value:"consistency",label:"Consistency Phase",description:"Maintaining steady performance and routines",template:"Consistency check:\n\nDaily routine adherence:\n- Morning prep: \n- Trading hours: \n- Review time: \n\nPerformance consistency:\n- Win rate: \n- Risk management: \n\nAreas for improvement:\n- \n- "},{value:"optimization",label:"Optimization Phase",description:"Refining strategies and maximizing performance",template:"Optimization focus:\n\nStrategy testing:\n- What I tested: \n- Results: \n- Insights: \n\nPerformance metrics:\n- Profit factor: \n- Win rate: \n- Average R:R: \n\nNext optimization steps:\n- \n- "}],S=async()=>{if(!o||!m)return void s.default.error("Please fill in mental state and trading phase");j(!0);try{let t=n?`/api/journal/${n.id}`:"/api/journal",r=n?"PUT":"POST",a=await fetch(t,{method:r,headers:{"Content-Type":"application/json","x-user-id":"demo-user"},body:JSON.stringify({date:e,mentalState:o,focus:c,confidence:p,externalStressors:u,phase:m,phaseNotes:f})});if(!a.ok)throw Error("Failed to save journal entry");let s=await a.json();i(s)}catch(e){console.error("Error saving journal entry:",e),s.default.error("Failed to save journal entry")}finally{j(!1)}};return(0,t.jsxs)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[(0,t.jsxs)("h2",{style:{fontSize:"18px",fontWeight:"600",color:"var(--text-primary)",margin:0},children:[n?"Edit":"Create"," Journal Entry"]}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsxs)("div",{style:{display:"grid",gap:"20px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"12px"},children:"How are you feeling today?"}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"8px"},children:k.map(e=>{let r=e.icon;return(0,t.jsxs)("button",{onClick:()=>d(e.value),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"12px",borderRadius:"6px",border:`2px solid ${o===e.value?"var(--purple-base)":"var(--card-border)"}`,backgroundColor:o===e.value?"var(--panel-muted)":"transparent",cursor:"pointer",transition:"all 0.2s ease"},children:[(0,t.jsx)(r,{size:24,style:{marginBottom:"4px",color:e.color}}),(0,t.jsx)("span",{style:{fontSize:"12px",fontWeight:"500",color:"var(--text-primary)"},children:e.label})]},e.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"12px"},children:"Focus Level"}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:w.map(e=>{let r=e.icon;return(0,t.jsxs)("button",{onClick:()=>x(e.value),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"12px",borderRadius:"6px",border:`2px solid ${c===e.value?"var(--green-base)":"var(--card-border)"}`,backgroundColor:c===e.value?"var(--panel-muted)":"transparent",cursor:"pointer",transition:"all 0.2s ease"},children:[(0,t.jsx)(r,{size:24,style:{marginBottom:"4px",color:e.color}}),(0,t.jsx)("span",{style:{fontSize:"12px",fontWeight:"500",color:"var(--text-primary)"},children:e.label})]},e.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"12px"},children:"Confidence Level (1-10)"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)("input",{type:"range",min:"1",max:"10",value:p,onChange:e=>g(Number(e.target.value)),style:{flex:1,height:"6px",borderRadius:"3px",backgroundColor:"var(--panel-muted)",outline:"none",cursor:"pointer"}}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)(a.FiTrendingUp,{size:16,style:{color:"var(--text-secondary)"}}),(0,t.jsx)("span",{style:{fontSize:"18px",fontWeight:"700",color:"var(--text-primary)",minWidth:"32px",textAlign:"center"},children:p})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"12px"},children:"External Stressors (select all that apply)"}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"8px"},children:["Work stress","Family issues","Health concerns","Market volatility","Financial pressure","Sleep deprivation","Personal problems","Time pressure"].map(e=>(0,t.jsx)("button",{onClick:()=>{h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},style:{padding:"8px 12px",textAlign:"left",borderRadius:"6px",border:`1px solid ${u.includes(e)?"#ef4444":"var(--card-border)"}`,backgroundColor:u.includes(e)?"var(--panel-muted)":"transparent",color:u.includes(e)?"#ef4444":"var(--text-primary)",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"12px"},children:"Current Trading Phase"}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:N.map(e=>(0,t.jsxs)("button",{onClick:()=>{var t;let r;y(e.value),t=e.value,(r=N.find(e=>e.value===t))&&!f&&v(r.template)},style:{padding:"16px",borderRadius:"6px",border:`2px solid ${m===e.value?"var(--purple-base)":"var(--card-border)"}`,backgroundColor:m===e.value?"var(--panel-muted)":"transparent",cursor:"pointer",textAlign:"left",transition:"all 0.2s ease"},children:[(0,t.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:e.label}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:e.description})]},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-primary)",marginBottom:"8px"},children:"Phase Notes & Reflections"}),(0,t.jsx)("textarea",{value:f,onChange:e=>v(e.target.value),placeholder:"Write your thoughts, reflections, and notes about your trading day...",rows:8,style:{width:"100%",padding:"12px",borderRadius:"6px",border:"1px solid var(--card-border)",backgroundColor:"var(--panel-muted)",color:"var(--text-primary)",fontSize:"14px",outline:"none",resize:"vertical",transition:"border-color 0.2s ease"},onFocus:e=>{e.currentTarget.style.borderColor="var(--purple-base)"},onBlur:e=>{e.currentTarget.style.borderColor="var(--card-border)"}})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",paddingTop:"16px",borderTop:"1px solid var(--card-border)"},children:[(0,t.jsx)("button",{onClick:l,style:{padding:"8px 16px",borderRadius:"6px",border:"none",backgroundColor:"transparent",color:"var(--text-secondary)",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--panel-muted)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:"Cancel"}),(0,t.jsxs)("button",{onClick:S,disabled:b,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"6px",border:"none",background:"linear-gradient(135deg, var(--purple-base) 0%, var(--purple-dark) 100%)",color:"white",cursor:b?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",opacity:b?.6:1},onMouseEnter:e=>{b||(e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)")},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[b?(0,t.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}):(0,t.jsx)(a.FiSave,{size:16}),(0,t.jsx)("span",{children:b?"Saving...":"Save Entry"})]})]})]})]})};var l=e.i(46932),o=e.i(53276);let d=({entries:e})=>{let n=(0,r.useMemo)(()=>{if(0===e.length)return null;let t=[...e].sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),r=t.slice(-14).map(e=>({date:e.date,state:e.mentalState,score:function(e){switch(e?.toLowerCase()){case"excellent":return 5;case"good":return 4;case"okay":default:return 3;case"poor":return 2;case"terrible":return 1}}(e.mentalState)})),a=t.filter(e=>void 0!==e.confidence).slice(-14).map(e=>({date:e.date,confidence:e.confidence||0})),n=e.reduce((e,t)=>(t.phase&&(e[t.phase]=(e[t.phase]||0)+1),e),{}),s=e.reduce((e,t)=>(t.externalStressors&&t.externalStressors.forEach(t=>{e[t]=(e[t]||0)+1}),e),{});return{mentalStateTrend:r,confidenceTrend:a,phaseDistribution:n,stressorCounts:s,focusPerformance:e.reduce((e,t)=>(t.focus&&t.confidence&&(e[t.focus]||(e[t.focus]=[]),e[t.focus].push(t.confidence)),e),{}),avgConfidence:e.filter(e=>void 0!==e.confidence).reduce((e,t)=>e+(t.confidence||0),0)/e.filter(e=>void 0!==e.confidence).length||0,weeklyPatterns:e.reduce((e,t)=>{let r=new Date(t.date).toLocaleDateString("en-US",{weekday:"long"});return e[r]||(e[r]=[]),t.confidence&&e[r].push(t.confidence),e},{}),totalEntries:e.length,streak:function(e){let t=0,r=new Date;r.setHours(0,0,0,0);for(let a=0;a<365;a++){let n=new Date(r);if(n.setDate(r.getDate()-a),e.some(e=>new Date(e.date).toDateString()===n.toDateString()))t++;else break}return t}(t)}},[e]);return n&&0!==e.length?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(o.default,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(a.FiCalendar,{className:"w-8 h-8 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.totalEntries}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Entries"})]})]})}),(0,t.jsx)(o.default,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(a.FiTarget,{className:"w-8 h-8 text-green-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.streak}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Day Streak"})]})]})}),(0,t.jsx)(o.default,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(a.FiTrendingUp,{className:"w-8 h-8 text-purple-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.avgConfidence.toFixed(1)}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Confidence"})]})]})}),(0,t.jsx)(o.default,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(a.FiZap,{className:"w-8 h-8 text-yellow-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Object.keys(n.phaseDistribution).length}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phases Tracked"})]})]})})]}),(0,t.jsxs)(o.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Mental State Trend (Last 14 Days)"}),(0,t.jsx)("div",{className:"flex items-end space-x-2 h-32",children:n.mentalStateTrend.map((e,r)=>(0,t.jsx)(l.motion.div,{initial:{height:0},animate:{height:`${e.score/5*100}%`},transition:{delay:.05*r},className:"flex-1 bg-gradient-to-t from-blue-500 to-blue-400 rounded-t flex flex-col items-center justify-end pb-2",children:(0,t.jsx)("div",{className:"text-xs text-white font-medium transform -rotate-45 whitespace-nowrap",children:e.state?.slice(0,3)})},e.date))}),(0,t.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("span",{children:"14 days ago"}),(0,t.jsx)("span",{children:"Today"})]})]}),(0,t.jsxs)(o.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Confidence Trend (Last 14 Days)"}),(0,t.jsx)("div",{className:"flex items-end space-x-2 h-32",children:n.confidenceTrend.map((e,r)=>(0,t.jsx)(l.motion.div,{initial:{height:0},animate:{height:`${e.confidence/10*100}%`},transition:{delay:.05*r},className:"flex-1 bg-gradient-to-t from-green-500 to-green-400 rounded-t flex flex-col items-center justify-end pb-2",children:(0,t.jsx)("div",{className:"text-xs text-white font-medium",children:e.confidence})},e.date))}),(0,t.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("span",{children:"14 days ago"}),(0,t.jsx)("span",{children:"Today"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(o.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Phase Distribution"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(n.phaseDistribution).sort(([,e],[,t])=>t-e).map(([e,r])=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:e.replace("-"," ")}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${r/n.totalEntries*100}%`}})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[2rem]",children:r})]})]},e))})]}),(0,t.jsxs)(o.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Focus vs Average Confidence"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(n.focusPerformance).map(([e,r])=>{let a=r.reduce((e,t)=>e+t,0)/r.length;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:[e," Focus"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${a/10*100}%`}})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[2rem]",children:a.toFixed(1)})]})]},e)})})]})]}),(0,t.jsxs)(o.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Weekly Confidence Patterns"}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-4",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(e=>{let r=n.weeklyPatterns[e]||[],a=r.length>0?r.reduce((e,t)=>e+t,0)/r.length:0;return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e.slice(0,3)}),(0,t.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-16 flex items-end justify-center",children:(0,t.jsx)(l.motion.div,{initial:{height:0},animate:{height:`${a>0?a/10*100:5}%`},className:"w-6 bg-purple-500 rounded-t"})}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:a>0?a.toFixed(1):"-"})]},e)})})]}),Object.keys(n.stressorCounts).length>0&&(0,t.jsxs)(o.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Common External Stressors"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(n.stressorCounts).sort(([,e],[,t])=>t-e).slice(0,8).map(([e,r])=>(0,t.jsxs)("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:r}),(0,t.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e})]},e))})]})]}):(0,t.jsxs)(o.default,{className:"p-8 text-center",children:[(0,t.jsx)(a.FiBarChart,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Analytics Available"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Start journaling to see your trading psychology patterns and insights"})]})};var c=e.i(9876);function x(){let e,{theme:l,toggleTheme:o}=(0,c.useTheme)(),[x]=(0,r.useState)(()=>!0),[p,g]=(0,r.useState)("entries"),[u,h]=(0,r.useState)(new Date().toISOString().split("T")[0]),[m,y]=(0,r.useState)([]),[f,v]=(0,r.useState)(!0),[b,j]=(0,r.useState)(!1),[k,w]=(0,r.useState)(null),[N,S]=(0,r.useState)(""),[C,T]=(0,r.useState)("");(0,r.useEffect)(()=>{x&&z()},[x]);let z=async()=>{try{v(!0);let e=await fetch("/api/journal",{headers:{"x-user-id":"demo-user"}});if(!e.ok)throw Error("Failed to load journal entries");let t=await e.json();y(t)}catch(e){console.error("Error loading journal entries:",e),s.default.error("Failed to load journal entries")}finally{v(!1)}},F=async e=>{if(confirm("Are you sure you want to delete this journal entry?"))try{if(!(await fetch(`/api/journal/${e}`,{method:"DELETE",headers:{"x-user-id":"demo-user"}})).ok)throw Error("Failed to delete entry");y(t=>t.filter(t=>t.id!==e)),s.default.success("Journal entry deleted")}catch(e){console.error("Error deleting journal entry:",e),s.default.error("Failed to delete journal entry")}};m.filter(e=>{let t=!N||e.phaseNotes?.toLowerCase().includes(N.toLowerCase())||e.mentalState?.toLowerCase().includes(N.toLowerCase()),r=!C||e.phase===C;return t&&r}),m.find(e=>e.date===u);let R=[{id:"entries",label:"Daily Entries",icon:a.FiBookOpen},{id:"analytics",label:"Analytics",icon:a.FiTrendingUp}];return x?(0,t.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[(0,t.jsx)(n.default,{onThemeToggle:o,currentTheme:l}),(0,t.jsxs)("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:"32px 16px"},children:[(0,t.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,t.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"var(--text-primary)",marginBottom:"8px",margin:0},children:"Trading Journal"}),(0,t.jsx)("p",{style:{fontSize:"14px",color:"var(--text-secondary)",margin:0},children:"Track your mental state, focus levels, and trading psychology"})]}),(0,t.jsx)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px",marginBottom:"24px"},children:(0,t.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:R.map(e=>{let r=e.icon;return(0,t.jsxs)("button",{onClick:()=>g(e.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",borderRadius:"8px",border:"none",backgroundColor:p===e.id?"var(--purple-base)":"transparent",color:p===e.id?"white":"var(--text-secondary)",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.2s ease"},onMouseEnter:t=>{p!==e.id&&(t.currentTarget.style.backgroundColor="var(--panel-muted)")},onMouseLeave:t=>{p!==e.id&&(t.currentTarget.style.backgroundColor="transparent")},children:[(0,t.jsx)(r,{size:16}),(0,t.jsx)("span",{children:e.label})]},e.id)})})}),"entries"===p&&(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},children:[(0,t.jsxs)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[(0,t.jsx)("h2",{style:{fontSize:"16px",fontWeight:"600",color:"var(--text-primary)",margin:0},children:"Select Date"}),(0,t.jsx)("button",{onClick:()=>{h(new Date().toISOString().split("T")[0]),w(null),j(!1)},style:{fontSize:"12px",color:"var(--purple-base)",background:"none",border:"none",cursor:"pointer",fontWeight:"600"},children:"Today"})]}),(0,t.jsx)("input",{type:"date",value:u,onChange:e=>{h(e.target.value),w(null),j(!1)},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid var(--card-border)",backgroundColor:"var(--panel-muted)",color:"var(--text-primary)",fontSize:"14px"}}),(0,t.jsxs)("div",{style:{marginTop:"16px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,t.jsxs)("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"var(--panel-muted)",borderRadius:"6px"},children:[(0,t.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"var(--text-primary)"},children:m.length}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"Total Entries"})]}),(0,t.jsxs)("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"var(--panel-muted)",borderRadius:"6px"},children:[(0,t.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"var(--text-primary)"},children:m.filter(e=>new Date(e.date).getMonth()===new Date().getMonth()).length}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"This Month"})]})]}),(0,t.jsx)("button",{onClick:()=>j(!0),style:{width:"100%",marginTop:"16px",padding:"12px",background:"linear-gradient(135deg, var(--purple-base) 0%, var(--purple-dark) 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:"Add Journal Entry"})]}),(0,t.jsx)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px"},children:b?(0,t.jsx)(i,{date:u,existingEntry:k,onSave:e=>{k?(y(t=>t.map(t=>t.id===e.id?e:t)),w(null)):y(t=>[e,...t]),j(!1),s.default.success("Journal entry saved")},onCancel:()=>{j(!1),w(null)}}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{style:{fontSize:"16px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"16px"},children:["Journal Entry - ",new Date(u).toLocaleDateString()]}),(e=m.find(e=>e.date===u))?(0,t.jsxs)("div",{style:{display:"grid",gap:"16px"},children:[(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"},children:[(0,t.jsxs)("div",{style:{padding:"12px",backgroundColor:"var(--panel-muted)",borderRadius:"6px"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"4px"},children:"Mental State"}),(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text-primary)"},children:e.mentalState||"Not recorded"})]}),(0,t.jsxs)("div",{style:{padding:"12px",backgroundColor:"var(--panel-muted)",borderRadius:"6px"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"4px"},children:"Focus Level"}),(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text-primary)"},children:e.focus||"Not recorded"})]}),(0,t.jsxs)("div",{style:{padding:"12px",backgroundColor:"var(--panel-muted)",borderRadius:"6px"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"4px"},children:"Confidence"}),(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text-primary)"},children:e.confidence?`${e.confidence}/10`:"Not recorded"})]})]}),e.phase&&(0,t.jsxs)("div",{style:{padding:"12px",backgroundColor:"var(--panel-muted)",borderRadius:"6px"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"4px"},children:"Trading Phase"}),(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text-primary)"},children:e.phase}),e.phaseNotes&&(0,t.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:e.phaseNotes})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"16px"},children:[(0,t.jsx)("button",{onClick:()=>{w(e),h(e.date),j(!0)},style:{padding:"8px 16px",backgroundColor:"var(--purple-base)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"600"},children:"Edit Entry"}),(0,t.jsx)("button",{onClick:()=>F(e.id),style:{padding:"8px 16px",backgroundColor:"transparent",color:"#ef4444",border:"1px solid #ef4444",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"600"},children:"Delete"})]})]}):(0,t.jsxs)("div",{style:{textAlign:"center",padding:"32px"},children:[(0,t.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"ðŸ“"}),(0,t.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"8px"},children:"No Journal Entry"}),(0,t.jsxs)("p",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"16px"},children:["Create your first journal entry for ",new Date(u).toLocaleDateString()]}),(0,t.jsx)("button",{onClick:()=>j(!0),style:{padding:"10px 20px",background:"linear-gradient(135deg, var(--purple-base) 0%, var(--purple-dark) 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:"Create Entry"})]})]})})]}),"analytics"===p&&(0,t.jsx)("div",{style:{backgroundColor:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"12px",padding:"20px"},children:(0,t.jsx)(d,{entries:m})})]}),(0,t.jsx)(s.Toaster,{position:"bottom-right"})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900"})}e.s(["default",()=>x],30430)}]);