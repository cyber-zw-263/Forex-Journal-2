(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96673,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(92199),s=e.i(68577),i=e.i(53276),n=e.i(25949),l=e.i(33369),o=["axis"],c=(0,a.forwardRef)((e,t)=>a.createElement(l.CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:o,tooltipPayloadSearcher:n.arrayTooltipSearcher,categoricalChartProps:e,ref:t})),d=a,x=e.i(7670),m=e.i(97865),h=e.i(69212),g=e.i(86031),u=e.i(94395),p=e.i(81977),f=e.i(79812),y=e.i(41818),j=e.i(844),b=e.i(45542),v=e.i(59798),N=e.i(46710),w=e.i(75337),k=e.i(61849),P=e.i(92860),S=e.i(61764),O=(e,t,a,r)=>(0,S.selectAxisWithScale)(e,"xAxis",t,r),L=(e,t,a,r)=>(0,S.selectTicksOfGraphicalItem)(e,"xAxis",t,r),C=(e,t,a,r)=>(0,S.selectAxisWithScale)(e,"yAxis",a,r),D=(e,t,a,r)=>(0,S.selectTicksOfGraphicalItem)(e,"yAxis",a,r),E=(0,k.createSelector)([N.selectChartLayout,O,C,L,D],(e,t,a,r,s)=>(0,f.isCategoricalAxis)(e,"xAxis")?(0,f.getBandSizeOfAxis)(t,r,!1):(0,f.getBandSizeOfAxis)(a,s,!1));function A(e){return"line"===e.type}var F=(0,k.createSelector)([S.selectUnfilteredCartesianItems,(e,t,a,r,s)=>s],(e,t)=>e.filter(A).find(e=>e.id===t)),T=(0,k.createSelector)([N.selectChartLayout,O,C,L,D,F,E,P.selectChartDataWithIndexesIfNotInPanoramaPosition4],(e,t,a,r,s,i,n,l)=>{var o,{chartData:c,dataStartIndex:d,dataEndIndex:x}=l;if(null!=i&&null!=t&&null!=a&&null!=r&&null!=s&&0!==r.length&&0!==s.length&&null!=n&&("horizontal"===e||"vertical"===e)){var{dataKey:m,data:h}=i;if(null!=(o=null!=h&&h.length>0?h:null==c?void 0:c.slice(d,x+1)))return function(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:i,dataKey:n,bandSize:l,displayedData:o}=e;return o.map((e,o)=>{var c=(0,f.getValueByDataKey)(e,n);if("horizontal"===t)return{x:(0,f.getCateCoordinateOfLine)({axis:a,ticks:s,bandSize:l,entry:e,index:o}),y:(0,u.isNullish)(c)?null:r.scale(c),value:c,payload:e};var d=(0,u.isNullish)(c)?null:a.scale(c),x=(0,f.getCateCoordinateOfLine)({axis:r,ticks:i,bandSize:l,entry:e,index:o});return null==d||null==x?null:{x:d,y:x,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,dataKey:m,bandSize:n,displayedData:o})}}),I=e.i(27241),R=e.i(95146),M=e.i(40657),$=e.i(51883),W=e.i(52734),q=e.i(15549),B=e.i(91187),z=e.i(57999),U=e.i(66576),K=e.i(43404),G=e.i(81583),H=e.i(18519),V=e.i(29601),Y=e.i(18457),Z=e.i(20135),J=["id"],X=["type","layout","connectNulls","needClip","shape"],_=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Q(){return(Q=Object.assign.bind()).apply(null,arguments)}function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach(function(t){var r,s,i;r=e,s=t,i=a[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in r?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ea(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var er=d.memo(e=>{var{dataKey:t,data:a,stroke:r,strokeWidth:s,fill:i,name:n,hide:l,unit:o,tooltipType:c,id:x}=e,m={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:(0,f.getTooltipNameProp)(n,t),hide:l,type:c,color:r,unit:o,graphicalItemId:x}};return d.createElement(j.SetTooltipEntrySettings,{tooltipEntrySettings:m})}),es=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function ei(e){var{clipPathId:t,points:a,props:r}=e,{dot:s,dataKey:i,needClip:n}=r,{id:l}=r,o=ea(r,J),c=(0,z.svgPropertiesNoEvents)(o);return d.createElement(g.Dots,{points:a,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:n,clipPathId:t})}function en(e){var{showLabels:t,children:a,points:r}=e,s=(0,d.useMemo)(()=>null==r?void 0:r.map(e=>{var t,a,r={x:null!=(t=e.x)?t:0,y:null!=(a=e.y)?a:0,width:0,lowerWidth:0,upperWidth:0,height:0};return et(et({},r),{},{value:e.value,payload:e.payload,viewBox:r,parentViewBox:void 0,fill:void 0})}),[r]);return d.createElement(h.CartesianLabelListContextProvider,{value:t?s:void 0},a)}function el(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:s,props:i}=e,{type:n,layout:l,connectNulls:o,needClip:c,shape:x}=i,m=ea(i,X),h=et(et({},(0,K.svgPropertiesAndEvents)(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:n,layout:l,connectNulls:o,strokeDasharray:null!=s?s:i.strokeDasharray});return d.createElement(d.Fragment,null,(null==r?void 0:r.length)>1&&d.createElement(H.Shape,Q({shapeType:"curve",option:x},h,{pathRef:a})),d.createElement(ei,{points:r,clipPathId:t,props:i}))}function eo(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:n,strokeDasharray:l,isAnimationActive:o,animationBegin:c,animationDuration:x,animationEasing:m,animateNewValues:g,width:p,height:f,onAnimationEnd:y,onAnimationStart:j}=a,b=s.current,v=(0,M.useAnimationId)(n,"recharts-line-"),N=(0,d.useRef)(v),[w,k]=(0,d.useState)(!1),P=(0,d.useCallback)(()=>{"function"==typeof y&&y(),k(!1)},[y]),S=(0,d.useCallback)(()=>{"function"==typeof j&&j(),k(!0)},[j]),O=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}(r.current),L=(0,d.useRef)(0);N.current!==v&&(L.current=i.current,N.current=v);var C=L.current;return d.createElement(en,{points:n,showLabels:!w},a.children,d.createElement(U.JavascriptAnimate,{animationId:v,begin:c,duration:x,isActive:o,easing:m,onAnimationEnd:P,onAnimationStart:S,key:v},e=>{var c,x=Math.min((0,u.interpolate)(C,O+C,e),O);if(c=o?l?((e,t,a)=>{var r=a.reduce((e,t)=>e+t);if(!r)return es(t,e);for(var s=Math.floor(e/r),i=e%r,n=t-e,l=[],o=0,c=0;o<a.length;c+=a[o],++o)if(c+a[o]>i){l=[...a.slice(0,o),i-c];break}var d=l.length%2==0?[0,n]:[n];return[...function(e,t){for(var a=e.length%2!=0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...a];return r}(a,s),...l,...d].map(e=>"".concat(e,"px")).join(", ")})(x,O,"".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e))):es(O,x):null==l?void 0:String(l),e>0&&O>0&&(s.current=n,i.current=Math.max(i.current,x)),b){var m=b.length/n.length,h=1===e?n:n.map((t,a)=>{var r=Math.floor(a*m);if(b[r]){var s=b[r];return et(et({},t),{},{x:(0,u.interpolate)(s.x,t.x,e),y:(0,u.interpolate)(s.y,t.y,e)})}return g?et(et({},t),{},{x:(0,u.interpolate)(2*p,t.x,e),y:(0,u.interpolate)(f/2,t.y,e)}):et(et({},t),{},{x:t.x,y:t.y})});return s.current=h,d.createElement(el,{props:a,points:h,clipPathId:t,pathRef:r,strokeDasharray:c})}return d.createElement(el,{props:a,points:n,clipPathId:t,pathRef:r,strokeDasharray:c})}),d.createElement(h.LabelListFromLabelProp,{label:a.label}))}function ec(e){var{clipPathId:t,props:a}=e,r=(0,d.useRef)(null),s=(0,d.useRef)(0),i=(0,d.useRef)(null);return d.createElement(eo,{props:a,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:s,pathRef:i})}var ed=(e,t)=>{var a,r;return{x:null!=(a=e.x)?a:void 0,y:null!=(r=e.y)?r:void 0,value:e.value,errorVal:(0,f.getValueByDataKey)(e.payload,t)}};class ex extends d.Component{render(){var{hide:e,dot:t,points:a,className:r,xAxisId:s,yAxisId:i,top:n,left:l,width:o,height:c,id:h,needClip:g,zIndex:u}=this.props;if(e)return null;var f=(0,x.clsx)("recharts-line",r),{r:j,strokeWidth:N}=(0,G.getRadiusAndStrokeWidthFromDot)(t),w=(0,p.isClipDot)(t),k=2*j+N,P=g?"url(#clipPath-".concat(w?"":"dots-").concat(h,")"):void 0;return d.createElement(V.ZIndexLayer,{zIndex:u},d.createElement(m.Layer,{className:f},g&&d.createElement("defs",null,d.createElement(v.GraphicalItemClipPath,{clipPathId:h,xAxisId:s,yAxisId:i}),!w&&d.createElement("clipPath",{id:"clipPath-dots-".concat(h)},d.createElement("rect",{x:l-k/2,y:n-k/2,width:o+k,height:c+k}))),d.createElement(b.SetErrorBarContext,{xAxisId:s,yAxisId:i,data:a,dataPointFormatter:ed,errorBarOffset:0},d.createElement(ec,{props:this.props,clipPathId:h}))),d.createElement(y.ActivePoints,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:P}))}}var em={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Y.DefaultZIndexes.line,type:"linear"};function eh(e){var t=(0,$.resolveDefaultProps)(e,em),{activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:i,animationEasing:n,connectNulls:l,dot:o,hide:c,isAnimationActive:x,label:m,legendType:h,xAxisId:g,yAxisId:u,id:p}=t,f=ea(t,_),{needClip:y}=(0,v.useNeedsClip)(g,u),j=(0,W.usePlotArea)(),b=(0,N.useChartLayout)(),k=(0,w.useIsPanorama)(),P=(0,I.useAppSelector)(e=>T(e,g,u,k,p));if("horizontal"!==b&&"vertical"!==b||null==P||null==j)return null;var{height:S,width:O,x:L,y:C}=j;return d.createElement(ex,Q({},f,{id:p,connectNulls:l,dot:o,activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:i,animationEasing:n,isAnimationActive:x,hide:c,label:m,legendType:h,xAxisId:g,yAxisId:u,points:P,layout:b,height:S,width:O,left:L,top:C,needClip:y}))}var eg=d.memo(function(e){var t=(0,$.resolveDefaultProps)(e,em),a=(0,w.useIsPanorama)();return d.createElement(q.RegisterGraphicalItemId,{id:t.id,type:"line"},e=>d.createElement(d.Fragment,null,d.createElement(R.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:a,stroke:r,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:r,value:(0,f.getTooltipNameProp)(a,t),payload:e}]})(t)}),d.createElement(er,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:e}),d.createElement(B.SetCartesianGraphicalItem,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),d.createElement(eh,Q({},t,{id:e}))))},Z.propsAreEqual);eg.displayName="Line";var eu=e.i(237),ep=e.i(38279),ef=e.i(494),ey=e.i(44171),ej=e.i(31725),eb=e.i(89763);function ev(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function eN(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(a),!0).forEach(function(t){var r,s,i;r=e,s=t,i=a[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in r?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ev(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ew(){return(ew=Object.assign.bind()).apply(null,arguments)}function ek(e){var t=(0,I.useAppDispatch)();return(0,a.useEffect)(()=>(t((0,ej.addDot)(e)),()=>{t((0,ej.removeDot)(e))})),null}function eP(e){var{x:t,y:r,r:s}=e,i=(0,eb.useClipPathId)(),n=((e,t,a,r,s)=>{var i=(0,u.isNumOrStr)(e),n=(0,u.isNumOrStr)(t),l=(0,w.useIsPanorama)(),o=(0,I.useAppSelector)(e=>(0,S.selectAxisScale)(e,"xAxis",a,l)),c=(0,I.useAppSelector)(e=>(0,S.selectAxisScale)(e,"yAxis",r,l));if(!i||!n||null==o||null==c)return null;var d=(0,ey.createLabeledScales)({x:o,y:c}),x=d.apply({x:e,y:t},{bandAware:!0});return"discard"!==s||d.isInRange(x)?x:null})(t,r,e.xAxisId,e.yAxisId,e.ifOverflow);if(!n)return null;var{x:l,y:o}=n,{shape:c,className:d,ifOverflow:h}=e,g=eN(eN({clipPath:"hidden"===h?"url(#".concat(i,")"):void 0},(0,K.svgPropertiesAndEvents)(e)),{},{cx:l,cy:o});return a.createElement(V.ZIndexLayer,{zIndex:e.zIndex},a.createElement(m.Layer,{className:(0,x.clsx)("recharts-reference-dot",d)},a.isValidElement(c)?a.cloneElement(c,g):"function"==typeof c?c(g):a.createElement(ep.Dot,ew({},g,{cx:g.cx,cy:g.cy,className:"recharts-reference-dot-dot"})),a.createElement(ef.CartesianLabelContextProvider,{x:l-s,y:o-s,width:2*s,height:2*s,upperWidth:2*s,lowerWidth:2*s},a.createElement(ef.CartesianLabelFromLabelProp,{label:e.label}),e.children)))}var eS={ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1,zIndex:Y.DefaultZIndexes.scatter};function eO(e){var t=(0,$.resolveDefaultProps)(e,eS),{x:r,y:s,r:i,ifOverflow:n,yAxisId:l,xAxisId:o}=t;return a.createElement(a.Fragment,null,a.createElement(ek,{y:s,x:r,r:i,yAxisId:l,xAxisId:o,ifOverflow:n}),a.createElement(eP,t))}eO.displayName="ReferenceDot";var eL=e.i(9694),eC=e.i(75225),eD=e.i(41891),eE=e.i(38814),eA=e.i(22787),eF=e.i(85183),eT=e.i(93230),eI=e.i(72526),eR=e.i(34239),eM=e.i(74080),e$=e.i(88860),eW=e.i(48337),eq=e.i(13659),eB=e.i(73393);function ez(){return(ez=Object.assign.bind()).apply(null,arguments)}function eU(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var eK={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function eG(e){var t,{data:r,iconType:s,inactiveColor:i}=e,n=32/6,l=32/3,o=r.inactive?i:r.color,c=null!=s?s:r.type;if("none"===c)return null;if("plainline"===c)return a.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:null==(t=r.payload)?void 0:t.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===c)return a.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(16,"h").concat(l,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*l,",").concat(16,"\n            H").concat(32,"M").concat(2*l,",").concat(16,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(l,",").concat(16),className:"recharts-legend-icon"});if("rect"===c)return a.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(a.isValidElement(r.legendIcon)){var d=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(a),!0).forEach(function(t){var r,s,i;r=e,s=t,i=a[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in r?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eU(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},r);return delete d.legendIcon,a.cloneElement(r.legendIcon,d)}return a.createElement(eq.Symbols,{fill:o,cx:16,cy:16,size:32,sizeType:"diameter",type:c})}function eH(e){var{payload:t,iconSize:r,layout:s,formatter:i,inactiveColor:n,iconType:l}=e,o={x:0,y:0,width:32,height:32},c={display:"horizontal"===s?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((t,s)=>{var m=t.formatter||i,h=(0,x.clsx)({"recharts-legend-item":!0,["legend-item-".concat(s)]:!0,inactive:t.inactive});if("none"===t.type)return null;var g=t.inactive?n:t.color,u=m?m(t.value,t,s):t.value;return a.createElement("li",ez({className:h,style:c,key:"legend-item-".concat(s)},(0,eB.adaptEventsOfChild)(e,t,s)),a.createElement(eW.Surface,{width:r,height:r,viewBox:o,style:d,"aria-label":"".concat(u," legend icon")},a.createElement(eG,{data:t,iconType:l,inactiveColor:n})),a.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},u))})}var eV=e=>{var t=(0,$.resolveDefaultProps)(e,eK),{payload:r,layout:s,align:i}=t;return r&&r.length?a.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===s?i:"left"}},a.createElement(eH,ez({},t,{payload:r}))):null},eY=e.i(51587),eZ=e.i(21307),eJ=e.i(35709),eX=e.i(93882),e_=["contextPayload"];function eQ(){return(eQ=Object.assign.bind()).apply(null,arguments)}function e0(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function e6(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?e0(Object(a),!0).forEach(function(t){var r,s,i;r=e,s=t,i=a[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in r?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):e0(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function e1(e){return e.value}function e3(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,e_),s=(0,eY.getUniqPayload)(t,e.payloadUniqBy,e1),i=e6(e6({},r),{},{payload:s});return a.isValidElement(e.content)?a.cloneElement(e.content,i):"function"==typeof e.content?a.createElement(e.content,i):a.createElement(eV,i)}function e4(e){var t=(0,I.useAppDispatch)();return(0,a.useEffect)(()=>{t((0,eX.setLegendSettings)(e))},[t,e]),null}function e2(e){var t=(0,I.useAppDispatch)();return(0,a.useEffect)(()=>(t((0,eX.setLegendSize)(e)),()=>{t((0,eX.setLegendSize)({width:0,height:0}))}),[t,e]),null}var e5={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function e9(e){var t,r=(0,$.resolveDefaultProps)(e,e5),s=(0,I.useAppSelector)(eZ.selectLegendPayload),i=(0,e$.useLegendPortal)(),n=(0,N.useMargin)(),{width:l,height:o,wrapperStyle:c,portal:d}=r,[x,m]=(0,eJ.useElementOffset)([s]),h=(0,N.useChartWidth)(),g=(0,N.useChartHeight)();if(null==h||null==g)return null;var p=h-((null==n?void 0:n.left)||0)-((null==n?void 0:n.right)||0),f=(t=r.layout,"vertical"===t&&(0,u.isNumber)(o)?{height:o}:"horizontal"===t?{width:l||p}:null),y=d?c:e6(e6({position:"absolute",width:(null==f?void 0:f.width)||l||"auto",height:(null==f?void 0:f.height)||o||"auto"},function(e,t,a,r,s,i){var n,l,{layout:o,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(n="center"===c&&"vertical"===o?{left:((r||0)-i.width)/2}:"right"===c?{right:a&&a.right||0}:{left:a&&a.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(l="middle"===d?{top:((s||0)-i.height)/2}:"bottom"===d?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),e6(e6({},n),l)}(c,r,n,h,g,x)),c),j=null!=d?d:i;if(null==j||null==s)return null;var b=a.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:m},a.createElement(e4,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),!d&&a.createElement(e2,{width:x.width,height:x.height}),a.createElement(e3,eQ({},r,f,{margin:n,chartWidth:h,chartHeight:g,contextPayload:s})));return(0,eM.createPortal)(b,j)}e9.displayName="Legend";var e8=e.i(31195),e7=e.i(70703);function te({active:e,payload:a,label:r}){if(!e||!a||!a.length)return null;let s=a.find(e=>"equity"===e.dataKey)||a[0],i=a.find(e=>"drawdown"===e.dataKey);return(0,t.jsxs)("div",{className:"bg-gray-900 p-2 rounded text-sm text-white",children:[(0,t.jsx)("div",{className:"font-bold",children:r}),s&&(0,t.jsxs)("div",{children:["Equity: ",(0,t.jsx)("span",{className:"font-mono",children:String(s.value)})]}),i&&(0,t.jsxs)("div",{children:["Drawdown: ",(0,t.jsx)("span",{className:"font-mono",children:String(i.value)})]})]})}let tt=(0,e7.default)(()=>e.A(83487),{loadableGenerated:{modules:[61392]},ssr:!1}),ta=(0,e7.default)(()=>e.A(74046),{loadableGenerated:{modules:[96909]},ssr:!1});function tr({trades:e,startDate:r,endDate:s}){let[i,n]=(0,a.useState)({dailyPnL:[],pairPerformance:[],directionPerformance:[],equity:[]});(0,a.useEffect)(()=>{if(!e.length)return;let t=e;(r||s)&&(t=e.filter(e=>{let t=new Date(e.entryTime);return!(r&&new Date(t.toISOString().slice(0,10))<new Date(r)||s&&new Date(t.toISOString().slice(0,10))>new Date(s))}));let a={};t.forEach(e=>{let t=new Date(e.entryTime).toLocaleDateString();a[t]=(a[t]||0)+(e.profitLoss||0)});let i=Object.entries(a).map(([e,t])=>({date:e,pnl:Math.round(100*t)/100})),l={};e.forEach(e=>{l[e.pair]||(l[e.pair]={wins:0,losses:0,pnl:0}),"WIN"===e.outcome&&l[e.pair].wins++,"LOSS"===e.outcome&&l[e.pair].losses++,l[e.pair].pnl+=e.profitLoss||0});let o=Object.entries(l).map(([e,t])=>({pair:e,wins:t.wins,losses:t.losses,pnl:Math.round(100*t.pnl)/100})),c={LONG:{wins:0,losses:0},SHORT:{wins:0,losses:0}};e.forEach(e=>{"WIN"===e.outcome?c[e.direction].wins++:"LOSS"===e.outcome&&c[e.direction].losses++});let d=Object.entries(c).map(([e,t])=>({direction:e,value:t.wins,name:`${e} (${t.wins} wins)`})),x=[...t].sort((e,t)=>new Date(e.entryTime).getTime()-new Date(t.entryTime).getTime()),m=0,h=-1/0,g=x.map(e=>{m+=e.profitLoss||0;let t=Math.round(((h=Math.max(h,m))-m)*100)/100;return{date:new Date(e.entryTime).toLocaleDateString(),equity:Math.round(100*m)/100,drawdown:t}});g.reduce((e,t)=>Math.max(e,t.drawdown),0),g.length&&g.reduce((e,t)=>t.equity>e.equity?t:e,g[0]),g.length&&g.reduce((e,t)=>t.equity<e.equity?t:e,g[0]),n({dailyPnL:i,pairPerformance:o,directionPerformance:d,equity:g})},[e]);let l=i.equity.length?i.equity.reduce((e,t)=>t.equity>e.equity?t:e,i.equity[0]):null,o=i.equity.length?i.equity.reduce((e,t)=>t.equity<e.equity?t:e,i.equity[0]):null,d=["#10b981","#ef4444"];return(0,t.jsxs)("div",{className:"space-y-8",children:[i.equity.length>0&&(0,t.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Equity Curve (Live)"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(tt,{selector:".recharts-wrapper",filename:`equity-${new Date().toISOString().slice(0,10)}.png`})})]}),(0,t.jsx)(e8.ResponsiveContainer,{width:"100%",height:320,children:(0,t.jsxs)(c,{data:i.equity,className:"equity-chart",children:["              ",(0,t.jsx)(eI.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,t.jsx)(eF.XAxis,{dataKey:"date",stroke:"#6b7280"}),(0,t.jsx)(eT.YAxis,{stroke:"#6b7280"}),(0,t.jsx)(eR.Tooltip,{content:(0,t.jsx)(te,{})}),(0,t.jsx)(eu.Area,{type:"monotone",dataKey:"drawdown",fill:"#7c3aed",fillOpacity:.06,stroke:"none"}),(0,t.jsx)(eg,{type:"monotone",dataKey:"equity",stroke:"#06b6d4",strokeWidth:3,dot:!1,strokeOpacity:.98,isAnimationActive:!0,animationDuration:1200}),(0,t.jsx)(eg,{type:"monotone",dataKey:"drawdown",stroke:"#7c3aed",strokeWidth:2,dot:!1,strokeOpacity:.6,isAnimationActive:!0,animationDuration:1e3}),l&&(0,t.jsx)(eO,{x:l.date,y:l.equity,r:6,fill:"#06b6d4",stroke:"#fff",strokeWidth:1}),o&&(0,t.jsx)(eO,{x:o.date,y:o.equity,r:6,fill:"#7c3aed",stroke:"#fff",strokeWidth:1})]})})]}),i.dailyPnL.length>0&&(0,t.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Daily P&L"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tt,{selector:".recharts-wrapper",filename:`daily-pnl-${new Date().toISOString().slice(0,10)}.png`}),(0,t.jsx)(ta,{trades:e,chartSelector:".recharts-wrapper"})]})]}),(0,t.jsx)(e8.ResponsiveContainer,{width:"100%",height:300,children:(0,t.jsxs)(c,{data:i.dailyPnL,children:[(0,t.jsx)(eI.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,t.jsx)(eF.XAxis,{dataKey:"date",stroke:"#6b7280"}),(0,t.jsx)(eT.YAxis,{stroke:"#6b7280"}),(0,t.jsx)(eR.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}}),(0,t.jsx)(eg,{type:"monotone",dataKey:"pnl",stroke:"#3b82f6",dot:{fill:"#3b82f6"},isAnimationActive:!0,strokeWidth:2})]})})]}),i.pairPerformance.length>0&&(0,t.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Performance by Pair"}),(0,t.jsx)(e8.ResponsiveContainer,{width:"100%",height:300,children:(0,t.jsxs)(eL.BarChart,{data:i.pairPerformance,children:[(0,t.jsx)(eI.CartesianGrid,{strokeDasharray:"3 3",stroke:"#111827"}),(0,t.jsx)(eF.XAxis,{dataKey:"pair",stroke:"#6b7280"}),(0,t.jsx)(eT.YAxis,{stroke:"#6b7280"}),(0,t.jsx)(eR.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}}),(0,t.jsx)(e9,{}),(0,t.jsx)(eC.Bar,{dataKey:"wins",fill:"#10b981"}),(0,t.jsx)(eC.Bar,{dataKey:"losses",fill:"#ef4444"})]})})]}),i.directionPerformance.length>0&&(0,t.jsxs)("div",{className:"card-glass rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Win Rate by Direction"}),(0,t.jsx)(e8.ResponsiveContainer,{width:"100%",height:300,children:(0,t.jsxs)(eD.PieChart,{children:[(0,t.jsx)(eE.Pie,{data:i.directionPerformance,cx:"50%",cy:"50%",labelLine:!1,label:({name:e})=>e,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.directionPerformance.map((e,a)=>(0,t.jsx)(eA.Cell,{fill:d[a%d.length]},`cell-${a}`))}),(0,t.jsx)(eR.Tooltip,{contentStyle:{backgroundColor:"#0b1220",border:"none",borderRadius:"0.5rem",color:"#fff"}})]})})]})]})}function ts({trades:e,onSelectRange:r}){let s=(0,a.useMemo)(()=>{let t={},a=new Date;for(let e=0;e<365;e++){let r=new Date(a);r.setDate(a.getDate()-e),t[r.toISOString().slice(0,10)]=0}return e.forEach(e=>{let a=function(e){if(!e)return null;let t=new Date("number"==typeof e?e:String(e));return!(t instanceof Date)||isNaN(t.getTime())?null:t.toISOString().slice(0,10)}(e.entryTime);a&&void 0!==t[a]&&(t[a]=(t[a]||0)+(e.profitLoss||0))}),Object.entries(t).map(([e,t])=>({day:e,pnl:t}))},[e]),i=Math.max(...s.map(e=>Math.abs(e.pnl)),1),[n,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(null);(0,a.useEffect)(()=>{r&&r({start:n,end:o})},[n,o,r]);let[d,x]=(0,a.useState)(!1);function m(e){if(d){let t=new Date(e),a=new Date(t.getFullYear(),t.getMonth(),1).toISOString().slice(0,10),r=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().slice(0,10);l(a),c(r);return}if(!n){l(e),c(null);return}if(n&&!o){if(e===n){l(null),c(null);return}let t=new Date(n);new Date(e)<t?(l(e),c(t.toISOString().slice(0,10))):c(e);return}l(e),c(null)}return(0,t.jsxs)("div",{className:"card-glass p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Yearly P&L Heatmap"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[n&&(0,t.jsxs)("span",{children:["From ",(0,t.jsx)("strong",{children:n})]})," ",o&&(0,t.jsxs)("span",{children:[" to ",(0,t.jsx)("strong",{children:o})]}),(n||o)&&(0,t.jsx)("button",{className:"ml-3 text-sm text-blue-400",onClick:()=>{l(null),c(null),r&&r({start:null,end:null})},children:"Clear"})]}),(0,t.jsx)("button",{type:"button","aria-pressed":d,"aria-label":"Toggle month zoom",className:`px-2 py-1 rounded ${d?"bg-indigo-600 text-white":"bg-transparent text-gray-300 border border-gray-700"}`,onClick:()=>x(e=>!e),children:d?"Month Zoom: ON":"Month Zoom: OFF"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-52 gap-1",role:"grid","aria-label":"Yearly profit/loss heatmap",style:{gap:"6px"},children:s.map(e=>{let a=Math.min(1,Math.abs(e.pnl)/i),r=e.pnl>0?`rgba(16,185,129,${.14+.86*a})`:e.pnl<0?`rgba(239,68,68,${.14+.86*a})`:"transparent",s=function(e){if(!n)return!1;if(n&&!o)return e===n;let t=new Date(n),a=new Date(o),r=new Date(e);return r>=t&&r<=a}(e.day),l=Math.abs(e.pnl)>.25*i;return(0,t.jsx)("button",{title:`${e.day}: ${e.pnl}`,"aria-pressed":s,onClick:()=>m(e.day),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),m(e.day))},style:{background:r,width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--foreground)",fontSize:"11px",...s?{boxShadow:"0 0 0 3px rgba(99,102,241,0.12)",outline:"none"}:{}},className:"focus:outline-none",children:l?e.pnl>0?`+$${Math.round(e.pnl)}`:`-$${Math.abs(Math.round(e.pnl))}`:""},e.day)})}),(0,t.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"Green = Profit, Pink = Loss. Click a day to set start, click another to set end. Toggle Month Zoom to select whole month on click. Clear to reset selection."})]})}function ti({trades:e}){let r=(0,a.useMemo)(()=>{let t={};return e.forEach(e=>{let a=new Date(e.entryTime),r=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}`;t[r]||(t[r]={pnl:0,trades:[]}),t[r].pnl+=e.profitLoss||0,t[r].trades.push(e)}),Object.entries(t).sort((e,t)=>t[0].localeCompare(e[0]))},[e]),[s,i]=(0,a.useState)({});return(0,t.jsxs)("div",{className:"card-glass p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-200 mb-4",children:"Monthly Performance"}),(0,t.jsx)("div",{className:"space-y-2",children:r.map(([e,a])=>(0,t.jsxs)("div",{className:"border border-transparent hover:border-gray-700 rounded-lg p-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>i(t=>({...t,[e]:!t[e]})),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-300 font-medium",children:e}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[a.trades.length," trades"]})]}),(0,t.jsx)("div",{className:`text-lg font-bold ${a.pnl>=0?"text-green-400":"text-red-400"}`,children:a.pnl.toFixed(2)})]}),s[e]&&(0,t.jsx)("div",{className:"mt-2 text-sm text-gray-300",children:a.trades.map((e,a)=>(0,t.jsxs)("div",{className:"py-1 border-t border-gray-800",children:[new Date(e.entryTime).toLocaleString()," — ",e.pair," — ",e.profitLoss]},a))})]},e))})]})}var tn=e.i(46932);let tl=({trades:e,strategies:s})=>{let n=(0,a.useMemo)(()=>{if(0===e.length||0===s.length)return null;let t=e.filter(e=>"closed"===e.status&&null!==e.profitLoss&&void 0!==e.profitLoss);return s.map(e=>{let a=t.filter(t=>t.strategyId===e.id);if(0===a.length)return{...e,trades:0,wins:0,losses:0,winRate:0,totalPnL:0,avgPnL:0,profitFactor:0,expectancy:0,bestPair:"",worstPair:""};let r=a.filter(e=>e.profitLoss>0),s=a.filter(e=>e.profitLoss<0),i=a.reduce((e,t)=>e+(t.profitLoss||0),0),n=r.length/a.length*100,l=i/a.length,o=r.reduce((e,t)=>e+t.profitLoss,0),c=Math.abs(s.reduce((e,t)=>e+t.profitLoss,0)),d=r.length>0?r.reduce((e,t)=>e+t.profitLoss,0)/r.length:0,x=s.length>0?s.reduce((e,t)=>e+t.profitLoss,0)/s.length:0,m=a.reduce((e,t)=>(e[t.pair]||(e[t.pair]={total:0,pnl:0}),e[t.pair].total++,e[t.pair].pnl+=t.profitLoss||0,e),{}),h=Object.entries(m).sort(([,e],[,t])=>t.pnl-e.pnl)[0]?.[0]||"",g=Object.entries(m).sort(([,e],[,t])=>e.pnl-t.pnl)[0]?.[0]||"";return{...e,trades:a.length,wins:r.length,losses:s.length,winRate:n,totalPnL:i,avgPnL:l,profitFactor:c>0?o/c:o>0?1/0:1,expectancy:n>0&&0!==x?n/100*d+(100-n)/100*x:0,bestPair:h,worstPair:g}}).filter(e=>e.trades>0).sort((e,t)=>t.totalPnL-e.totalPnL)},[e,s]),l=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),o=e=>`${e.toFixed(1)}%`;return n&&0!==n.length?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((e,a)=>(0,t.jsx)(tn.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name}),0===a&&e.totalPnL>0&&(0,t.jsx)(r.FiAward,{className:"w-5 h-5 text-yellow-500"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total P&L"}),(0,t.jsx)("span",{className:`font-semibold ${e.totalPnL>=0?"text-green-600":"text-red-600"}`,children:l(e.totalPnL)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Win Rate"}),(0,t.jsx)("span",{className:"font-semibold text-blue-600",children:o(e.winRate)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trades"}),(0,t.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.trades})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Profit Factor"}),(0,t.jsx)("span",{className:"font-semibold text-purple-600",children:e.profitFactor===1/0?"∞":e.profitFactor.toFixed(2)})]}),e.bestPair&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Best Pair"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:e.bestPair})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[(0,t.jsx)("span",{children:"Performance"}),(0,t.jsxs)("span",{children:[e.totalPnL>=0?"+":"",l(e.totalPnL)]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)(tn.motion.div,{initial:{width:0},animate:{width:`${Math.min(Math.max(e.totalPnL/1e3*100,10),100)}%`},className:`h-2 rounded-full ${e.totalPnL>=0?"bg-green-500":"bg-red-500"}`})})]})]})},e.id))}),(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Strategy Performance Comparison"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Strategy"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Trades"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Win Rate"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Total P&L"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Avg P&L"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Profit Factor"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Expectancy"})]})}),(0,t.jsx)("tbody",{children:n.map((e,a)=>(0,t.jsxs)(tn.motion.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*a},className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[(0,t.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900 dark:text-white",children:e.name}),(0,t.jsx)("td",{className:"py-3 px-4 text-right text-gray-600 dark:text-gray-400",children:e.trades}),(0,t.jsx)("td",{className:"py-3 px-4 text-right",children:(0,t.jsx)("span",{className:`font-medium ${e.winRate>=60?"text-green-600":e.winRate>=50?"text-yellow-600":"text-red-600"}`,children:o(e.winRate)})}),(0,t.jsx)("td",{className:"py-3 px-4 text-right",children:(0,t.jsx)("span",{className:`font-medium ${e.totalPnL>=0?"text-green-600":"text-red-600"}`,children:l(e.totalPnL)})}),(0,t.jsx)("td",{className:"py-3 px-4 text-right",children:(0,t.jsx)("span",{className:`font-medium ${e.avgPnL>=0?"text-green-600":"text-red-600"}`,children:l(e.avgPnL)})}),(0,t.jsx)("td",{className:"py-3 px-4 text-right",children:(0,t.jsx)("span",{className:`font-medium ${e.profitFactor>=1.5?"text-green-600":e.profitFactor>=1?"text-yellow-600":"text-red-600"}`,children:e.profitFactor===1/0?"∞":e.profitFactor.toFixed(2)})}),(0,t.jsx)("td",{className:"py-3 px-4 text-right",children:(0,t.jsx)("span",{className:`font-medium ${e.expectancy>=0?"text-green-600":"text-red-600"}`,children:l(e.expectancy)})})]},e.id))})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top Performing Strategy"}),n[0]&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(r.FiAward,{className:"w-6 h-6 text-yellow-500"}),(0,t.jsx)("span",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n[0].name})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:l(n[0].totalPnL)}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total P&L"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:o(n[0].winRate)}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Win Rate"})]})]}),n[0].description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n[0].description})]})]}),(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Strategy Recommendations"}),(0,t.jsxs)("div",{className:"space-y-3",children:[n.some(e=>e.profitFactor>=1.5)?(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,t.jsx)(r.FiTrendingUp,{className:"w-5 h-5 text-green-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Strong Strategies Identified"}),(0,t.jsx)("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Focus on strategies with profit factor ≥ 1.5"})]})]}):(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,t.jsx)(r.FiAlertTriangle,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Strategy Optimization Needed"}),(0,t.jsx)("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Consider refining strategies with low profit factors"})]})]}),n.some(e=>e.trades<10)&&(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,t.jsx)(r.FiBarChart,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"More Data Needed"}),(0,t.jsx)("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Strategies with fewer than 10 trades need more testing"})]})]})]})]})]})]}):(0,t.jsxs)(i.default,{className:"p-8 text-center",children:[(0,t.jsx)(r.FiTarget,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Strategy Data Available"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Assign strategies to your trades to see strategy performance comparisons"})]})},to=({trades:e,journalEntries:s})=>{let n=(0,a.useMemo)(()=>{if(0===e.length&&0===s.length)return null;let t=e.filter(e=>"closed"===e.status&&null!==e.profitLoss&&void 0!==e.profitLoss),a=t.reduce((e,t)=>{let a=t.emotionalState;return a&&(e[a]||(e[a]={count:0,wins:0,losses:0,totalPnL:0}),e[a].count++,e[a].totalPnL+=t.profitLoss||0,t.profitLoss>0?e[a].wins++:t.profitLoss<0&&e[a].losses++),e},{}),r=s.reduce((e,t)=>{let a=t.mentalState;return a&&(e[a]||(e[a]={count:0,avgConfidence:0,totalConfidence:0}),e[a].count++,t.confidence&&(e[a].totalConfidence+=t.confidence)),e},{});Object.keys(r).forEach(e=>{let t=r[e];t.avgConfidence=t.totalConfidence/t.count});let i=s.reduce((e,t)=>{let a=t.focus;return a&&(e[a]||(e[a]={count:0,avgConfidence:0,totalConfidence:0}),e[a].count++,t.confidence&&(e[a].totalConfidence+=t.confidence)),e},{});Object.keys(i).forEach(e=>{let t=i[e];t.avgConfidence=t.totalConfidence/t.count});let n=s.reduce((e,t)=>{let a=t.phase;return a&&(e[a]||(e[a]={count:0,avgConfidence:0,totalConfidence:0}),e[a].count++,t.confidence&&(e[a].totalConfidence+=t.confidence)),e},{});Object.keys(n).forEach(e=>{let t=n[e];t.avgConfidence=t.totalConfidence/t.count});let l=s.map(e=>{let a=new Date(e.date).toDateString(),r=t.filter(e=>new Date(e.entryTime).toDateString()===a),s=r.reduce((e,t)=>e+(t.profitLoss||0),0);return{date:e.date,confidence:e.confidence||0,pnl:s,trades:r.length}}).filter(e=>e.trades>0),o=function(e,t){if(e.length!==t.length||0===e.length)return 0;let a=e.length,r=e.reduce((e,t)=>e+t,0),s=t.reduce((e,t)=>e+t,0),i=e.reduce((e,a,r)=>e+a*t[r],0),n=Math.sqrt((a*e.reduce((e,t)=>e+t*t,0)-r*r)*(a*t.reduce((e,t)=>e+t*t,0)-s*s));return 0===n?0:(a*i-r*s)/n}(l.map(e=>e.confidence),l.map(e=>e.pnl)),c=s.reduce((e,t)=>{let a=new Date(t.date).toLocaleDateString("en-US",{weekday:"long"});return e[a]||(e[a]={count:0,avgConfidence:0,totalConfidence:0}),e[a].count++,t.confidence&&(e[a].totalConfidence+=t.confidence),e},{});return Object.keys(c).forEach(e=>{let t=c[e];t.avgConfidence=t.totalConfidence/t.count}),{tradeEmotions:a,journalEmotions:r,focusAnalysis:i,phaseAnalysis:n,confidenceCorrelation:l,correlation:o,weeklyPatterns:c,totalJournalEntries:s.length,totalTrades:t.length}},[e,s]),l=e=>{switch(e.toLowerCase()){case"excellent":case"great":case"good":return(0,t.jsx)(r.FiSmile,{className:"w-5 h-5 text-green-500"});case"okay":case"neutral":return(0,t.jsx)(r.FiMeh,{className:"w-5 h-5 text-yellow-500"});case"poor":case"bad":case"terrible":return(0,t.jsx)(r.FiFrown,{className:"w-5 h-5 text-red-500"});default:return(0,t.jsx)(r.FiMeh,{className:"w-5 h-5 text-gray-500"})}},o=e=>{switch(e.toLowerCase()){case"excellent":case"great":case"good":return"text-green-600 dark:text-green-400";case"okay":case"neutral":return"text-yellow-600 dark:text-yellow-400";case"poor":case"bad":case"terrible":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}};return n?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(i.default,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(r.FiActivity,{className:"w-8 h-8 text-purple-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.totalJournalEntries}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Journal Entries"})]})]})}),(0,t.jsx)(i.default,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(r.FiTarget,{className:"w-8 h-8 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.totalTrades}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tracked Trades"})]})]})}),(0,t.jsx)(i.default,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(r.FiTrendingUp,{className:"w-8 h-8 text-green-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.correlation.toFixed(2)}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confidence-P&L Correlation"})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(n.tradeEmotions).length>0&&(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Emotional States"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(n.tradeEmotions).sort(([,e],[,t])=>t.totalPnL-e.totalPnL).map(([e,a])=>{let r,s;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[l(e),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:`font-medium capitalize ${o(e)}`,children:e}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.count," trades • ",(r=a.wins/a.count*100,`${r.toFixed(1)}%`)," win rate"]})]})]}),(0,t.jsx)("div",{className:`font-semibold ${a.totalPnL>=0?"text-green-600":"text-red-600"}`,children:(s=a.totalPnL,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(s))})]},e)})})]}),Object.keys(n.journalEmotions).length>0&&(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Journal Mental States"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(n.journalEmotions).sort(([,e],[,t])=>t.avgConfidence-e.avgConfidence).map(([e,a])=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[l(e),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:`font-medium capitalize ${o(e)}`,children:e}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.count," entries"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:[a.avgConfidence.toFixed(1),"/10"]}),(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Confidence"})]})]},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(n.focusAnalysis).length>0&&(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Focus Level Impact"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(n.focusAnalysis).sort(([,e],[,t])=>t.avgConfidence-e.avgConfidence).map(([e,a])=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(r.FiTarget,{className:`w-5 h-5 ${"high"===e?"text-green-500":"medium"===e?"text-yellow-500":"text-red-500"}`}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium capitalize text-gray-900 dark:text-white",children:[e," Focus"]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.count," entries"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:[a.avgConfidence.toFixed(1),"/10"]}),(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Confidence"})]})]},e))})]}),Object.keys(n.phaseAnalysis).length>0&&(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Phase Performance"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(n.phaseAnalysis).sort(([,e],[,t])=>t.avgConfidence-e.avgConfidence).map(([e,a])=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(r.FiTrendingUp,{className:"w-5 h-5 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium capitalize text-gray-900 dark:text-white",children:e.replace("-"," ")}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.count," entries"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:[a.avgConfidence.toFixed(1),"/10"]}),(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Confidence"})]})]},e))})]})]}),n.confidenceCorrelation.length>0&&(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Confidence vs Performance Correlation"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Correlation Coefficient: ",n.correlation.toFixed(3)]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[n.correlation>.3&&(0,t.jsx)(r.FiTrendingUp,{className:"w-4 h-4 text-green-500"}),n.correlation<-.3&&(0,t.jsx)(r.FiTrendingDown,{className:"w-4 h-4 text-red-500"}),(0,t.jsx)("span",{className:`text-sm font-medium ${n.correlation>.3?"text-green-600":n.correlation<-.3?"text-red-600":"text-gray-600"}`,children:n.correlation>.3?"Positive Correlation":n.correlation<-.3?"Negative Correlation":"Weak/No Correlation"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-blue-600",children:n.confidenceCorrelation.length}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data Points"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-green-600",children:n.confidenceCorrelation.filter(e=>e.pnl>0).length}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Profitable Days"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-purple-600",children:(n.confidenceCorrelation.reduce((e,t)=>e+t.confidence,0)/n.confidenceCorrelation.length).toFixed(1)}),(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Confidence"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[n.correlation>.5&&(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,t.jsx)(r.FiTrendingUp,{className:"w-5 h-5 text-green-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Strong Positive Correlation"}),(0,t.jsx)("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Higher confidence levels are associated with better trading performance"})]})]}),n.correlation<-.5&&(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,t.jsx)(r.FiTrendingDown,{className:"w-5 h-5 text-red-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-red-800 dark:text-red-200",children:"Negative Correlation Detected"}),(0,t.jsx)("div",{className:"text-sm text-red-700 dark:text-red-300",children:"Higher confidence may be leading to overconfidence and poorer results"})]})]}),.3>Math.abs(n.correlation)&&(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,t.jsx)(r.FiAlertTriangle,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Weak Correlation"}),(0,t.jsx)("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Confidence levels don't strongly predict trading performance"})]})]})]})]}),Object.keys(n.weeklyPatterns).length>0&&(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Weekly Confidence Patterns"}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-4",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(e=>{let a=n.weeklyPatterns[e],r=a?a.avgConfidence:0,s=a?a.count:0;return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e.slice(0,3)}),(0,t.jsxs)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-16 flex items-end justify-center relative",children:[(0,t.jsx)(tn.motion.div,{initial:{height:0},animate:{height:r>0?`${r/10*100}%`:"4px"},className:"w-6 bg-gradient-to-t from-blue-500 to-blue-400 rounded-t"}),s>0&&(0,t.jsx)("div",{className:"absolute -top-6 text-xs text-gray-600 dark:text-gray-400",children:s})]}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:r>0?r.toFixed(1):"-"})]},e)})}),(0,t.jsx)("div",{className:"text-center mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Numbers show journal entries count for each day"})]})]}):(0,t.jsxs)(i.default,{className:"p-8 text-center",children:[(0,t.jsx)(r.FiActivity,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Behavioral Data Available"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Start journaling and recording emotional states in trades to see behavioral insights"})]})},tc=({trades:e,detailed:s=!1})=>{let n=(0,a.useMemo)(()=>{if(0===e.length)return{totalTrades:0,winCount:0,lossCount:0,breakEvenCount:0,winRate:0,totalPnL:0,avgWin:0,avgLoss:0,largestWin:0,largestLoss:0,expectancy:0,profitFactor:0,consecutiveWins:0,consecutiveLosses:0,avgTradeDuration:0,bestPair:"",worstPair:"",bestSession:"",riskRewardRatio:0};let t=e.filter(e=>"closed"===e.status&&null!==e.profitLoss&&void 0!==e.profitLoss),a=t.filter(e=>e.profitLoss>0),r=t.filter(e=>e.profitLoss<0),s=t.filter(e=>0===e.profitLoss),i=t.reduce((e,t)=>e+(t.profitLoss||0),0),n=t.length>0?a.length/t.length*100:0,l=a.length>0?a.reduce((e,t)=>e+t.profitLoss,0)/a.length:0,o=r.length>0?r.reduce((e,t)=>e+t.profitLoss,0)/r.length:0,c=a.length>0?Math.max(...a.map(e=>e.profitLoss)):0,d=r.length>0?Math.min(...r.map(e=>e.profitLoss)):0,x=a.reduce((e,t)=>e+t.profitLoss,0),m=Math.abs(r.reduce((e,t)=>e+t.profitLoss,0)),h=0,g=0,u=0,p=0;for(let e of t)e.profitLoss>0?(p=0,h=Math.max(h,++u)):e.profitLoss<0?(u=0,g=Math.max(g,++p)):(u=0,p=0);let f=t.reduce((e,t)=>(e[t.pair]||(e[t.pair]={total:0,wins:0,losses:0,pnl:0}),e[t.pair].total++,e[t.pair].pnl+=t.profitLoss||0,t.profitLoss>0?e[t.pair].wins++:t.profitLoss<0&&e[t.pair].losses++,e),{}),y=Object.entries(f).sort(([,e],[,t])=>t.pnl-e.pnl)[0]?.[0]||"",j=Object.entries(f).sort(([,e],[,t])=>e.pnl-t.pnl)[0]?.[0]||"",b=t.reduce((e,t)=>{let a=t.session||"Unknown";return e[a]||(e[a]={total:0,wins:0,losses:0,pnl:0}),e[a].total++,e[a].pnl+=t.profitLoss||0,t.profitLoss>0?e[a].wins++:t.profitLoss<0&&e[a].losses++,e},{}),v=Object.entries(b).sort(([,e],[,t])=>t.pnl-e.pnl)[0]?.[0]||"",N=r.length>0&&0!==l?Math.abs(l/o):0;return{totalTrades:t.length,winCount:a.length,lossCount:r.length,breakEvenCount:s.length,winRate:n,totalPnL:i,avgWin:l,avgLoss:o,largestWin:c,largestLoss:d,expectancy:n>0&&0!==o?n/100*l+(100-n)/100*o:0,profitFactor:m>0?x/m:x>0?1/0:1,consecutiveWins:h,consecutiveLosses:g,avgTradeDuration:0,bestPair:y,worstPair:j,bestSession:v,riskRewardRatio:N}},[e]),l=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),o=e=>`${e.toFixed(1)}%`,c=({title:e,value:a,icon:s,color:n,trend:l})=>(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),(0,t.jsx)("p",{className:`text-2xl font-bold ${n}`,children:a})]}),(0,t.jsx)("div",{className:`p-3 rounded-full ${n.replace("text-","bg-").replace("-600","-100")} dark:${n.replace("text-","bg-").replace("-600","-900/20")}`,children:(0,t.jsx)(s,{className:`w-6 h-6 ${n}`})})]}),l&&(0,t.jsxs)("div",{className:"mt-2 flex items-center",children:["up"===l&&(0,t.jsx)(r.FiTrendingUp,{className:"w-4 h-4 text-green-500 mr-1"}),"down"===l&&(0,t.jsx)(r.FiTrendingDown,{className:"w-4 h-4 text-red-500 mr-1"}),(0,t.jsx)("span",{className:`text-sm ${"up"===l?"text-green-600":"down"===l?"text-red-600":"text-gray-600"}`,children:"up"===l?"Improving":"down"===l?"Declining":"Stable"})]})]});return 0===n.totalTrades?(0,t.jsxs)(i.default,{className:"p-8 text-center",children:[(0,t.jsx)(r.FiBarChart,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Performance Data"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete some trades to see your performance metrics"})]}):s?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(c,{title:"Total P&L",value:l(n.totalPnL),icon:n.totalPnL>=0?r.FiTrendingUp:r.FiTrendingDown,color:n.totalPnL>=0?"text-green-600":"text-red-600"}),(0,t.jsx)(c,{title:"Win Rate",value:o(n.winRate),icon:r.FiTarget,color:"text-blue-600"}),(0,t.jsx)(c,{title:"Profit Factor",value:n.profitFactor===1/0?"∞":n.profitFactor.toFixed(2),icon:r.FiAward,color:n.profitFactor>=1.5?"text-green-600":"text-orange-600"}),(0,t.jsx)(c,{title:"Expectancy",value:l(n.expectancy),icon:r.FiDollarSign,color:n.expectancy>=0?"text-green-600":"text-red-600"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trade Statistics"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Trades"}),(0,t.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:n.totalTrades})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Winning Trades"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:n.winCount})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Losing Trades"}),(0,t.jsx)("span",{className:"font-semibold text-red-600",children:n.lossCount})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Break-even Trades"}),(0,t.jsx)("span",{className:"font-semibold text-gray-600",children:n.breakEvenCount})]})]})]}),(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"P&L Breakdown"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Average Win"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:l(n.avgWin)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Average Loss"}),(0,t.jsx)("span",{className:"font-semibold text-red-600",children:l(n.avgLoss)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Largest Win"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:l(n.largestWin)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Largest Loss"}),(0,t.jsx)("span",{className:"font-semibold text-red-600",children:l(n.largestLoss)})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Insights"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Risk-Reward Ratio"}),(0,t.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:[n.riskRewardRatio.toFixed(2),":1"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Consecutive Wins"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:n.consecutiveWins})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Consecutive Losses"}),(0,t.jsx)("span",{className:"font-semibold text-red-600",children:n.consecutiveLosses})]}),n.bestPair&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Best Performing Pair"}),(0,t.jsx)("span",{className:"font-semibold text-green-600",children:n.bestPair})]}),n.bestSession&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Best Session"}),(0,t.jsx)("span",{className:"font-semibold text-blue-600",children:n.bestSession})]})]})]}),(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Health"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Win Rate Health"}),(0,t.jsx)("span",{className:`font-medium ${n.winRate>=60?"text-green-600":n.winRate>=50?"text-yellow-600":"text-red-600"}`,children:n.winRate>=60?"Excellent":n.winRate>=50?"Good":"Needs Work"})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)(tn.motion.div,{initial:{width:0},animate:{width:`${Math.min(n.winRate,100)}%`},className:`h-2 rounded-full ${n.winRate>=60?"bg-green-500":n.winRate>=50?"bg-yellow-500":"bg-red-500"}`})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Profit Factor Health"}),(0,t.jsx)("span",{className:`font-medium ${n.profitFactor>=2?"text-green-600":n.profitFactor>=1.5?"text-yellow-600":"text-red-600"}`,children:n.profitFactor>=2?"Excellent":n.profitFactor>=1.5?"Good":"Needs Work"})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)(tn.motion.div,{initial:{width:0},animate:{width:`${Math.min(n.profitFactor/3*100,100)}%`},className:`h-2 rounded-full ${n.profitFactor>=2?"bg-green-500":n.profitFactor>=1.5?"bg-yellow-500":"bg-red-500"}`})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Risk-Reward Health"}),(0,t.jsx)("span",{className:`font-medium ${n.riskRewardRatio>=2?"text-green-600":n.riskRewardRatio>=1.5?"text-yellow-600":"text-red-600"}`,children:n.riskRewardRatio>=2?"Excellent":n.riskRewardRatio>=1.5?"Good":"Needs Work"})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)(tn.motion.div,{initial:{width:0},animate:{width:`${Math.min(n.riskRewardRatio/3*100,100)}%`},className:`h-2 rounded-full ${n.riskRewardRatio>=2?"bg-green-500":n.riskRewardRatio>=1.5?"bg-yellow-500":"bg-red-500"}`})})]})]})]})]})]}):(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(c,{title:"Total P&L",value:l(n.totalPnL),icon:n.totalPnL>=0?r.FiTrendingUp:r.FiTrendingDown,color:n.totalPnL>=0?"text-green-600":"text-red-600",trend:n.totalPnL>=0?"up":"down"}),(0,t.jsx)(c,{title:"Win Rate",value:o(n.winRate),icon:r.FiTarget,color:"text-blue-600",trend:n.winRate>=50?"up":"down"}),(0,t.jsx)(c,{title:"Profit Factor",value:n.profitFactor===1/0?"∞":n.profitFactor.toFixed(2),icon:r.FiAward,color:n.profitFactor>=1.5?"text-green-600":"text-orange-600",trend:n.profitFactor>=1.5?"up":"down"}),(0,t.jsx)(c,{title:"Total Trades",value:n.totalTrades,icon:r.FiActivity,color:"text-purple-600"})]})};var td=e.i(9876),tx=e.i(5766);function tm(){let{theme:e,toggleTheme:n}=(0,td.useTheme)(),[l]=(0,a.useState)(()=>!0),[o,c]=(0,a.useState)("overview"),[d,x]=(0,a.useState)([]),[m,h]=(0,a.useState)([]),[g,u]=(0,a.useState)([]),[p,f]=(0,a.useState)(!0),[y,j]=(0,a.useState)(null),[b,v]=(0,a.useState)({start:null,end:null}),[N,w]=(0,a.useState)({strategyId:"",pair:"",session:"",emotionalState:""});(0,a.useEffect)(()=>{l&&k()},[l]);let k=async()=>{try{f(!0),j(null);let e=await fetch("/api/trades",{headers:{"x-user-id":"demo-user"}});if(!e.ok)throw Error("Failed to load trades");let t=await e.json();x(Array.isArray(t)?t:[]);let a=await fetch("/api/strategies",{headers:{"x-user-id":"demo-user"}});if(a.ok){let e=await a.json();h(Array.isArray(e)?e:[])}let r=await fetch("/api/journal",{headers:{"x-user-id":"demo-user"}});if(r.ok){let e=await r.json();u(Array.isArray(e)?e:[])}}catch(e){console.error("Error loading analytics data:",e),j("Failed to load analytics data")}finally{f(!1)}},P=d.filter(e=>(!N.strategyId||e.strategyId===N.strategyId)&&(!N.pair||e.pair===N.pair)&&(!N.session||e.session===N.session)&&(!N.emotionalState||e.emotionalState===N.emotionalState)),S=[{id:"overview",label:"Overview",icon:r.FiBarChart},{id:"performance",label:"Performance",icon:r.FiTrendingUp},{id:"strategies",label:"Strategies",icon:r.FiTarget},{id:"behavioral",label:"Behavioral",icon:r.FiZap}];return l?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,t.jsx)(s.default,{onThemeToggle:n,currentTheme:e}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Comprehensive trading performance, strategy analysis, and behavioral insights"})]}),(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([JSON.stringify({trades:P,strategies:m,journalEntries:g,filters:N,dateRange:b,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=`trading-analytics-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t),tx.default.success("Analytics data exported")},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(r.FiDownload,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Export Data"})]})]})}),(0,t.jsx)(i.default,{className:"p-1 mb-6",children:(0,t.jsx)("div",{className:"flex space-x-1",children:S.map(e=>{let a=e.icon;return(0,t.jsxs)("button",{onClick:()=>c(e.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${o===e.id?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[(0,t.jsx)(a,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:e.label})]},e.id)})})}),(0,t.jsx)(i.default,{className:"p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(r.FiFilter,{className:"w-5 h-5 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filters:"}),(0,t.jsxs)("select",{value:N.strategyId,onChange:e=>w(t=>({...t,strategyId:e.target.value})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[(0,t.jsx)("option",{value:"",children:"All Strategies"}),m.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsxs)("select",{value:N.pair,onChange:e=>w(t=>({...t,pair:e.target.value})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[(0,t.jsx)("option",{value:"",children:"All Pairs"}),[...new Set(d.map(e=>e.pair))].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:N.session,onChange:e=>w(t=>({...t,session:e.target.value})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[(0,t.jsx)("option",{value:"",children:"All Sessions"}),[...new Set(d.map(e=>e.session).filter(Boolean))].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:N.emotionalState,onChange:e=>w(t=>({...t,emotionalState:e.target.value})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[(0,t.jsx)("option",{value:"",children:"All Emotions"}),[...new Set(d.map(e=>e.emotionalState).filter(Boolean))].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})}),y&&(0,t.jsx)(i.default,{className:"p-4 mb-6 border-red-200 dark:border-red-800",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 dark:text-red-400",children:[(0,t.jsx)(r.FiTrendingDown,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:y})]})}),p?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,t.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading analytics..."})]}):(0,t.jsxs)(t.Fragment,{children:["overview"===o&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(tc,{trades:P}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Charts"}),(0,t.jsx)(tr,{trades:P,startDate:b.start,endDate:b.end})]}),(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Heatmap"}),(0,t.jsx)(ts,{trades:P,onSelectRange:e=>v(e)})]})]}),(0,t.jsxs)(i.default,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Monthly Performance"}),(0,t.jsx)(ti,{trades:P})]})]}),"performance"===o&&(0,t.jsx)(tc,{trades:P,detailed:!0}),"strategies"===o&&(0,t.jsx)(tl,{trades:P,strategies:m}),"behavioral"===o&&(0,t.jsx)(to,{trades:P,journalEntries:g})]})]}),(0,t.jsx)(tx.Toaster,{position:"bottom-right"})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900"})}e.s(["default",()=>tm],96673)}]);